import{A as Ub,B as Io,C as cr,a as de,b as vt,c as hy,d as le,e as C2,f as fy,g as G,h as Rb,i as Ch,j as Nb,k as Ob,l as kb,m as py,n as Vb,o as eu,p as my,q as bh,r as Lb,s as Bb,t as gy,u as kt,v as Fs,w as pi,x as Dh,y as tu,z as jb}from"./chunk-7HGPT5RY.js";var yR=le((Qd,Yd)=>{(function(){var t,e,n,r,i,o,s,a,l,u,d,f,g,x,P,N,V,z,ee,R,Z,Ee,fe,S,D,T,O,L,B,M,pn,Or,ge,we,be,Le,Rt,Bn,Tt,Et,wt,kr,xs,Ct,gr,mn,yr,ar,Vr,vo,Oa,Ue,zc,Gc,uh,Hc,Zt,ka,Wc,dh,Va,La,Ba,cn,un,_o,ja,Kc,hh,Eo,Cs,bs,Ua,jn,fh,$i,Un,$a,tt,ft,vr,_r,Ds,Dn=[].slice;tt=function(){var p,y,v,_,w;for(p={},w="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),_=0,y=w.length;_<y;_++)v=w[_],p["[object "+v+"]"]=v.toLowerCase();return function(I){var A;return A=Object.prototype.toString.call(I),p[A]||"object"}}(),ar=function(p,y,v){return y==null&&(y=0),v==null&&(v=1),p<y&&(p=y),p>v&&(p=v),p},ft=function(p){return p.length>=3?Array.prototype.slice.call(p):p[0]},Z=function(p){var y,v;for(p._clipped=!1,p._unclipped=p.slice(0),y=v=0;v<3;y=++v)y<3?((p[y]<0||p[y]>255)&&(p._clipped=!0),p[y]<0&&(p[y]=0),p[y]>255&&(p[y]=255)):y===3&&(p[y]<0&&(p[y]=0),p[y]>1&&(p[y]=1));return p._clipped||delete p._unclipped,p},r=Math.PI,jn=Math.round,S=Math.cos,B=Math.floor,Zt=Math.pow,Vr=Math.log,$i=Math.sin,Un=Math.sqrt,x=Math.atan2,Ue=Math.max,g=Math.abs,s=r*2,i=r/3,e=r/180,o=180/r,R=function(){return arguments[0]instanceof t?arguments[0]:function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,arguments,function(){})},R.default=R,f=[],typeof Yd<"u"&&Yd!==null&&Yd.exports!=null&&(Yd.exports=R),typeof define=="function"&&define.amd?define([],function(){return R}):(Ua=typeof Qd<"u"&&Qd!==null?Qd:this,Ua.chroma=R),R.version="1.4.1",d={},l=[],u=!1,t=function(){function p(){var y,v,_,w,I,A,k,H,K;for(A=this,v=[],H=0,w=arguments.length;H<w;H++)y=arguments[H],y!=null&&v.push(y);if(v.length>1&&(k=v[v.length-1]),d[k]!=null)A._rgb=Z(d[k](ft(v.slice(0,-1))));else{for(u||(l=l.sort(function(ne,Te){return Te.p-ne.p}),u=!0),K=0,I=l.length;K<I&&(_=l[K],k=_.test.apply(_,v),!k);K++);k&&(A._rgb=Z(d[k].apply(d,v)))}A._rgb==null&&console.warn("unknown format: "+v),A._rgb==null&&(A._rgb=[0,0,0]),A._rgb.length===3&&A._rgb.push(1)}return p.prototype.toString=function(){return this.hex()},p}(),R._input=d;R.brewer=z={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var p,y;y=[];for(p in z)y.push(z[p.toLowerCase()]=z[p]);return y}(),vr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},R.colors=fe=vr,xs=function(){var p,y,v,_,w,I,A,k,H;return y=ft(arguments),w=y[0],p=y[1],v=y[2],k=(w+16)/116,A=isNaN(p)?k:k+p/500,H=isNaN(v)?k:k-v/200,k=n.Yn*Ct(k),A=n.Xn*Ct(A),H=n.Zn*Ct(H),I=Ds(3.2404542*A-1.5371385*k-.4985314*H),_=Ds(-.969266*A+1.8760108*k+.041556*H),v=Ds(.0556434*A-.2040259*k+1.0572252*H),[I,_,v,y.length>3?y[3]:1]},Ds=function(p){return 255*(p<=.00304?12.92*p:1.055*Zt(p,1/2.4)-.055)},Ct=function(p){return p>n.t1?p*p*p:n.t2*(p-n.t0)},n={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},un=function(){var p,y,v,_,w,I,A,k;return _=ft(arguments),v=_[0],y=_[1],p=_[2],w=Eo(v,y,p),I=w[0],A=w[1],k=w[2],[116*A-16,500*(I-A),200*(A-k)]},Cs=function(p){return(p/=255)<=.04045?p/12.92:Zt((p+.055)/1.055,2.4)},_r=function(p){return p>n.t3?Zt(p,1/3):p/n.t2+n.t0},Eo=function(){var p,y,v,_,w,I,A;return _=ft(arguments),v=_[0],y=_[1],p=_[2],v=Cs(v),y=Cs(y),p=Cs(p),w=_r((.4124564*v+.3575761*y+.1804375*p)/n.Xn),I=_r((.2126729*v+.7151522*y+.072175*p)/n.Yn),A=_r((.0193339*v+.119192*y+.9503041*p)/n.Zn),[w,I,A]},R.lab=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["lab"]),function(){})},d.lab=xs,t.prototype.lab=function(){return un(this._rgb)},P=function(p){var y,v,_,w,I,A,k,H,K,ne,Te;return p=function(){var re,Y,ye;for(ye=[],Y=0,re=p.length;Y<re;Y++)w=p[Y],ye.push(R(w));return ye}(),p.length===2?(K=function(){var re,Y,ye;for(ye=[],Y=0,re=p.length;Y<re;Y++)w=p[Y],ye.push(w.lab());return ye}(),I=K[0],A=K[1],y=function(re){var Y,ye;return ye=function(){var _e,De;for(De=[],Y=_e=0;_e<=2;Y=++_e)De.push(I[Y]+re*(A[Y]-I[Y]));return De}(),R.lab.apply(R,ye)}):p.length===3?(ne=function(){var re,Y,ye;for(ye=[],Y=0,re=p.length;Y<re;Y++)w=p[Y],ye.push(w.lab());return ye}(),I=ne[0],A=ne[1],k=ne[2],y=function(re){var Y,ye;return ye=function(){var _e,De;for(De=[],Y=_e=0;_e<=2;Y=++_e)De.push((1-re)*(1-re)*I[Y]+2*(1-re)*re*A[Y]+re*re*k[Y]);return De}(),R.lab.apply(R,ye)}):p.length===4?(Te=function(){var re,Y,ye;for(ye=[],Y=0,re=p.length;Y<re;Y++)w=p[Y],ye.push(w.lab());return ye}(),I=Te[0],A=Te[1],k=Te[2],H=Te[3],y=function(re){var Y,ye;return ye=function(){var _e,De;for(De=[],Y=_e=0;_e<=2;Y=++_e)De.push((1-re)*(1-re)*(1-re)*I[Y]+3*(1-re)*(1-re)*re*A[Y]+3*(1-re)*re*re*k[Y]+re*re*re*H[Y]);return De}(),R.lab.apply(R,ye)}):p.length===5&&(v=P(p.slice(0,3)),_=P(p.slice(2,5)),y=function(re){return re<.5?v(re*2):_((re-.5)*2)}),y},R.bezier=function(p){var y;return y=P(p),y.scale=function(){return R.scale(y)},y},R.cubehelix=function(p,y,v,_,w){var I,A,k;return p==null&&(p=300),y==null&&(y=-1.5),v==null&&(v=1),_==null&&(_=1),w==null&&(w=[0,1]),I=0,tt(w)==="array"?A=w[1]-w[0]:(A=0,w=[w,w]),k=function(H){var K,ne,Te,re,Y,ye,_e,De,Xe;return K=s*((p+120)/360+y*H),_e=Zt(w[0]+A*H,_),ye=I!==0?v[0]+H*I:v,ne=ye*_e*(1-_e)/2,re=S(K),Xe=$i(K),De=_e+ne*(-.14861*re+1.78277*Xe),Y=_e+ne*(-.29227*re-.90649*Xe),Te=_e+ne*(1.97294*re),R(Z([De*255,Y*255,Te*255,1]))},k.start=function(H){return H==null?p:(p=H,k)},k.rotations=function(H){return H==null?y:(y=H,k)},k.gamma=function(H){return H==null?_:(_=H,k)},k.hue=function(H){return H==null?v:(v=H,tt(v)==="array"?(I=v[1]-v[0],I===0&&(v=v[1])):I=0,k)},k.lightness=function(H){return H==null?w:(tt(H)==="array"?(w=H,A=H[1]-H[0]):(w=[H,H],A=0),k)},k.scale=function(){return R.scale(k)},k.hue(v),k},R.random=function(){var p,y,v,_;for(y="0123456789abcdef",p="#",v=_=0;_<6;v=++_)p+=y.charAt(B(Math.random()*16));return new t(p)},f=[],Le=function(p,y,v,_){var w,I,A,k;for(v==null&&(v=.5),_==null&&(_="rgb"),tt(p)!=="object"&&(p=R(p)),tt(y)!=="object"&&(y=R(y)),A=0,I=f.length;A<I;A++)if(w=f[A],_===w[0]){k=w[1](p,y,v,_);break}if(k==null)throw"color mode "+_+" is not supported";return k.alpha(p.alpha()+v*(y.alpha()-p.alpha()))},R.interpolate=Le,t.prototype.interpolate=function(p,y,v){return Le(this,p,y,v)},R.mix=Le,t.prototype.mix=t.prototype.interpolate,d.rgb=function(){var p,y,v,_;y=ft(arguments),v=[];for(p in y)_=y[p],v.push(_);return v},R.rgb=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(p){return p==null&&(p=!0),p?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},t.prototype.rgba=function(p){return p==null&&(p=!0),p?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},l.push({p:3,test:function(p){var y;if(y=ft(arguments),tt(y)==="array"&&y.length===3||y.length===4&&tt(y[3])==="number"&&y[3]>=0&&y[3]<=1)return"rgb"}}),d.lrgb=d.rgb,Tt=function(p,y,v,_){var w,I;return w=p._rgb,I=y._rgb,new t(Un(Zt(w[0],2)*(1-v)+Zt(I[0],2)*v),Un(Zt(w[1],2)*(1-v)+Zt(I[1],2)*v),Un(Zt(w[2],2)*(1-v)+Zt(I[2],2)*v),_)},a=function(p){var y,v,_,w,I,A;for(v=1/p.length,A=[0,0,0,0],w=0,_=p.length;w<_;w++)y=p[w],I=y._rgb,A[0]+=Zt(I[0],2)*v,A[1]+=Zt(I[1],2)*v,A[2]+=Zt(I[2],2)*v,A[3]+=I[3]*v;return A[0]=Un(A[0]),A[1]=Un(A[1]),A[2]=Un(A[2]),A[3]>1&&(A[3]=1),new t(Z(A))},f.push(["lrgb",Tt]),R.average=function(p,y){var v,_,w,I,A,k,H,K,ne,Te,re,Y,ye;if(y==null&&(y="rgb"),ne=p.length,p=p.map(function(_e){return R(_e)}),H=p.splice(0,1)[0],y==="lrgb")return a(p);Y=H.get(y),I=[],A=0,k=0;for(K in Y)Y[K]=Y[K]||0,I.push(isNaN(Y[K])?0:1),y.charAt(K)==="h"&&!isNaN(Y[K])&&(v=Y[K]/180*r,A+=S(v),k+=$i(v));for(_=H.alpha(),re=0,Te=p.length;re<Te;re++){w=p[re],ye=w.get(y),_+=w.alpha();for(K in Y)isNaN(ye[K])||(I[K]+=1,y.charAt(K)==="h"?(v=ye[K]/180*r,A+=S(v),k+=$i(v)):Y[K]+=ye[K])}for(K in Y)if(y.charAt(K)==="h"){for(v=x(k/I[K],A/I[K])/r*180;v<0;)v+=360;for(;v>=360;)v-=360;Y[K]=v}else Y[K]=Y[K]/I[K];return R(Y,y).alpha(_/ne)},pn=function(p){var y,v,_,w,I,A;if(p.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(p.length===4||p.length===7)&&(p=p.substr(1)),p.length===3&&(p=p.split(""),p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),A=parseInt(p,16),w=A>>16,_=A>>8&255,v=A&255,[w,_,v,1];if(p.match(/^#?([A-Fa-f0-9]{8})$/))return p.length===9&&(p=p.substr(1)),A=parseInt(p,16),w=A>>24&255,_=A>>16&255,v=A>>8&255,y=jn((A&255)/255*100)/100,[w,_,v,y];if(d.css!=null&&(I=d.css(p)))return I;throw"unknown color: "+p},Va=function(p,y){var v,_,w,I,A,k,H;return y==null&&(y="auto"),A=p[0],w=p[1],_=p[2],v=p[3],y==="auto"&&(y=v<1?"rgba":"rgb"),A=Math.round(A),w=Math.round(w),_=Math.round(_),H=A<<16|w<<8|_,k="000000"+H.toString(16),k=k.substr(k.length-6),I="0"+jn(v*255).toString(16),I=I.substr(I.length-2),"#"+function(){switch(y.toLowerCase()){case"rgba":return k+I;case"argb":return I+k;default:return k}}()},d.hex=function(p){return pn(p)},R.hex=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(p){return p==null&&(p="auto"),Va(this._rgb,p)},l.push({p:4,test:function(p){if(arguments.length===1&&tt(p)==="string")return"hex"}}),we=function(){var p,y,v,_,w,I,A,k,H,K,ne,Te,re,Y;if(p=ft(arguments),w=p[0],ne=p[1],A=p[2],ne===0)H=_=y=A*255;else{for(Y=[0,0,0],v=[0,0,0],re=A<.5?A*(1+ne):A+ne-A*ne,Te=2*A-re,w/=360,Y[0]=w+1/3,Y[1]=w,Y[2]=w-1/3,I=k=0;k<=2;I=++k)Y[I]<0&&(Y[I]+=1),Y[I]>1&&(Y[I]-=1),6*Y[I]<1?v[I]=Te+(re-Te)*6*Y[I]:2*Y[I]<1?v[I]=re:3*Y[I]<2?v[I]=Te+(re-Te)*(2/3-Y[I])*6:v[I]=Te;K=[jn(v[0]*255),jn(v[1]*255),jn(v[2]*255)],H=K[0],_=K[1],y=K[2]}return p.length>3?[H,_,y,p[3]]:[H,_,y]},Ba=function(p,y,v){var _,w,I,A,k;return p!==void 0&&p.length>=3&&(A=p,p=A[0],y=A[1],v=A[2]),p/=255,y/=255,v/=255,I=Math.min(p,y,v),Ue=Math.max(p,y,v),w=(Ue+I)/2,Ue===I?(k=0,_=Number.NaN):k=w<.5?(Ue-I)/(Ue+I):(Ue-I)/(2-Ue-I),p===Ue?_=(y-v)/(Ue-I):y===Ue?_=2+(v-p)/(Ue-I):v===Ue&&(_=4+(p-y)/(Ue-I)),_*=60,_<0&&(_+=360),[_,k,w]},R.hsl=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["hsl"]),function(){})},d.hsl=we,t.prototype.hsl=function(){return Ba(this._rgb)},be=function(){var p,y,v,_,w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De,Xe;if(p=ft(arguments),w=p[0],_e=p[1],Xe=p[2],Xe*=255,_e===0)H=_=y=Xe;else switch(w===360&&(w=0),w>360&&(w-=360),w<0&&(w+=360),w/=60,I=B(w),v=w-I,A=Xe*(1-_e),k=Xe*(1-_e*v),De=Xe*(1-_e*(1-v)),I){case 0:K=[Xe,De,A],H=K[0],_=K[1],y=K[2];break;case 1:ne=[k,Xe,A],H=ne[0],_=ne[1],y=ne[2];break;case 2:Te=[A,Xe,De],H=Te[0],_=Te[1],y=Te[2];break;case 3:re=[A,k,Xe],H=re[0],_=re[1],y=re[2];break;case 4:Y=[De,A,Xe],H=Y[0],_=Y[1],y=Y[2];break;case 5:ye=[Xe,A,k],H=ye[0],_=ye[1],y=ye[2]}return[H,_,y,p.length>3?p[3]:1]},cn=function(){var p,y,v,_,w,I,A,k,H;return A=ft(arguments),I=A[0],v=A[1],p=A[2],w=Math.min(I,v,p),Ue=Math.max(I,v,p),y=Ue-w,H=Ue/255,Ue===0?(_=Number.NaN,k=0):(k=y/Ue,I===Ue&&(_=(v-p)/y),v===Ue&&(_=2+(p-I)/y),p===Ue&&(_=4+(I-v)/y),_*=60,_<0&&(_+=360)),[_,k,H]},R.hsv=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["hsv"]),function(){})},d.hsv=be,t.prototype.hsv=function(){return cn(this._rgb)},uh=function(p){var y,v,_;return tt(p)==="number"&&p>=0&&p<=16777215?(_=p>>16,v=p>>8&255,y=p&255,[_,v,y,1]):(console.warn("unknown num color: "+p),[0,0,0,1])},Kc=function(){var p,y,v,_;return _=ft(arguments),v=_[0],y=_[1],p=_[2],(v<<16)+(y<<8)+p},R.num=function(p){return new t(p,"num")},t.prototype.num=function(p){return p==null&&(p="rgb"),Kc(this._rgb,p)},d.num=uh,l.push({p:1,test:function(p){if(arguments.length===1&&tt(p)==="number"&&p>=0&&p<=16777215)return"num"}}),M=function(){var p,y,v,_,w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De,Xe,Ut,Ae;if(v=ft(arguments),k=v[0],w=v[1],y=v[2],w=w/100,A=A/100*255,p=w*255,w===0)Te=A=_=y;else switch(k===360&&(k=0),k>360&&(k-=360),k<0&&(k+=360),k/=60,H=B(k),I=k-H,K=y*(1-w),ne=K+p*(1-I),Ut=K+p*I,Ae=K+p,H){case 0:re=[Ae,Ut,K],Te=re[0],A=re[1],_=re[2];break;case 1:Y=[ne,Ae,K],Te=Y[0],A=Y[1],_=Y[2];break;case 2:ye=[K,Ae,Ut],Te=ye[0],A=ye[1],_=ye[2];break;case 3:_e=[K,ne,Ae],Te=_e[0],A=_e[1],_=_e[2];break;case 4:De=[Ut,K,Ae],Te=De[0],A=De[1],_=De[2];break;case 5:Xe=[Ae,K,ne],Te=Xe[0],A=Xe[1],_=Xe[2]}return[Te,A,_,v.length>3?v[3]:1]},dh=function(){var p,y,v,_,w,I,A,k,H;return H=ft(arguments),k=H[0],w=H[1],y=H[2],A=Math.min(k,w,y),Ue=Math.max(k,w,y),_=Ue-A,v=_*100/255,p=A/(255-_)*100,_===0?I=Number.NaN:(k===Ue&&(I=(w-y)/_),w===Ue&&(I=2+(y-k)/_),y===Ue&&(I=4+(k-w)/_),I*=60,I<0&&(I+=360)),[I,v,p]},R.hcg=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["hcg"]),function(){})},d.hcg=M,t.prototype.hcg=function(){return dh(this._rgb)},D=function(p){var y,v,_,w,I,A,k,H;if(p=p.toLowerCase(),R.colors!=null&&R.colors[p])return pn(R.colors[p]);if(I=p.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(k=I.slice(1,4),w=A=0;A<=2;w=++A)k[w]=+k[w];k[3]=1}else if(I=p.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(k=I.slice(1,5),w=H=0;H<=3;w=++H)k[w]=+k[w];else if(I=p.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(k=I.slice(1,4),w=y=0;y<=2;w=++y)k[w]=jn(k[w]*2.55);k[3]=1}else if(I=p.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(k=I.slice(1,5),w=v=0;v<=2;w=++v)k[w]=jn(k[w]*2.55);k[3]=+k[3]}else(I=p.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(_=I.slice(1,4),_[1]*=.01,_[2]*=.01,k=we(_),k[3]=1):(I=p.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(_=I.slice(1,4),_[1]*=.01,_[2]*=.01,k=we(_),k[3]=+I[4]);return k},Wc=function(p){var y;if(y=p[3]<1?"rgba":"rgb",y==="rgb")return y+"("+p.slice(0,3).map(jn).join(",")+")";if(y==="rgba")return y+"("+p.slice(0,3).map(jn).join(",")+","+p[3]+")"},bs=function(p){return jn(p*100)/100},ge=function(p,y){var v;return v=y<1?"hsla":"hsl",p[0]=bs(p[0]||0),p[1]=bs(p[1]*100)+"%",p[2]=bs(p[2]*100)+"%",v==="hsla"&&(p[3]=y),v+"("+p.join(",")+")"},d.css=function(p){return D(p)},R.css=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(p){if(p==null&&(p="rgb"),p.slice(0,3)==="rgb")return Wc(this._rgb);if(p.slice(0,3)==="hsl")return ge(this.hsl(),this.alpha())},d.named=function(p){return pn(vr[p])},l.push({p:5,test:function(p){if(arguments.length===1&&vr[p]!=null)return"named"}}),t.prototype.name=function(p){var y,v;arguments.length&&(vr[p]&&(this._rgb=pn(vr[p])),this._rgb[3]=1),y=this.hex("rgb");for(v in vr)if(y===vr[v])return v;return y},gr=function(){var p,y,v,_;return _=ft(arguments),v=_[0],p=_[1],y=_[2],y=y*e,[v,S(y)*p,$i(y)*p]},mn=function(){var p,y,v,_,w,I,A,k,H,K,ne;return v=ft(arguments),k=v[0],w=v[1],A=v[2],K=gr(k,w,A),p=K[0],y=K[1],_=K[2],ne=xs(p,y,_),H=ne[0],I=ne[1],_=ne[2],[H,I,_,v.length>3?v[3]:1]},kr=function(){var p,y,v,_,w,I;return I=ft(arguments),w=I[0],p=I[1],y=I[2],v=Un(p*p+y*y),_=(x(y,p)*o+360)%360,jn(v*1e4)===0&&(_=Number.NaN),[w,v,_]},_o=function(){var p,y,v,_,w,I,A;return I=ft(arguments),w=I[0],v=I[1],y=I[2],A=un(w,v,y),_=A[0],p=A[1],y=A[2],kr(_,p,y)},R.lch=function(){var p;return p=ft(arguments),new t(p,"lch")},R.hcl=function(){var p;return p=ft(arguments),new t(p,"hcl")},d.lch=mn,d.hcl=function(){var p,y,v,_;return _=ft(arguments),y=_[0],p=_[1],v=_[2],mn([v,p,y])},t.prototype.lch=function(){return _o(this._rgb)},t.prototype.hcl=function(){return _o(this._rgb).reverse()},ka=function(p){var y,v,_,w,I,A,k,H,K;return p==null&&(p="rgb"),H=ft(arguments),k=H[0],w=H[1],y=H[2],k=k/255,w=w/255,y=y/255,I=1-Math.max(k,Math.max(w,y)),_=I<1?1/(1-I):0,v=(1-k-I)*_,A=(1-w-I)*_,K=(1-y-I)*_,[v,A,K,I]},Ee=function(){var p,y,v,_,w,I,A,k,H;return y=ft(arguments),_=y[0],A=y[1],H=y[2],I=y[3],p=y.length>4?y[4]:1,I===1?[0,0,0,p]:(k=_>=1?0:255*(1-_)*(1-I),w=A>=1?0:255*(1-A)*(1-I),v=H>=1?0:255*(1-H)*(1-I),[k,w,v,p])},d.cmyk=function(){return Ee(ft(arguments))},R.cmyk=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return ka(this._rgb)},d.gl=function(){var p,y,v,_,w;for(_=(function(){var I,A;I=ft(arguments),A=[];for(y in I)w=I[y],A.push(w);return A}).apply(this,arguments),p=v=0;v<=2;p=++v)_[p]*=255;return _},R.gl=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var p;return p=this._rgb,[p[0]/255,p[1]/255,p[2]/255,p[3]]},ja=function(p,y,v){var _;return _=ft(arguments),p=_[0],y=_[1],v=_[2],p=vo(p),y=vo(y),v=vo(v),.2126*p+.7152*y+.0722*v},vo=function(p){return p/=255,p<=.03928?p/12.92:Zt((p+.055)/1.055,2.4)},wt=function(p,y,v,_){var w,I;return w=p._rgb,I=y._rgb,new t(w[0]+v*(I[0]-w[0]),w[1]+v*(I[1]-w[1]),w[2]+v*(I[2]-w[2]),_)},f.push(["rgb",wt]),t.prototype.luminance=function(p,y){var v,_,w,I,A;return y==null&&(y="rgb"),arguments.length?(I=this._rgb,p===0?I=[0,0,0,this._rgb[3]]:p===1?I=[255,255,255,this[3]]:(v=ja(this._rgb),_=1e-7,w=20,A=function(k,H){var K,ne;return ne=k.interpolate(H,.5,y),K=ne.luminance(),Math.abs(p-K)<_||!w--?ne:K>p?A(k,ne):A(ne,H)},v>p?I=A(R("black"),this).rgba():I=A(this,R("white")).rgba()),R(I).alpha(this.alpha())):ja(this._rgb)},$a=function(p){var y,v,_,w;return w=p/100,w<66?(_=255,v=-155.25485562709179-.44596950469579133*(v=w-2)+104.49216199393888*Vr(v),y=w<20?0:-254.76935184120902+.8274096064007395*(y=w-10)+115.67994401066147*Vr(y)):(_=351.97690566805693+.114206453784165*(_=w-55)-40.25366309332127*Vr(_),v=325.4494125711974+.07943456536662342*(v=w-50)-28.0852963507957*Vr(v),y=255),[_,v,y]},hh=function(){var p,y,v,_,w,I,A,k,H;for(A=ft(arguments),I=A[0],v=A[1],p=A[2],w=1e3,_=4e4,y=.4;_-w>y;)H=(_+w)*.5,k=$a(H),k[2]/k[0]>=p/I?_=H:w=H;return jn(H)},R.temperature=R.kelvin=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=$a,t.prototype.temperature=function(){return hh(this._rgb)},t.prototype.kelvin=t.prototype.temperature,R.contrast=function(p,y){var v,_,w,I;return((w=tt(p))==="string"||w==="number")&&(p=new t(p)),((I=tt(y))==="string"||I==="number")&&(y=new t(y)),v=p.luminance(),_=y.luminance(),v>_?(v+.05)/(_+.05):(_+.05)/(v+.05)},R.distance=function(p,y,v){var _,w,I,A,k,H,K;v==null&&(v="lab"),((k=tt(p))==="string"||k==="number")&&(p=new t(p)),((H=tt(y))==="string"||H==="number")&&(y=new t(y)),I=p.get(v),A=y.get(v),K=0;for(w in I)_=(I[w]||0)-(A[w]||0),K+=_*_;return Math.sqrt(K)},R.deltaE=function(p,y,v,_){var w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De,Xe,Ut,Ae,$n,In,Be,nt,Xt,W,ve,Pe,Re,Ne,Qe;for(v==null&&(v=1),_==null&&(_=1),(($n=tt(p))==="string"||$n==="number")&&(p=new t(p)),((In=tt(y))==="string"||In==="number")&&(y=new t(y)),Be=p.lab(),w=Be[0],A=Be[1],H=Be[2],nt=y.lab(),I=nt[0],k=nt[1],K=nt[2],ne=Un(A*A+H*H),Te=Un(k*k+K*K),ve=w<16?.511:.040975*w/(1+.01765*w),Xt=.0638*ne/(1+.0131*ne)+.638,Ae=ne<1e-6?0:x(H,A)*180/r;Ae<0;)Ae+=360;for(;Ae>=360;)Ae-=360;return Pe=Ae>=164&&Ae<=345?.56+g(.2*S(r*(Ae+168)/180)):.36+g(.4*S(r*(Ae+35)/180)),re=ne*ne*ne*ne,Ut=Un(re/(re+1900)),W=Xt*(Ut*Pe+1-Ut),Xe=w-I,De=ne-Te,ye=A-k,_e=H-K,Y=ye*ye+_e*_e-De*De,Re=Xe/(v*ve),Ne=De/(_*Xt),Qe=W,Un(Re*Re+Ne*Ne+Y/(Qe*Qe))},t.prototype.get=function(p){var y,v,_,w,I,A;return _=this,I=p.split("."),w=I[0],y=I[1],A=_[w](),y?(v=w.indexOf(y),v>-1?A[v]:console.warn("unknown channel "+y+" in mode "+w)):A},t.prototype.set=function(p,y){var v,_,w,I,A,k;if(w=this,A=p.split("."),I=A[0],v=A[1],v)if(k=w[I](),_=I.indexOf(v),_>-1)if(tt(y)==="string")switch(y.charAt(0)){case"+":k[_]+=+y;break;case"-":k[_]+=+y;break;case"*":k[_]*=+y.substr(1);break;case"/":k[_]/=+y.substr(1);break;default:k[_]=+y}else k[_]=y;else console.warn("unknown channel "+v+" in mode "+I);else k=y;return R(k,I).alpha(w.alpha())},t.prototype.clipped=function(){return this._rgb._clipped||!1},t.prototype.alpha=function(p){return arguments.length?R.rgb([this._rgb[0],this._rgb[1],this._rgb[2],p]):this._rgb[3]},t.prototype.darken=function(p){var y,v;return p==null&&(p=1),v=this,y=v.lab(),y[0]-=n.Kn*p,R.lab(y).alpha(v.alpha())},t.prototype.brighten=function(p){return p==null&&(p=1),this.darken(-p)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(p){var y,v;return p==null&&(p=1),v=this,y=v.lch(),y[1]+=p*n.Kn,y[1]<0&&(y[1]=0),R.lch(y).alpha(v.alpha())},t.prototype.desaturate=function(p){return p==null&&(p=1),this.saturate(-p)},t.prototype.premultiply=function(){var p,y;return y=this.rgb(),p=this.alpha(),R(y[0]*p,y[1]*p,y[2]*p,p)},N=function(p,y,v){if(!N[v])throw"unknown blend mode "+v;return N[v](p,y)},V=function(p){return function(y,v){var _,w;return _=R(v).rgb(),w=R(y).rgb(),R(p(_,w),"rgb")}},L=function(p){return function(y,v){var _,w,I;for(I=[],_=w=0;w<=3;_=++w)I[_]=p(y[_],v[_]);return I}},Gc=function(p,y){return p},zc=function(p,y){return p*y/255},T=function(p,y){return p>y?y:p},yr=function(p,y){return p>y?p:y},fh=function(p,y){return 255*(1-(1-p/255)*(1-y/255))},Hc=function(p,y){return y<128?2*p*y/255:255*(1-2*(1-p/255)*(1-y/255))},ee=function(p,y){return 255*(1-(1-y/255)/(p/255))},O=function(p,y){return p===255||(p=255*(y/255)/(1-p/255),p>255)?255:p},N.normal=V(L(Gc)),N.multiply=V(L(zc)),N.screen=V(L(fh)),N.overlay=V(L(Hc)),N.darken=V(L(T)),N.lighten=V(L(yr)),N.dodge=V(L(O)),N.burn=V(L(ee)),R.blend=N,R.analyze=function(p){var y,v,_,w;for(_={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},v=0,y=p.length;v<y;v++)w=p[v],w!=null&&!isNaN(w)&&(_.values.push(w),_.sum+=w,w<_.min&&(_.min=w),w>_.max&&(_.max=w),_.count+=1);return _.domain=[_.min,_.max],_.limits=function(I,A){return R.limits(_,I,A)},_},R.scale=function(p,y){var v,_,w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De,Xe,Ut,Ae,$n,In,Be,nt,Xt;return Te="rgb",re=R("#ccc"),De=0,k=!1,A=[0,1],_e=[],ye=[0,0],v=!1,w=[],Y=!1,ne=0,K=1,I=!1,_={},Xe=!0,H=1,nt=function(W){var ve,Pe,Re,Ne,Qe,at;if(W==null&&(W=["#fff","#000"]),W!=null&&tt(W)==="string"&&R.brewer!=null&&(W=R.brewer[W]||R.brewer[W.toLowerCase()]||W),tt(W)==="array"){for(W.length===1&&(W=[W[0],W[0]]),W=W.slice(0),ve=Re=0,Ne=W.length-1;0<=Ne?Re<=Ne:Re>=Ne;ve=0<=Ne?++Re:--Re)Pe=W[ve],tt(Pe)==="string"&&(W[ve]=R(Pe));for(_e.length=0,ve=at=0,Qe=W.length-1;0<=Qe?at<=Qe:at>=Qe;ve=0<=Qe?++at:--at)_e.push(ve/(W.length-1))}return Be(),w=W},$n=function(W){var ve,Pe;if(v!=null){for(Pe=v.length-1,ve=0;ve<Pe&&W>=v[ve];)ve++;return ve-1}return 0},Xt=function(W){return W},Ut=function(W){var ve,Pe,Re,Ne,Qe;return Qe=W,v.length>2&&(Ne=v.length-1,ve=$n(W),Re=v[0]+(v[1]-v[0])*(0+De*.5),Pe=v[Ne-1]+(v[Ne]-v[Ne-1])*(1-De*.5),Qe=ne+(v[ve]+(v[ve+1]-v[ve])*.5-Re)/(Pe-Re)*(K-ne)),Qe},In=function(W,ve){var Pe,Re,Ne,Qe,at,rt,Wt,We;if(ve==null&&(ve=!1),isNaN(W)||W===null)return re;if(ve?We=W:v&&v.length>2?(Pe=$n(W),We=Pe/(v.length-2)):K!==ne?We=(W-ne)/(K-ne):We=1,ve||(We=Xt(We)),H!==1&&(We=Zt(We,H)),We=ye[0]+We*(1-ye[0]-ye[1]),We=Math.min(1,Math.max(0,We)),Qe=Math.floor(We*1e4),Xe&&_[Qe])Re=_[Qe];else{if(tt(w)==="array")for(Ne=at=0,Wt=_e.length-1;0<=Wt?at<=Wt:at>=Wt;Ne=0<=Wt?++at:--at){if(rt=_e[Ne],We<=rt){Re=w[Ne];break}if(We>=rt&&Ne===_e.length-1){Re=w[Ne];break}if(We>rt&&We<_e[Ne+1]){We=(We-rt)/(_e[Ne+1]-rt),Re=R.interpolate(w[Ne],w[Ne+1],We,Te);break}}else tt(w)==="function"&&(Re=w(We));Xe&&(_[Qe]=Re)}return Re},Be=function(){return _={}},nt(p),Ae=function(W){var ve;return ve=R(In(W)),Y&&ve[Y]?ve[Y]():ve},Ae.classes=function(W){var ve;return W!=null?(tt(W)==="array"?(v=W,A=[W[0],W[W.length-1]]):(ve=R.analyze(A),W===0?v=[ve.min,ve.max]:v=R.limits(ve,"e",W)),Ae):v},Ae.domain=function(W){var ve,Pe,Re,Ne,Qe,at,rt;if(!arguments.length)return A;if(ne=W[0],K=W[W.length-1],_e=[],Re=w.length,W.length===Re&&ne!==K)for(Qe=0,Ne=W.length;Qe<Ne;Qe++)Pe=W[Qe],_e.push((Pe-ne)/(K-ne));else for(ve=rt=0,at=Re-1;0<=at?rt<=at:rt>=at;ve=0<=at?++rt:--rt)_e.push(ve/(Re-1));return A=[ne,K],Ae},Ae.mode=function(W){return arguments.length?(Te=W,Be(),Ae):Te},Ae.range=function(W,ve){return nt(W,ve),Ae},Ae.out=function(W){return Y=W,Ae},Ae.spread=function(W){return arguments.length?(De=W,Ae):De},Ae.correctLightness=function(W){return W==null&&(W=!0),I=W,Be(),I?Xt=function(ve){var Pe,Re,Ne,Qe,at,rt,Wt,We,en;for(Pe=In(0,!0).lab()[0],Re=In(1,!0).lab()[0],Wt=Pe>Re,Ne=In(ve,!0).lab()[0],at=Pe+(Re-Pe)*ve,Qe=Ne-at,We=0,en=1,rt=20;Math.abs(Qe)>.01&&rt-- >0;)(function(){return Wt&&(Qe*=-1),Qe<0?(We=ve,ve+=(en-ve)*.5):(en=ve,ve+=(We-ve)*.5),Ne=In(ve,!0).lab()[0],Qe=Ne-at})();return ve}:Xt=function(ve){return ve},Ae},Ae.padding=function(W){return W!=null?(tt(W)==="number"&&(W=[W,W]),ye=W,Ae):ye},Ae.colors=function(W,ve){var Pe,Re,Ne,Qe,at,rt,Wt,We,en;if(arguments.length<2&&(ve="hex"),rt=[],arguments.length===0)rt=w.slice(0);else if(W===1)rt=[Ae(.5)];else if(W>1)Re=A[0],Pe=A[1]-Re,rt=(function(){Wt=[];for(var gn=0;0<=W?gn<W:gn>W;0<=W?gn++:gn--)Wt.push(gn);return Wt}).apply(this).map(function(gn){return Ae(Re+gn/(W-1)*Pe)});else{if(p=[],We=[],v&&v.length>2)for(Ne=en=1,at=v.length;1<=at?en<at:en>at;Ne=1<=at?++en:--en)We.push((v[Ne-1]+v[Ne])*.5);else We=A;rt=We.map(function(gn){return Ae(gn)})}return R[ve]&&(rt=rt.map(function(gn){return gn[ve]()})),rt},Ae.cache=function(W){return W!=null?(Xe=W,Ae):Xe},Ae.gamma=function(W){return W!=null?(H=W,Ae):H},Ae.nodata=function(W){return W!=null?(re=R(W),Ae):re},Ae},R.scales==null&&(R.scales={}),R.scales.cool=function(){return R.scale([R.hsl(180,1,.9),R.hsl(250,.7,.4)])},R.scales.hot=function(){return R.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},R.analyze=function(p,y,v){var _,w,I,A,k,H,K;if(k={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},v==null&&(v=function(){return!0}),_=function(ne){ne!=null&&!isNaN(ne)&&(k.values.push(ne),k.sum+=ne,ne<k.min&&(k.min=ne),ne>k.max&&(k.max=ne),k.count+=1)},K=function(ne,Te){if(v(ne,Te))return y!=null&&tt(y)==="function"?_(y(ne)):y!=null&&tt(y)==="string"||tt(y)==="number"?_(ne[y]):_(ne)},tt(p)==="array")for(A=0,I=p.length;A<I;A++)H=p[A],K(H);else for(w in p)H=p[w],K(H,w);return k.domain=[k.min,k.max],k.limits=function(ne,Te){return R.limits(k,ne,Te)},k},R.limits=function(p,y,v){var _,w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De,Xe,Ut,Ae,$n,In,Be,nt,Xt,W,ve,Pe,Re,Ne,Qe,at,rt,Wt,We,en,gn,wo,Is,As,xo,Co,Ss,ci,qn,ui,di,bo,mt,hi,Lr,Br,Ts,ph,fi,qa,mh,Er,jr;if(y==null&&(y="equal"),v==null&&(v=7),tt(p)==="array"&&(p=R.analyze(p)),Pe=p.min,Ue=p.max,ph=p.sum,Er=p.values.sort(function(wr,za){return wr-za}),v===1)return[Pe,Ue];if(W=[],y.substr(0,1)==="c"&&(W.push(Pe),W.push(Ue)),y.substr(0,1)==="e"){for(W.push(Pe),Be=Wt=1,wo=v-1;1<=wo?Wt<=wo:Wt>=wo;Be=1<=wo?++Wt:--Wt)W.push(Pe+Be/v*(Ue-Pe));W.push(Ue)}else if(y.substr(0,1)==="l"){if(Pe<=0)throw"Logarithmic scales are only possible for values > 0";for(Re=Math.LOG10E*Vr(Pe),ve=Math.LOG10E*Vr(Ue),W.push(Pe),Be=jr=1,Is=v-1;1<=Is?jr<=Is:jr>=Is;Be=1<=Is?++jr:--jr)W.push(Zt(10,Re+Be/v*(ve-Re)));W.push(Ue)}else if(y.substr(0,1)==="q"){for(W.push(Pe),Be=_=1,qn=v-1;1<=qn?_<=qn:_>=qn;Be=1<=qn?++_:--_)We=(Er.length-1)*Be/v,en=B(We),en===We?W.push(Er[en]):(gn=We-en,W.push(Er[en]*(1-gn)+Er[en+1]*gn));W.push(Ue)}else if(y.substr(0,1)==="k"){for(Qe=Er.length,De=new Array(Qe),$n=new Array(v),Ts=!0,at=0,Ut=null,Ut=[],Ut.push(Pe),Be=w=1,ui=v-1;1<=ui?w<=ui:w>=ui;Be=1<=ui?++w:--w)Ut.push(Pe+Be/v*(Ue-Pe));for(Ut.push(Ue);Ts;){for(nt=I=0,di=v-1;0<=di?I<=di:I>=di;nt=0<=di?++I:--I)$n[nt]=0;for(Be=A=0,bo=Qe-1;0<=bo?A<=bo:A>=bo;Be=0<=bo?++A:--A){for(mh=Er[Be],Ne=Number.MAX_VALUE,nt=k=0,mt=v-1;0<=mt?k<=mt:k>=mt;nt=0<=mt?++k:--k)In=g(Ut[nt]-mh),In<Ne&&(Ne=In,Xe=nt);$n[Xe]++,De[Be]=Xe}for(rt=new Array(v),nt=H=0,hi=v-1;0<=hi?H<=hi:H>=hi;nt=0<=hi?++H:--H)rt[nt]=null;for(Be=K=0,Lr=Qe-1;0<=Lr?K<=Lr:K>=Lr;Be=0<=Lr?++K:--K)Ae=De[Be],rt[Ae]===null?rt[Ae]=Er[Be]:rt[Ae]+=Er[Be];for(nt=ne=0,Br=v-1;0<=Br?ne<=Br:ne>=Br;nt=0<=Br?++ne:--ne)rt[nt]*=1/$n[nt];for(Ts=!1,nt=Te=0,As=v-1;0<=As?Te<=As:Te>=As;nt=0<=As?++Te:--Te)if(rt[nt]!==Ut[Be]){Ts=!0;break}Ut=rt,at++,at>200&&(Ts=!1)}for(Xt={},nt=re=0,xo=v-1;0<=xo?re<=xo:re>=xo;nt=0<=xo?++re:--re)Xt[nt]=[];for(Be=Y=0,Co=Qe-1;0<=Co?Y<=Co:Y>=Co;Be=0<=Co?++Y:--Y)Ae=De[Be],Xt[Ae].push(Er[Be]);for(fi=[],nt=ye=0,Ss=v-1;0<=Ss?ye<=Ss:ye>=Ss;nt=0<=Ss?++ye:--ye)fi.push(Xt[nt][0]),fi.push(Xt[nt][Xt[nt].length-1]);for(fi=fi.sort(function(wr,za){return wr-za}),W.push(fi[0]),Be=_e=1,ci=fi.length-1;_e<=ci;Be=_e+=2)qa=fi[Be],!isNaN(qa)&&W.indexOf(qa)===-1&&W.push(qa)}return W},Or=function(p,y,v){var _,w,I,A;return _=ft(arguments),p=_[0],y=_[1],v=_[2],isNaN(p)&&(p=0),p/=360,p<1/3?(w=(1-y)/3,A=(1+y*S(s*p)/S(i-s*p))/3,I=1-(w+A)):p<2/3?(p-=1/3,A=(1-y)/3,I=(1+y*S(s*p)/S(i-s*p))/3,w=1-(A+I)):(p-=2/3,I=(1-y)/3,w=(1+y*S(s*p)/S(i-s*p))/3,A=1-(I+w)),A=ar(v*A*3),I=ar(v*I*3),w=ar(v*w*3),[A*255,I*255,w*255,_.length>3?_[3]:1]},La=function(){var p,y,v,_,w,I,A,k;return A=ft(arguments),I=A[0],y=A[1],p=A[2],s=Math.PI*2,I/=255,y/=255,p/=255,w=Math.min(I,y,p),_=(I+y+p)/3,k=1-w/_,k===0?v=0:(v=(I-y+(I-p))/2,v/=Math.sqrt((I-y)*(I-y)+(I-p)*(y-p)),v=Math.acos(v),p>y&&(v=s-v),v/=s),[v*360,k,_]},R.hsi=function(){return function(p,y,v){v.prototype=p.prototype;var _=new v,w=p.apply(_,y);return Object(w)===w?w:_}(t,Dn.call(arguments).concat(["hsi"]),function(){})},d.hsi=Or,t.prototype.hsi=function(){return La(this._rgb)},Rt=function(p,y,v,_){var w,I,A,k,H,K,ne,Te,re,Y,ye,_e,De;return _==="hsl"?(_e=p.hsl(),De=y.hsl()):_==="hsv"?(_e=p.hsv(),De=y.hsv()):_==="hcg"?(_e=p.hcg(),De=y.hcg()):_==="hsi"?(_e=p.hsi(),De=y.hsi()):(_==="lch"||_==="hcl")&&(_="hcl",_e=p.hcl(),De=y.hcl()),_.substr(0,1)==="h"&&(A=_e[0],Y=_e[1],K=_e[2],k=De[0],ye=De[1],ne=De[2]),!isNaN(A)&&!isNaN(k)?(k>A&&k-A>180?w=k-(A+360):k<A&&A-k>180?w=k+360-A:w=k-A,I=A+v*w):isNaN(A)?isNaN(k)?I=Number.NaN:(I=k,(K===1||K===0)&&_!=="hsv"&&(re=ye)):(I=A,(ne===1||ne===0)&&_!=="hsv"&&(re=Y)),re==null&&(re=Y+v*(ye-Y)),H=K+v*(ne-K),Te=R[_](I,re,H)},f=f.concat(function(){var p,y,v,_;for(v=["hsv","hsl","hsi","hcl","lch","hcg"],_=[],y=0,p=v.length;y<p;y++)Oa=v[y],_.push([Oa,Rt]);return _}()),Et=function(p,y,v,_){var w,I;return w=p.num(),I=y.num(),R.num(w+(I-w)*v,"num")},f.push(["num",Et]),Bn=function(p,y,v,_){var w,I,A;return I=p.lab(),A=y.lab(),w=new t(I[0]+v*(A[0]-I[0]),I[1]+v*(A[1]-I[1]),I[2]+v*(A[2]-I[2]),_)},f.push(["lab",Bn])}).call(Qd)});var _R=le((Zne,vR)=>{"use strict";vR.exports=function(){var t,e;if(typeof WeakMap!="function")return!1;try{t=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(t)!=="[object WeakMap]"||typeof t.set!="function"||t.set({},1)!==t||typeof t.delete!="function"||typeof t.has!="function"||t.get(e)!=="one")}});var wR=le((Xne,ER)=>{"use strict";ER.exports=function(){}});var ys=le((ere,xR)=>{"use strict";var m$=wR()();xR.exports=function(t){return t!==m$&&t!==null}});var aC=le((tre,bR)=>{"use strict";var g$=Object.create,y$=Object.getPrototypeOf,CR={};bR.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||g$;return typeof t!="function"?!1:y$(t(e(null),CR))===CR}});var lC=le((nre,DR)=>{"use strict";var v$=ys(),_$={function:!0,object:!0};DR.exports=function(t){return v$(t)&&_$[typeof t]||!1}});var po=le((rre,IR)=>{"use strict";var E$=ys();IR.exports=function(t){if(!E$(t))throw new TypeError("Cannot use null or undefined");return t}});var SR=le((ire,AR)=>{"use strict";var cC=Object.create,Ng;aC()()||(Ng=uC());AR.exports=function(){var t,e,n;return!Ng||Ng.level!==1?cC:(t={},e={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(r){if(r==="__proto__"){e[r]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}e[r]=n}),Object.defineProperties(t,e),Object.defineProperty(Ng,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:t}),function(r,i){return cC(r===null?t:r,i)})}()});var uC=le((ore,TR)=>{"use strict";var w$=lC(),x$=po(),C$=Object.prototype.isPrototypeOf,b$=Object.defineProperty,D$={configurable:!0,enumerable:!1,writable:!0,value:void 0},Og;Og=function(t,e){if(x$(t),e===null||w$(e))return t;throw new TypeError("Prototype must be null or an object")};TR.exports=function(t){var e,n;return t?(t.level===2?t.set?(n=t.set,e=function(r,i){return n.call(Og(r,i),i),r}):e=function(r,i){return Og(r,i).__proto__=i,r}:e=function r(i,o){var s;return Og(i,o),s=C$.call(r.nullPolyfill,i),s&&delete r.nullPolyfill.__proto__,o===null&&(o=r.nullPolyfill),i.__proto__=o,s&&b$(r.nullPolyfill,"__proto__",D$),i},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t=Object.create(null),e={},n,r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{n=r.set,n.call(t,e)}catch{}if(Object.getPrototypeOf(t)===e)return{set:n,level:2}}return t.__proto__=e,Object.getPrototypeOf(t)===e?{level:2}:(t={},t.__proto__=e,Object.getPrototypeOf(t)===e?{level:1}:!1)}());SR()});var kg=le((sre,MR)=>{"use strict";MR.exports=aC()()?Object.setPrototypeOf:uC()});var PR=le((are,FR)=>{"use strict";var I$=lC();FR.exports=function(t){if(!I$(t))throw new TypeError(t+" is not an Object");return t}});var NR=le((lre,RR)=>{"use strict";var A$=Object.create(null),S$=Math.random;RR.exports=function(){var t;do t=S$().toString(36).slice(2);while(A$[t]);return t}});var Sa=le((cre,OR)=>{"use strict";var T$=void 0;OR.exports=function(t){return t!==T$&&t!==null}});var dC=le((ure,kR)=>{"use strict";var M$=Sa(),F$={object:!0,function:!0,undefined:!0};kR.exports=function(t){return M$(t)?hasOwnProperty.call(F$,typeof t):!1}});var LR=le((dre,VR)=>{"use strict";var P$=dC();VR.exports=function(t){if(!P$(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}}});var jR=le((hre,BR)=>{"use strict";var R$=LR();BR.exports=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!R$(t)}});var hC=le((fre,UR)=>{"use strict";var N$=jR(),O$=/^\s*class[\s{/}]/,k$=Function.prototype.toString;UR.exports=function(t){return!(!N$(t)||O$.test(k$.call(t)))}});var qR=le((pre,$R)=>{"use strict";$R.exports=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}});var GR=le((mre,zR)=>{"use strict";zR.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}});var WR=le((gre,HR)=>{"use strict";var V$=ys(),L$=Object.keys;HR.exports=function(t){return L$(V$(t)?Object(t):t)}});var QR=le((yre,KR)=>{"use strict";KR.exports=GR()()?Object.keys:WR()});var JR=le((vre,YR)=>{"use strict";var B$=QR(),j$=po(),U$=Math.max;YR.exports=function(t,e){var n,r,i=U$(arguments.length,2),o;for(t=Object(j$(t)),o=function(s){try{t[s]=e[s]}catch(a){n||(n=a)}},r=1;r<i;++r)e=arguments[r],B$(e).forEach(o);if(n!==void 0)throw n;return t}});var Vg=le((_re,ZR)=>{"use strict";ZR.exports=qR()()?Object.assign:JR()});var fC=le((Ere,XR)=>{"use strict";var $$=ys(),q$=Array.prototype.forEach,z$=Object.create,G$=function(t,e){var n;for(n in t)e[n]=t[n]};XR.exports=function(t){var e=z$(null);return q$.call(arguments,function(n){$$(n)&&G$(Object(n),e)}),e}});var tN=le((wre,eN)=>{"use strict";var pC="razdwatrzy";eN.exports=function(){return typeof pC.contains!="function"?!1:pC.contains("dwa")===!0&&pC.contains("foo")===!1}});var rN=le((xre,nN)=>{"use strict";var H$=String.prototype.indexOf;nN.exports=function(t){return H$.call(this,t,arguments[1])>-1}});var mC=le((Cre,iN)=>{"use strict";iN.exports=tN()()?String.prototype.contains:rN()});var mo=le((bre,lN)=>{"use strict";var Lg=Sa(),oN=hC(),sN=Vg(),aN=fC(),Jd=mC(),W$=lN.exports=function(t,e){var n,r,i,o,s;return arguments.length<2||typeof t!="string"?(o=e,e=t,t=null):o=arguments[2],Lg(t)?(n=Jd.call(t,"c"),r=Jd.call(t,"e"),i=Jd.call(t,"w")):(n=i=!0,r=!1),s={value:e,configurable:n,enumerable:r,writable:i},o?sN(aN(o),s):s};W$.gs=function(t,e,n){var r,i,o,s;return typeof t!="string"?(o=n,n=e,e=t,t=null):o=arguments[3],Lg(e)?oN(e)?Lg(n)?oN(n)||(o=n,n=void 0):n=void 0:(o=e,e=n=void 0):e=void 0,Lg(t)?(r=Jd.call(t,"c"),i=Jd.call(t,"e")):(r=!0,i=!1),s={get:e,set:n,configurable:r,enumerable:i},o?sN(aN(o),s):s}});var Zd=le((Dre,uN)=>{"use strict";var cN=Object.prototype.toString,K$=cN.call(function(){return arguments}());uN.exports=function(t){return cN.call(t)===K$}});var Xd=le((Ire,hN)=>{"use strict";var dN=Object.prototype.toString,Q$=dN.call("");hN.exports=function(t){return typeof t=="string"||t&&typeof t=="object"&&(t instanceof String||dN.call(t)===Q$)||!1}});var pN=le((Are,fN)=>{"use strict";fN.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}});var yN=le((Sre,gN)=>{var mN=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};gN.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return mN()}try{return __global__||mN()}finally{delete Object.prototype.__global__}}()});var eh=le((Tre,vN)=>{"use strict";vN.exports=pN()()?globalThis:yN()});var EN=le((Mre,_N)=>{"use strict";var Y$=eh(),gC={object:!0,symbol:!0};_N.exports=function(){var t=Y$.Symbol,e;if(typeof t!="function")return!1;e=t("test symbol");try{String(e)}catch{return!1}return!(!gC[typeof t.iterator]||!gC[typeof t.toPrimitive]||!gC[typeof t.toStringTag])}});var xN=le((Fre,wN)=>{"use strict";wN.exports=function(t){return t?typeof t=="symbol"?!0:!t.constructor||t.constructor.name!=="Symbol"?!1:t[t.constructor.toStringTag]==="Symbol":!1}});var yC=le((Pre,CN)=>{"use strict";var J$=xN();CN.exports=function(t){if(!J$(t))throw new TypeError(t+" is not a symbol");return t}});var SN=le((Rre,AN)=>{"use strict";var bN=mo(),Z$=Object.create,DN=Object.defineProperty,X$=Object.prototype,IN=Z$(null);AN.exports=function(t){for(var e=0,n,r;IN[t+(e||"")];)++e;return t+=e||"",IN[t]=!0,n="@@"+t,DN(X$,n,bN.gs(null,function(i){r||(r=!0,DN(this,n,bN(i)),r=!1)})),n}});var MN=le((Nre,TN)=>{"use strict";var ai=mo(),Ht=eh().Symbol;TN.exports=function(t){return Object.defineProperties(t,{hasInstance:ai("",Ht&&Ht.hasInstance||t("hasInstance")),isConcatSpreadable:ai("",Ht&&Ht.isConcatSpreadable||t("isConcatSpreadable")),iterator:ai("",Ht&&Ht.iterator||t("iterator")),match:ai("",Ht&&Ht.match||t("match")),replace:ai("",Ht&&Ht.replace||t("replace")),search:ai("",Ht&&Ht.search||t("search")),species:ai("",Ht&&Ht.species||t("species")),split:ai("",Ht&&Ht.split||t("split")),toPrimitive:ai("",Ht&&Ht.toPrimitive||t("toPrimitive")),toStringTag:ai("",Ht&&Ht.toStringTag||t("toStringTag")),unscopables:ai("",Ht&&Ht.unscopables||t("unscopables"))})}});var RN=le((Ore,PN)=>{"use strict";var FN=mo(),eq=yC(),th=Object.create(null);PN.exports=function(t){return Object.defineProperties(t,{for:FN(function(e){return th[e]?th[e]:th[e]=t(String(e))}),keyFor:FN(function(e){var n;eq(e);for(n in th)if(th[n]===e)return n})})}});var kN=le((kre,ON)=>{"use strict";var Bi=mo(),vC=yC(),Bg=eh().Symbol,tq=SN(),nq=MN(),rq=RN(),iq=Object.create,_C=Object.defineProperties,jg=Object.defineProperty,Ln,kc,NN;if(typeof Bg=="function")try{String(Bg()),NN=!0}catch{}else Bg=null;kc=function(e){if(this instanceof kc)throw new TypeError("Symbol is not a constructor");return Ln(e)};ON.exports=Ln=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return NN?Bg(e):(n=iq(kc.prototype),e=e===void 0?"":String(e),_C(n,{__description__:Bi("",e),__name__:Bi("",tq(e))}))};nq(Ln);rq(Ln);_C(kc.prototype,{constructor:Bi(Ln),toString:Bi("",function(){return this.__name__})});_C(Ln.prototype,{toString:Bi(function(){return"Symbol ("+vC(this).__description__+")"}),valueOf:Bi(function(){return vC(this)})});jg(Ln.prototype,Ln.toPrimitive,Bi("",function(){var t=vC(this);return typeof t=="symbol"?t:t.toString()}));jg(Ln.prototype,Ln.toStringTag,Bi("c","Symbol"));jg(kc.prototype,Ln.toStringTag,Bi("c",Ln.prototype[Ln.toStringTag]));jg(kc.prototype,Ln.toPrimitive,Bi("c",Ln.prototype[Ln.toPrimitive]))});var vs=le((Vre,VN)=>{"use strict";VN.exports=EN()()?eh().Symbol:kN()});var BN=le((Lre,LN)=>{"use strict";var oq=po();LN.exports=function(){return oq(this).length=0,this}});var Vc=le((Bre,jN)=>{"use strict";jN.exports=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}});var $N=le((jre,UN)=>{"use strict";var sq=Sa(),aq=dC(),lq=Object.prototype.toString;UN.exports=function(t){if(!sq(t))return null;if(aq(t)){var e=t.toString;if(typeof e!="function"||e===lq)return null}try{return""+t}catch{return null}}});var zN=le((Ure,qN)=>{"use strict";qN.exports=function(t){try{return t.toString()}catch{try{return String(t)}catch{return null}}}});var HN=le(($re,GN)=>{"use strict";var cq=zN(),uq=/[\n\r\u2028\u2029]/g;GN.exports=function(t){var e=cq(t);return e===null?"<Non-coercible to string value>":(e.length>100&&(e=e.slice(0,99)+"\u2026"),e=e.replace(uq,function(n){switch(n){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),e)}});var KN=le((qre,WN)=>{"use strict";var dq=$N(),hq=HN();WN.exports=function(t,e,n){n&&n.errorMessage&&(t=dq(n.errorMessage));var r=t.indexOf("%v"),i=r>-1?hq(e):null;if(n&&n.name){var o=t.indexOf("%n");if(o>-1){if(r>-1){var s,a,l,u;return o>r?(s=i,l=r,a=n.name,u=o):(s=n.name,l=o,a=i,u=r),t.slice(0,l)+s+t.slice(l+2,u)+a+t.slice(u+2)}return t.slice(0,o)+n.name+t.slice(o+2)}}return r>-1?t.slice(0,r)+i+t.slice(r+2):t}});var EC=le((zre,QN)=>{"use strict";var fq=Sa(),pq=KN();QN.exports=function(t,e,n){if(n&&!fq(t)){if("default"in n)return n.default;if(n.isOptional)return null}var r=n&&n.Error||TypeError,i=new r(pq(e,t,n));throw n&&n.errorCode&&(i.code=n.errorCode),i}});var JN=le((Gre,YN)=>{"use strict";var mq=EC(),gq=Sa();YN.exports=function(t){if(gq(t))return t;var e=arguments[1],n=e&&e.name?"Expected a value for %n, received %v":"Cannot use %v";return mq(t,n,e)}});var XN=le((Hre,ZN)=>{"use strict";var yq=EC(),vq=hC();ZN.exports=function(t){if(vq(t))return t;var e=arguments[1],n=e&&e.name?"Expected a plain function for %n, received %v":"%v is not a plain function";return yq(t,n,e)}});var tO=le((Wre,eO)=>{"use strict";eO.exports=function(){var t=Array.from,e,n;return typeof t!="function"?!1:(e=["raz","dwa"],n=t(e),!!(n&&n!==e&&n[1]==="dwa"))}});var rO=le((Kre,nO)=>{"use strict";var _q=Object.prototype.toString,Eq=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);nO.exports=function(t){return typeof t=="function"&&Eq(_q.call(t))}});var oO=le((Qre,iO)=>{"use strict";iO.exports=function(){var t=Math.sign;return typeof t!="function"?!1:t(10)===1&&t(-20)===-1}});var aO=le((Yre,sO)=>{"use strict";sO.exports=function(t){return t=Number(t),isNaN(t)||t===0?t:t>0?1:-1}});var cO=le((Jre,lO)=>{"use strict";lO.exports=oO()()?Math.sign:aO()});var dO=le((Zre,uO)=>{"use strict";var wq=cO(),xq=Math.abs,Cq=Math.floor;uO.exports=function(t){return isNaN(t)?0:(t=Number(t),t===0||!isFinite(t)?t:wq(t)*Cq(xq(t)))}});var fO=le((Xre,hO)=>{"use strict";var bq=dO(),Dq=Math.max;hO.exports=function(t){return Dq(0,bq(t))}});var yO=le((eie,gO)=>{"use strict";var Iq=vs().iterator,Aq=Zd(),Sq=rO(),Tq=fO(),pO=Vc(),Mq=po(),Fq=ys(),Pq=Xd(),mO=Array.isArray,wC=Function.prototype.call,Ta={configurable:!0,enumerable:!0,writable:!0,value:null},xC=Object.defineProperty;gO.exports=function(t){var e=arguments[1],n=arguments[2],r,i,o,s,a,l,u,d,f,g;if(t=Object(Mq(t)),Fq(e)&&pO(e),!this||this===Array||!Sq(this)){if(!e){if(Aq(t))return a=t.length,a!==1?Array.apply(null,t):(s=new Array(1),s[0]=t[0],s);if(mO(t)){for(s=new Array(a=t.length),i=0;i<a;++i)s[i]=t[i];return s}}s=[]}else r=this;if(!mO(t)){if((f=t[Iq])!==void 0){for(u=pO(f).call(t),r&&(s=new r),d=u.next(),i=0;!d.done;)g=e?wC.call(e,n,d.value,i):d.value,r?(Ta.value=g,xC(s,i,Ta)):s[i]=g,d=u.next(),++i;a=i}else if(Pq(t)){for(a=t.length,r&&(s=new r),i=0,o=0;i<a;++i)g=t[i],i+1<a&&(l=g.charCodeAt(0),l>=55296&&l<=56319&&(g+=t[++i])),g=e?wC.call(e,n,g,o):g,r?(Ta.value=g,xC(s,o,Ta)):s[o]=g,++o;a=o}}if(a===void 0)for(a=Tq(t.length),r&&(s=new r(a)),i=0;i<a;++i)g=e?wC.call(e,n,t[i],i):t[i],r?(Ta.value=g,xC(s,i,Ta)):s[i]=g;return r&&(Ta.value=null,s.length=a),s}});var _O=le((tie,vO)=>{"use strict";vO.exports=tO()()?Array.from:yO()});var wO=le((nie,EO)=>{"use strict";var Rq=_O(),Nq=Vg(),Oq=po();EO.exports=function(t){var e=Object(Oq(t)),n=arguments[1],r=Object(arguments[2]);if(e!==t&&!n)return e;var i={};return n?Rq(n,function(o){(r.ensure||o in t)&&(i[o]=t[o])}):Nq(i,t),i}});var bO=le((rie,CO)=>{"use strict";var kq=Vc(),Vq=po(),Lq=Function.prototype.bind,xO=Function.prototype.call,Bq=Object.keys,jq=Object.prototype.propertyIsEnumerable;CO.exports=function(t,e){return function(n,r){var i,o=arguments[2],s=arguments[3];return n=Object(Vq(n)),kq(r),i=Bq(n),s&&i.sort(typeof s=="function"?Lq.call(s,n):void 0),typeof t!="function"&&(t=i[t]),xO.call(t,i,function(a,l){return jq.call(n,a)?xO.call(r,o,n[a],a,n,l):e})}}});var IO=le((iie,DO)=>{"use strict";DO.exports=bO()("forEach")});var SO=le((oie,AO)=>{"use strict";var Uq=Vc(),$q=IO(),qq=Function.prototype.call;AO.exports=function(t,e){var n={},r=arguments[2];return Uq(e),$q(t,function(i,o,s,a){n[o]=qq.call(e,r,i,o,s,a)}),n}});var PO=le((sie,FO)=>{"use strict";var zq=Sa(),Gq=JN(),TO=XN(),Hq=wO(),Wq=fC(),Kq=SO(),Qq=Function.prototype.bind,Yq=Object.defineProperty,Jq=Object.prototype.hasOwnProperty,MO;MO=function(t,e,n){var r=Gq(e)&&TO(e.value),i;return i=Hq(e),delete i.writable,delete i.value,i.get=function(){return!n.overwriteDefinition&&Jq.call(this,t)?r:(e.value=Qq.call(r,n.resolveContext?n.resolveContext(this):this),Yq(this,t,e),this[t])},i};FO.exports=function(t){var e=Wq(arguments[1]);return zq(e.resolveContext)&&TO(e.resolveContext),Kq(t,function(n,r){return MO(r,n,e)})}});var CC=le((aie,kO)=>{"use strict";var Zq=BN(),Xq=Vg(),ez=Vc(),tz=po(),sr=mo(),nz=PO(),RO=vs(),NO=Object.defineProperty,OO=Object.defineProperties,nh;kO.exports=nh=function(t,e){if(!(this instanceof nh))throw new TypeError("Constructor requires 'new'");OO(this,{__list__:sr("w",tz(t)),__context__:sr("w",e),__nextIndex__:sr("w",0)}),e&&(ez(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))};delete nh.prototype.constructor;OO(nh.prototype,Xq({_next:sr(function(){var t;if(this.__list__){if(this.__redo__&&(t=this.__redo__.shift(),t!==void 0))return t;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:sr(function(){return this._createResult(this._next())}),_createResult:sr(function(t){return t===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:sr(function(t){return this.__list__[t]}),_unBind:sr(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:sr(function(){return"[object "+(this[RO.toStringTag]||"Object")+"]"})},nz({_onAdd:sr(function(t){if(!(t>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){NO(this,"__redo__",sr("c",[t]));return}this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)}}),_onDelete:sr(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(e=this.__redo__.indexOf(t),e!==-1&&this.__redo__.splice(e,1),this.__redo__.forEach(function(n,r){n>t&&(this.__redo__[r]=--n)},this)))}),_onClear:sr(function(){this.__redo__&&Zq.call(this.__redo__),this.__nextIndex__=0})})));NO(nh.prototype,RO.iterator,sr(function(){return this}))});var UO=le((lie,jO)=>{"use strict";var VO=kg(),LO=mC(),bC=mo(),rz=vs(),DC=CC(),BO=Object.defineProperty,Lc;Lc=jO.exports=function(t,e){if(!(this instanceof Lc))throw new TypeError("Constructor requires 'new'");DC.call(this,t),e?LO.call(e,"key+value")?e="key+value":LO.call(e,"key")?e="key":e="value":e="value",BO(this,"__kind__",bC("",e))};VO&&VO(Lc,DC);delete Lc.prototype.constructor;Lc.prototype=Object.create(DC.prototype,{_resolve:bC(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})});BO(Lc.prototype,rz.toStringTag,bC("c","Array Iterator"))});var GO=le((cie,zO)=>{"use strict";var $O=kg(),Ug=mo(),iz=vs(),IC=CC(),qO=Object.defineProperty,Bc;Bc=zO.exports=function(t){if(!(this instanceof Bc))throw new TypeError("Constructor requires 'new'");t=String(t),IC.call(this,t),qO(this,"__length__",Ug("",t.length))};$O&&$O(Bc,IC);delete Bc.prototype.constructor;Bc.prototype=Object.create(IC.prototype,{_next:Ug(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:Ug(function(t){var e=this.__list__[t],n;return this.__nextIndex__===this.__length__?e:(n=e.charCodeAt(0),n>=55296&&n<=56319?e+this.__list__[this.__nextIndex__++]:e)})});qO(Bc.prototype,iz.toStringTag,Ug("c","String Iterator"))});var WO=le((uie,HO)=>{"use strict";var oz=Zd(),sz=ys(),az=Xd(),lz=vs().iterator,cz=Array.isArray;HO.exports=function(t){return sz(t)?cz(t)||az(t)||oz(t)?!0:typeof t[lz]=="function":!1}});var QO=le((die,KO)=>{"use strict";var uz=WO();KO.exports=function(t){if(!uz(t))throw new TypeError(t+" is not iterable");return t}});var AC=le((hie,ZO)=>{"use strict";var dz=Zd(),hz=Xd(),YO=UO(),fz=GO(),pz=QO(),JO=vs().iterator;ZO.exports=function(t){return typeof pz(t)[JO]=="function"?t[JO]():dz(t)?new YO(t):hz(t)?new fz(t):new YO(t)}});var ek=le((fie,XO)=>{"use strict";var mz=Zd(),gz=Vc(),yz=Xd(),vz=AC(),_z=Array.isArray,SC=Function.prototype.call,Ez=Array.prototype.some;XO.exports=function(t,e){var n,r=arguments[2],i,o,s,a,l,u,d;if(_z(t)||mz(t)?n="array":yz(t)?n="string":t=vz(t),gz(e),o=function(){s=!0},n==="array"){Ez.call(t,function(f){return SC.call(e,r,f,o),s});return}if(n==="string"){for(l=t.length,a=0;a<l&&(u=t[a],a+1<l&&(d=u.charCodeAt(0),d>=55296&&d<=56319&&(u+=t[++a])),SC.call(e,r,u,o),!s);++a);return}for(i=t.next();!i.done;){if(SC.call(e,r,i.value,o),s)return;i=t.next()}}});var nk=le((pie,tk)=>{"use strict";tk.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()});var ok=le((mie,ik)=>{"use strict";var wz=ys(),qg=kg(),$g=PR(),xz=po(),Cz=NR(),go=mo(),bz=AC(),Dz=ek(),Iz=vs().toStringTag,rk=nk(),Az=Array.isArray,MC=Object.defineProperty,TC=Object.prototype.hasOwnProperty,Sz=Object.getPrototypeOf,_s;ik.exports=_s=function(){var t=arguments[0],e;if(!(this instanceof _s))throw new TypeError("Constructor requires 'new'");return e=rk&&qg&&WeakMap!==_s?qg(new WeakMap,Sz(this)):this,wz(t)&&(Az(t)||(t=bz(t))),MC(e,"__weakMapData__",go("c","$weakMap$"+Cz())),t&&Dz(t,function(n){xz(n),e.set(n[0],n[1])}),e};rk&&(qg&&qg(_s,WeakMap),_s.prototype=Object.create(WeakMap.prototype,{constructor:go(_s)}));Object.defineProperties(_s.prototype,{delete:go(function(t){return TC.call($g(t),this.__weakMapData__)?(delete t[this.__weakMapData__],!0):!1}),get:go(function(t){if(TC.call($g(t),this.__weakMapData__))return t[this.__weakMapData__]}),has:go(function(t){return TC.call($g(t),this.__weakMapData__)}),set:go(function(t,e){return MC($g(t),this.__weakMapData__,go("c",e)),this}),toString:go(function(){return"[object WeakMap]"})});MC(_s.prototype,Iz,go("c","WeakMap"))});var ak=le((gie,sk)=>{"use strict";sk.exports=_R()()?WeakMap:ok()});var ck=le((yie,lk)=>{lk.exports=[{name:"black",hex:"#000000"},{name:"blue",hex:"#0000FF"},{name:"cyan",hex:"#00FFFF"},{name:"green",hex:"#008000"},{name:"teal",hex:"#008080"},{name:"turquoise",hex:"#40E0D0"},{name:"indigo",hex:"#4B0082"},{name:"gray",hex:"#808080"},{name:"purple",hex:"#800080"},{name:"brown",hex:"#A52A2A"},{name:"tan",hex:"#D2B48C"},{name:"violet",hex:"#EE82EE"},{name:"beige",hex:"#F5F5DC"},{name:"fuchsia",hex:"#FF00FF"},{name:"gold",hex:"#FFD700"},{name:"magenta",hex:"#FF00FF"},{name:"orange",hex:"#FFA500"},{name:"pink",hex:"#FFC0CB"},{name:"red",hex:"#FF0000"},{name:"white",hex:"#FFFFFF"},{name:"yellow",hex:"#FFFF00"}]});var dk=le((vie,uk)=>{uk.exports=[{name:"aqua",hex:"#00FFFF"},{name:"aliceblue",hex:"#F0F8FF"},{name:"antiquewhite",hex:"#FAEBD7"},{name:"black",hex:"#000000"},{name:"blue",hex:"#0000FF"},{name:"cyan",hex:"#00FFFF"},{name:"darkblue",hex:"#00008B"},{name:"darkcyan",hex:"#008B8B"},{name:"darkgreen",hex:"#006400"},{name:"darkturquoise",hex:"#00CED1"},{name:"deepskyblue",hex:"#00BFFF"},{name:"green",hex:"#008000"},{name:"lime",hex:"#00FF00"},{name:"mediumblue",hex:"#0000CD"},{name:"mediumspringgreen",hex:"#00FA9A"},{name:"navy",hex:"#000080"},{name:"springgreen",hex:"#00FF7F"},{name:"teal",hex:"#008080"},{name:"midnightblue",hex:"#191970"},{name:"dodgerblue",hex:"#1E90FF"},{name:"lightseagreen",hex:"#20B2AA"},{name:"forestgreen",hex:"#228B22"},{name:"seagreen",hex:"#2E8B57"},{name:"darkslategray",hex:"#2F4F4F"},{name:"darkslategrey",hex:"#2F4F4F"},{name:"limegreen",hex:"#32CD32"},{name:"mediumseagreen",hex:"#3CB371"},{name:"turquoise",hex:"#40E0D0"},{name:"royalblue",hex:"#4169E1"},{name:"steelblue",hex:"#4682B4"},{name:"darkslateblue",hex:"#483D8B"},{name:"mediumturquoise",hex:"#48D1CC"},{name:"indigo",hex:"#4B0082"},{name:"darkolivegreen",hex:"#556B2F"},{name:"cadetblue",hex:"#5F9EA0"},{name:"cornflowerblue",hex:"#6495ED"},{name:"mediumaquamarine",hex:"#66CDAA"},{name:"dimgray",hex:"#696969"},{name:"dimgrey",hex:"#696969"},{name:"slateblue",hex:"#6A5ACD"},{name:"olivedrab",hex:"#6B8E23"},{name:"slategray",hex:"#708090"},{name:"slategrey",hex:"#708090"},{name:"lightslategray",hex:"#778899"},{name:"lightslategrey",hex:"#778899"},{name:"mediumslateblue",hex:"#7B68EE"},{name:"lawngreen",hex:"#7CFC00"},{name:"aquamarine",hex:"#7FFFD4"},{name:"chartreuse",hex:"#7FFF00"},{name:"gray",hex:"#808080"},{name:"grey",hex:"#808080"},{name:"maroon",hex:"#800000"},{name:"olive",hex:"#808000"},{name:"purple",hex:"#800080"},{name:"lightskyblue",hex:"#87CEFA"},{name:"skyblue",hex:"#87CEEB"},{name:"blueviolet",hex:"#8A2BE2"},{name:"darkmagenta",hex:"#8B008B"},{name:"darkred",hex:"#8B0000"},{name:"saddlebrown",hex:"#8B4513"},{name:"darkseagreen",hex:"#8FBC8F"},{name:"lightgreen",hex:"#90EE90"},{name:"mediumpurple",hex:"#9370DB"},{name:"darkviolet",hex:"#9400D3"},{name:"palegreen",hex:"#98FB98"},{name:"darkorchid",hex:"#9932CC"},{name:"yellowgreen",hex:"#9ACD32"},{name:"sienna",hex:"#A0522D"},{name:"brown",hex:"#A52A2A"},{name:"darkgray",hex:"#A9A9A9"},{name:"darkgrey",hex:"#A9A9A9"},{name:"greenyellow",hex:"#ADFF2F"},{name:"lightblue",hex:"#ADD8E6"},{name:"paleturquoise",hex:"#AFEEEE"},{name:"lightsteelblue",hex:"#B0C4DE"},{name:"powderblue",hex:"#B0E0E6"},{name:"firebrick",hex:"#B22222"},{name:"darkgoldenrod",hex:"#B8860B"},{name:"mediumorchid",hex:"#BA55D3"},{name:"rosybrown",hex:"#BC8F8F"},{name:"darkkhaki",hex:"#BDB76B"},{name:"silver",hex:"#C0C0C0"},{name:"mediumvioletred",hex:"#C71585"},{name:"indianred",hex:"#CD5C5C"},{name:"peru",hex:"#CD853F"},{name:"chocolate",hex:"#D2691E"},{name:"tan",hex:"#D2B48C"},{name:"lightgray",hex:"#D3D3D3"},{name:"lightgrey",hex:"#D3D3D3"},{name:"thistle",hex:"#D8BFD8"},{name:"goldenrod",hex:"#DAA520"},{name:"orchid",hex:"#DA70D6"},{name:"palevioletred",hex:"#DB7093"},{name:"crimson",hex:"#DC143C"},{name:"gainsboro",hex:"#DCDCDC"},{name:"plum",hex:"#DDA0DD"},{name:"burlywood",hex:"#DEB887"},{name:"lightcyan",hex:"#E0FFFF"},{name:"lavender",hex:"#E6E6FA"},{name:"darksalmon",hex:"#E9967A"},{name:"palegoldenrod",hex:"#EEE8AA"},{name:"violet",hex:"#EE82EE"},{name:"azure",hex:"#F0FFFF"},{name:"honeydew",hex:"#F0FFF0"},{name:"khaki",hex:"#F0E68C"},{name:"lightcoral",hex:"#F08080"},{name:"sandybrown",hex:"#F4A460"},{name:"beige",hex:"#F5F5DC"},{name:"mintcream",hex:"#F5FFFA"},{name:"wheat",hex:"#F5DEB3"},{name:"whitesmoke",hex:"#F5F5F5"},{name:"ghostwhite",hex:"#F8F8FF"},{name:"lightgoldenrodyellow",hex:"#FAFAD2"},{name:"linen",hex:"#FAF0E6"},{name:"salmon",hex:"#FA8072"},{name:"oldlace",hex:"#FDF5E6"},{name:"bisque",hex:"#FFE4C4"},{name:"blanchedalmond",hex:"#FFEBCD"},{name:"coral",hex:"#FF7F50"},{name:"cornsilk",hex:"#FFF8DC"},{name:"darkorange",hex:"#FF8C00"},{name:"deeppink",hex:"#FF1493"},{name:"floralwhite",hex:"#FFFAF0"},{name:"fuchsia",hex:"#FF00FF"},{name:"gold",hex:"#FFD700"},{name:"hotpink",hex:"#FF69B4"},{name:"ivory",hex:"#FFFFF0"},{name:"lavenderblush",hex:"#FFF0F5"},{name:"lemonchiffon",hex:"#FFFACD"},{name:"lightpink",hex:"#FFB6C1"},{name:"lightsalmon",hex:"#FFA07A"},{name:"lightyellow",hex:"#FFFFE0"},{name:"magenta",hex:"#FF00FF"},{name:"mistyrose",hex:"#FFE4E1"},{name:"moccasin",hex:"#FFE4B5"},{name:"navajowhite",hex:"#FFDEAD"},{name:"orange",hex:"#FFA500"},{name:"orangered",hex:"#FF4500"},{name:"papayawhip",hex:"#FFEFD5"},{name:"peachpuff",hex:"#FFDAB9"},{name:"pink",hex:"#FFC0CB"},{name:"red",hex:"#FF0000"},{name:"seashell",hex:"#FFF5EE"},{name:"snow",hex:"#FFFAFA"},{name:"tomato",hex:"#FF6347"},{name:"white",hex:"#FFFFFF"},{name:"yellow",hex:"#FFFF00"}]});var fk=le((_ie,hk)=>{hk.exports=[{name:"Black",hex:"000000"},{name:"Navy Blue",hex:"000080"},{name:"Dark Blue",hex:"0000C8"},{name:"Blue",hex:"0000FF"},{name:"Stratos",hex:"000741"},{name:"Swamp",hex:"001B1C"},{name:"Resolution Blue",hex:"002387"},{name:"Deep Fir",hex:"002900"},{name:"Burnham",hex:"002E20"},{name:"International Klein Blue",hex:"002FA7"},{name:"Prussian Blue",hex:"003153"},{name:"Midnight Blue",hex:"003366"},{name:"Smalt",hex:"003399"},{name:"Deep Teal",hex:"003532"},{name:"Cyprus",hex:"003E40"},{name:"Kaitoke Green",hex:"004620"},{name:"Cobalt",hex:"0047AB"},{name:"Crusoe",hex:"004816"},{name:"Sherpa Blue",hex:"004950"},{name:"Endeavour",hex:"0056A7"},{name:"Camarone",hex:"00581A"},{name:"Science Blue",hex:"0066CC"},{name:"Blue Ribbon",hex:"0066FF"},{name:"Tropical Rain Forest",hex:"00755E"},{name:"Allports",hex:"0076A3"},{name:"Deep Cerulean",hex:"007BA7"},{name:"Lochmara",hex:"007EC7"},{name:"Azure Radiance",hex:"007FFF"},{name:"Teal",hex:"008080"},{name:"Bondi Blue",hex:"0095B6"},{name:"Pacific Blue",hex:"009DC4"},{name:"Persian Green",hex:"00A693"},{name:"Jade",hex:"00A86B"},{name:"Caribbean Green",hex:"00CC99"},{name:"Robin's Egg Blue",hex:"00CCCC"},{name:"Green",hex:"00FF00"},{name:"Spring Green",hex:"00FF7F"},{name:"Cyan / Aqua",hex:"00FFFF"},{name:"Blue Charcoal",hex:"010D1A"},{name:"Midnight",hex:"011635"},{name:"Holly",hex:"011D13"},{name:"Daintree",hex:"012731"},{name:"Cardin Green",hex:"01361C"},{name:"County Green",hex:"01371A"},{name:"Astronaut Blue",hex:"013E62"},{name:"Regal Blue",hex:"013F6A"},{name:"Aqua Deep",hex:"014B43"},{name:"Orient",hex:"015E85"},{name:"Blue Stone",hex:"016162"},{name:"Fun Green",hex:"016D39"},{name:"Pine Green",hex:"01796F"},{name:"Blue Lagoon",hex:"017987"},{name:"Deep Sea",hex:"01826B"},{name:"Green Haze",hex:"01A368"},{name:"English Holly",hex:"022D15"},{name:"Sherwood Green",hex:"02402C"},{name:"Congress Blue",hex:"02478E"},{name:"Evening Sea",hex:"024E46"},{name:"Bahama Blue",hex:"026395"},{name:"Observatory",hex:"02866F"},{name:"Cerulean",hex:"02A4D3"},{name:"Tangaroa",hex:"03163C"},{name:"Green Vogue",hex:"032B52"},{name:"Mosque",hex:"036A6E"},{name:"Midnight Moss",hex:"041004"},{name:"Black Pearl",hex:"041322"},{name:"Blue Whale",hex:"042E4C"},{name:"Zuccini",hex:"044022"},{name:"Teal Blue",hex:"044259"},{name:"Deep Cove",hex:"051040"},{name:"Gulf Blue",hex:"051657"},{name:"Venice Blue",hex:"055989"},{name:"Watercourse",hex:"056F57"},{name:"Catalina Blue",hex:"062A78"},{name:"Tiber",hex:"063537"},{name:"Gossamer",hex:"069B81"},{name:"Niagara",hex:"06A189"},{name:"Tarawera",hex:"073A50"},{name:"Jaguar",hex:"080110"},{name:"Black Bean",hex:"081910"},{name:"Deep Sapphire",hex:"082567"},{name:"Elf Green",hex:"088370"},{name:"Bright Turquoise",hex:"08E8DE"},{name:"Downriver",hex:"092256"},{name:"Palm Green",hex:"09230F"},{name:"Madison",hex:"09255D"},{name:"Bottle Green",hex:"093624"},{name:"Deep Sea Green",hex:"095859"},{name:"Salem",hex:"097F4B"},{name:"Black Russian",hex:"0A001C"},{name:"Dark Fern",hex:"0A480D"},{name:"Japanese Laurel",hex:"0A6906"},{name:"Atoll",hex:"0A6F75"},{name:"Cod Gray",hex:"0B0B0B"},{name:"Marshland",hex:"0B0F08"},{name:"Gordons Green",hex:"0B1107"},{name:"Black Forest",hex:"0B1304"},{name:"San Felix",hex:"0B6207"},{name:"Malachite",hex:"0BDA51"},{name:"Ebony",hex:"0C0B1D"},{name:"Woodsmoke",hex:"0C0D0F"},{name:"Racing Green",hex:"0C1911"},{name:"Surfie Green",hex:"0C7A79"},{name:"Blue Chill",hex:"0C8990"},{name:"Black Rock",hex:"0D0332"},{name:"Bunker",hex:"0D1117"},{name:"Aztec",hex:"0D1C19"},{name:"Bush",hex:"0D2E1C"},{name:"Cinder",hex:"0E0E18"},{name:"Firefly",hex:"0E2A30"},{name:"Torea Bay",hex:"0F2D9E"},{name:"Vulcan",hex:"10121D"},{name:"Green Waterloo",hex:"101405"},{name:"Eden",hex:"105852"},{name:"Arapawa",hex:"110C6C"},{name:"Ultramarine",hex:"120A8F"},{name:"Elephant",hex:"123447"},{name:"Jewel",hex:"126B40"},{name:"Diesel",hex:"130000"},{name:"Asphalt",hex:"130A06"},{name:"Blue Zodiac",hex:"13264D"},{name:"Parsley",hex:"134F19"},{name:"Nero",hex:"140600"},{name:"Tory Blue",hex:"1450AA"},{name:"Bunting",hex:"151F4C"},{name:"Denim",hex:"1560BD"},{name:"Genoa",hex:"15736B"},{name:"Mirage",hex:"161928"},{name:"Hunter Green",hex:"161D10"},{name:"Big Stone",hex:"162A40"},{name:"Celtic",hex:"163222"},{name:"Timber Green",hex:"16322C"},{name:"Gable Green",hex:"163531"},{name:"Pine Tree",hex:"171F04"},{name:"Chathams Blue",hex:"175579"},{name:"Deep Forest Green",hex:"182D09"},{name:"Blumine",hex:"18587A"},{name:"Palm Leaf",hex:"19330E"},{name:"Nile Blue",hex:"193751"},{name:"Fun Blue",hex:"1959A8"},{name:"Lucky Point",hex:"1A1A68"},{name:"Mountain Meadow",hex:"1AB385"},{name:"Tolopea",hex:"1B0245"},{name:"Haiti",hex:"1B1035"},{name:"Deep Koamaru",hex:"1B127B"},{name:"Acadia",hex:"1B1404"},{name:"Seaweed",hex:"1B2F11"},{name:"Biscay",hex:"1B3162"},{name:"Matisse",hex:"1B659D"},{name:"Crowshead",hex:"1C1208"},{name:"Rangoon Green",hex:"1C1E13"},{name:"Persian Blue",hex:"1C39BB"},{name:"Everglade",hex:"1C402E"},{name:"Elm",hex:"1C7C7D"},{name:"Green Pea",hex:"1D6142"},{name:"Creole",hex:"1E0F04"},{name:"Karaka",hex:"1E1609"},{name:"El Paso",hex:"1E1708"},{name:"Cello",hex:"1E385B"},{name:"Te Papa Green",hex:"1E433C"},{name:"Dodger Blue",hex:"1E90FF"},{name:"Eastern Blue",hex:"1E9AB0"},{name:"Night Rider",hex:"1F120F"},{name:"Java",hex:"1FC2C2"},{name:"Jacksons Purple",hex:"20208D"},{name:"Cloud Burst",hex:"202E54"},{name:"Blue Dianne",hex:"204852"},{name:"Eternity",hex:"211A0E"},{name:"Deep Blue",hex:"220878"},{name:"Forest Green",hex:"228B22"},{name:"Mallard",hex:"233418"},{name:"Violet",hex:"240A40"},{name:"Kilamanjaro",hex:"240C02"},{name:"Log Cabin",hex:"242A1D"},{name:"Black Olive",hex:"242E16"},{name:"Green House",hex:"24500F"},{name:"Graphite",hex:"251607"},{name:"Cannon Black",hex:"251706"},{name:"Port Gore",hex:"251F4F"},{name:"Shark",hex:"25272C"},{name:"Green Kelp",hex:"25311C"},{name:"Curious Blue",hex:"2596D1"},{name:"Paua",hex:"260368"},{name:"Paris M",hex:"26056A"},{name:"Wood Bark",hex:"261105"},{name:"Gondola",hex:"261414"},{name:"Steel Gray",hex:"262335"},{name:"Ebony Clay",hex:"26283B"},{name:"Bay of Many",hex:"273A81"},{name:"Plantation",hex:"27504B"},{name:"Eucalyptus",hex:"278A5B"},{name:"Oil",hex:"281E15"},{name:"Astronaut",hex:"283A77"},{name:"Mariner",hex:"286ACD"},{name:"Violent Violet",hex:"290C5E"},{name:"Bastille",hex:"292130"},{name:"Zeus",hex:"292319"},{name:"Charade",hex:"292937"},{name:"Jelly Bean",hex:"297B9A"},{name:"Jungle Green",hex:"29AB87"},{name:"Cherry Pie",hex:"2A0359"},{name:"Coffee Bean",hex:"2A140E"},{name:"Baltic Sea",hex:"2A2630"},{name:"Turtle Green",hex:"2A380B"},{name:"Cerulean Blue",hex:"2A52BE"},{name:"Sepia Black",hex:"2B0202"},{name:"Valhalla",hex:"2B194F"},{name:"Heavy Metal",hex:"2B3228"},{name:"Blue Gem",hex:"2C0E8C"},{name:"Revolver",hex:"2C1632"},{name:"Bleached Cedar",hex:"2C2133"},{name:"Lochinvar",hex:"2C8C84"},{name:"Mikado",hex:"2D2510"},{name:"Outer Space",hex:"2D383A"},{name:"St Tropaz",hex:"2D569B"},{name:"Jacaranda",hex:"2E0329"},{name:"Jacko Bean",hex:"2E1905"},{name:"Rangitoto",hex:"2E3222"},{name:"Rhino",hex:"2E3F62"},{name:"Sea Green",hex:"2E8B57"},{name:"Scooter",hex:"2EBFD4"},{name:"Onion",hex:"2F270E"},{name:"Governor Bay",hex:"2F3CB3"},{name:"Sapphire",hex:"2F519E"},{name:"Spectra",hex:"2F5A57"},{name:"Casal",hex:"2F6168"},{name:"Melanzane",hex:"300529"},{name:"Cocoa Brown",hex:"301F1E"},{name:"Woodrush",hex:"302A0F"},{name:"San Juan",hex:"304B6A"},{name:"Turquoise",hex:"30D5C8"},{name:"Eclipse",hex:"311C17"},{name:"Pickled Bluewood",hex:"314459"},{name:"Azure",hex:"315BA1"},{name:"Calypso",hex:"31728D"},{name:"Paradiso",hex:"317D82"},{name:"Persian Indigo",hex:"32127A"},{name:"Blackcurrant",hex:"32293A"},{name:"Mine Shaft",hex:"323232"},{name:"Stromboli",hex:"325D52"},{name:"Bilbao",hex:"327C14"},{name:"Astral",hex:"327DA0"},{name:"Christalle",hex:"33036B"},{name:"Thunder",hex:"33292F"},{name:"Shamrock",hex:"33CC99"},{name:"Tamarind",hex:"341515"},{name:"Mardi Gras",hex:"350036"},{name:"Valentino",hex:"350E42"},{name:"Jagger",hex:"350E57"},{name:"Tuna",hex:"353542"},{name:"Chambray",hex:"354E8C"},{name:"Martinique",hex:"363050"},{name:"Tuatara",hex:"363534"},{name:"Waiouru",hex:"363C0D"},{name:"Ming",hex:"36747D"},{name:"La Palma",hex:"368716"},{name:"Chocolate",hex:"370202"},{name:"Clinker",hex:"371D09"},{name:"Brown Tumbleweed",hex:"37290E"},{name:"Birch",hex:"373021"},{name:"Oracle",hex:"377475"},{name:"Blue Diamond",hex:"380474"},{name:"Grape",hex:"381A51"},{name:"Dune",hex:"383533"},{name:"Oxford Blue",hex:"384555"},{name:"Clover",hex:"384910"},{name:"Limed Spruce",hex:"394851"},{name:"Dell",hex:"396413"},{name:"Toledo",hex:"3A0020"},{name:"Sambuca",hex:"3A2010"},{name:"Jacarta",hex:"3A2A6A"},{name:"William",hex:"3A686C"},{name:"Killarney",hex:"3A6A47"},{name:"Keppel",hex:"3AB09E"},{name:"Temptress",hex:"3B000B"},{name:"Aubergine",hex:"3B0910"},{name:"Jon",hex:"3B1F1F"},{name:"Treehouse",hex:"3B2820"},{name:"Amazon",hex:"3B7A57"},{name:"Boston Blue",hex:"3B91B4"},{name:"Windsor",hex:"3C0878"},{name:"Rebel",hex:"3C1206"},{name:"Meteorite",hex:"3C1F76"},{name:"Dark Ebony",hex:"3C2005"},{name:"Camouflage",hex:"3C3910"},{name:"Bright Gray",hex:"3C4151"},{name:"Cape Cod",hex:"3C4443"},{name:"Lunar Green",hex:"3C493A"},{name:"Bean  ",hex:"3D0C02"},{name:"Bistre",hex:"3D2B1F"},{name:"Goblin",hex:"3D7D52"},{name:"Kingfisher Daisy",hex:"3E0480"},{name:"Cedar",hex:"3E1C14"},{name:"English Walnut",hex:"3E2B23"},{name:"Black Marlin",hex:"3E2C1C"},{name:"Ship Gray",hex:"3E3A44"},{name:"Pelorous",hex:"3EABBF"},{name:"Bronze",hex:"3F2109"},{name:"Cola",hex:"3F2500"},{name:"Madras",hex:"3F3002"},{name:"Minsk",hex:"3F307F"},{name:"Cabbage Pont",hex:"3F4C3A"},{name:"Tom Thumb",hex:"3F583B"},{name:"Mineral Green",hex:"3F5D53"},{name:"Puerto Rico",hex:"3FC1AA"},{name:"Harlequin",hex:"3FFF00"},{name:"Brown Pod",hex:"401801"},{name:"Cork",hex:"40291D"},{name:"Masala",hex:"403B38"},{name:"Thatch Green",hex:"403D19"},{name:"Fiord",hex:"405169"},{name:"Viridian",hex:"40826D"},{name:"Chateau Green",hex:"40A860"},{name:"Ripe Plum",hex:"410056"},{name:"Paco",hex:"411F10"},{name:"Deep Oak",hex:"412010"},{name:"Merlin",hex:"413C37"},{name:"Gun Powder",hex:"414257"},{name:"East Bay",hex:"414C7D"},{name:"Royal Blue",hex:"4169E1"},{name:"Ocean Green",hex:"41AA78"},{name:"Burnt Maroon",hex:"420303"},{name:"Lisbon Brown",hex:"423921"},{name:"Faded Jade",hex:"427977"},{name:"Scarlet Gum",hex:"431560"},{name:"Iroko",hex:"433120"},{name:"Armadillo",hex:"433E37"},{name:"River Bed",hex:"434C59"},{name:"Green Leaf",hex:"436A0D"},{name:"Barossa",hex:"44012D"},{name:"Morocco Brown",hex:"441D00"},{name:"Mako",hex:"444954"},{name:"Kelp",hex:"454936"},{name:"San Marino",hex:"456CAC"},{name:"Picton Blue",hex:"45B1E8"},{name:"Loulou",hex:"460B41"},{name:"Crater Brown",hex:"462425"},{name:"Gray Asparagus",hex:"465945"},{name:"Steel Blue",hex:"4682B4"},{name:"Rustic Red",hex:"480404"},{name:"Bulgarian Rose",hex:"480607"},{name:"Clairvoyant",hex:"480656"},{name:"Cocoa Bean",hex:"481C1C"},{name:"Woody Brown",hex:"483131"},{name:"Taupe",hex:"483C32"},{name:"Van Cleef",hex:"49170C"},{name:"Brown Derby",hex:"492615"},{name:"Metallic Bronze",hex:"49371B"},{name:"Verdun Green",hex:"495400"},{name:"Blue Bayoux",hex:"496679"},{name:"Bismark",hex:"497183"},{name:"Bracken",hex:"4A2A04"},{name:"Deep Bronze",hex:"4A3004"},{name:"Mondo",hex:"4A3C30"},{name:"Tundora",hex:"4A4244"},{name:"Gravel",hex:"4A444B"},{name:"Trout",hex:"4A4E5A"},{name:"Pigment Indigo",hex:"4B0082"},{name:"Nandor",hex:"4B5D52"},{name:"Saddle",hex:"4C3024"},{name:"Abbey",hex:"4C4F56"},{name:"Blackberry",hex:"4D0135"},{name:"Cab Sav",hex:"4D0A18"},{name:"Indian Tan",hex:"4D1E01"},{name:"Cowboy",hex:"4D282D"},{name:"Livid Brown",hex:"4D282E"},{name:"Rock",hex:"4D3833"},{name:"Punga",hex:"4D3D14"},{name:"Bronzetone",hex:"4D400F"},{name:"Woodland",hex:"4D5328"},{name:"Mahogany",hex:"4E0606"},{name:"Bossanova",hex:"4E2A5A"},{name:"Matterhorn",hex:"4E3B41"},{name:"Bronze Olive",hex:"4E420C"},{name:"Mulled Wine",hex:"4E4562"},{name:"Axolotl",hex:"4E6649"},{name:"Wedgewood",hex:"4E7F9E"},{name:"Shakespeare",hex:"4EABD1"},{name:"Honey Flower",hex:"4F1C70"},{name:"Daisy Bush",hex:"4F2398"},{name:"Indigo",hex:"4F69C6"},{name:"Fern Green",hex:"4F7942"},{name:"Fruit Salad",hex:"4F9D5D"},{name:"Apple",hex:"4FA83D"},{name:"Mortar",hex:"504351"},{name:"Kashmir Blue",hex:"507096"},{name:"Cutty Sark",hex:"507672"},{name:"Emerald",hex:"50C878"},{name:"Emperor",hex:"514649"},{name:"Chalet Green",hex:"516E3D"},{name:"Como",hex:"517C66"},{name:"Smalt Blue",hex:"51808F"},{name:"Castro",hex:"52001F"},{name:"Maroon Oak",hex:"520C17"},{name:"Gigas",hex:"523C94"},{name:"Voodoo",hex:"533455"},{name:"Victoria",hex:"534491"},{name:"Hippie Green",hex:"53824B"},{name:"Heath",hex:"541012"},{name:"Judge Gray",hex:"544333"},{name:"Fuscous Gray",hex:"54534D"},{name:"Vida Loca",hex:"549019"},{name:"Cioccolato",hex:"55280C"},{name:"Saratoga",hex:"555B10"},{name:"Finlandia",hex:"556D56"},{name:"Havelock Blue",hex:"5590D9"},{name:"Fountain Blue",hex:"56B4BE"},{name:"Spring Leaves",hex:"578363"},{name:"Saddle Brown",hex:"583401"},{name:"Scarpa Flow",hex:"585562"},{name:"Cactus",hex:"587156"},{name:"Hippie Blue",hex:"589AAF"},{name:"Wine Berry",hex:"591D35"},{name:"Brown Bramble",hex:"592804"},{name:"Congo Brown",hex:"593737"},{name:"Millbrook",hex:"594433"},{name:"Waikawa Gray",hex:"5A6E9C"},{name:"Horizon",hex:"5A87A0"},{name:"Jambalaya",hex:"5B3013"},{name:"Bordeaux",hex:"5C0120"},{name:"Mulberry Wood",hex:"5C0536"},{name:"Carnaby Tan",hex:"5C2E01"},{name:"Comet",hex:"5C5D75"},{name:"Redwood",hex:"5D1E0F"},{name:"Don Juan",hex:"5D4C51"},{name:"Chicago",hex:"5D5C58"},{name:"Verdigris",hex:"5D5E37"},{name:"Dingley",hex:"5D7747"},{name:"Breaker Bay",hex:"5DA19F"},{name:"Kabul",hex:"5E483E"},{name:"Hemlock",hex:"5E5D3B"},{name:"Irish Coffee",hex:"5F3D26"},{name:"Mid Gray",hex:"5F5F6E"},{name:"Shuttle Gray",hex:"5F6672"},{name:"Aqua Forest",hex:"5FA777"},{name:"Tradewind",hex:"5FB3AC"},{name:"Horses Neck",hex:"604913"},{name:"Smoky",hex:"605B73"},{name:"Corduroy",hex:"606E68"},{name:"Danube",hex:"6093D1"},{name:"Espresso",hex:"612718"},{name:"Eggplant",hex:"614051"},{name:"Costa Del Sol",hex:"615D30"},{name:"Glade Green",hex:"61845F"},{name:"Buccaneer",hex:"622F30"},{name:"Quincy",hex:"623F2D"},{name:"Butterfly Bush",hex:"624E9A"},{name:"West Coast",hex:"625119"},{name:"Finch",hex:"626649"},{name:"Patina",hex:"639A8F"},{name:"Fern",hex:"63B76C"},{name:"Blue Violet",hex:"6456B7"},{name:"Dolphin",hex:"646077"},{name:"Storm Dust",hex:"646463"},{name:"Siam",hex:"646A54"},{name:"Nevada",hex:"646E75"},{name:"Cornflower Blue",hex:"6495ED"},{name:"Viking",hex:"64CCDB"},{name:"Rosewood",hex:"65000B"},{name:"Cherrywood",hex:"651A14"},{name:"Purple Heart",hex:"652DC1"},{name:"Fern Frond",hex:"657220"},{name:"Willow Grove",hex:"65745D"},{name:"Hoki",hex:"65869F"},{name:"Pompadour",hex:"660045"},{name:"Purple",hex:"660099"},{name:"Tyrian Purple",hex:"66023C"},{name:"Dark Tan",hex:"661010"},{name:"Silver Tree",hex:"66B58F"},{name:"Bright Green",hex:"66FF00"},{name:"Screamin' Green",hex:"66FF66"},{name:"Black Rose",hex:"67032D"},{name:"Scampi",hex:"675FA6"},{name:"Ironside Gray",hex:"676662"},{name:"Viridian Green",hex:"678975"},{name:"Christi",hex:"67A712"},{name:"Nutmeg Wood Finish",hex:"683600"},{name:"Zambezi",hex:"685558"},{name:"Salt Box",hex:"685E6E"},{name:"Tawny Port",hex:"692545"},{name:"Finn",hex:"692D54"},{name:"Scorpion",hex:"695F62"},{name:"Lynch",hex:"697E9A"},{name:"Spice",hex:"6A442E"},{name:"Himalaya",hex:"6A5D1B"},{name:"Soya Bean",hex:"6A6051"},{name:"Hairy Heath",hex:"6B2A14"},{name:"Royal Purple",hex:"6B3FA0"},{name:"Shingle Fawn",hex:"6B4E31"},{name:"Dorado",hex:"6B5755"},{name:"Bermuda Gray",hex:"6B8BA2"},{name:"Olive Drab",hex:"6B8E23"},{name:"Eminence",hex:"6C3082"},{name:"Turquoise Blue",hex:"6CDAE7"},{name:"Lonestar",hex:"6D0101"},{name:"Pine Cone",hex:"6D5E54"},{name:"Dove Gray",hex:"6D6C6C"},{name:"Juniper",hex:"6D9292"},{name:"Gothic",hex:"6D92A1"},{name:"Red Oxide",hex:"6E0902"},{name:"Moccaccino",hex:"6E1D14"},{name:"Pickled Bean",hex:"6E4826"},{name:"Dallas",hex:"6E4B26"},{name:"Kokoda",hex:"6E6D57"},{name:"Pale Sky",hex:"6E7783"},{name:"Cafe Royale",hex:"6F440C"},{name:"Flint",hex:"6F6A61"},{name:"Highland",hex:"6F8E63"},{name:"Limeade",hex:"6F9D02"},{name:"Downy",hex:"6FD0C5"},{name:"Persian Plum",hex:"701C1C"},{name:"Sepia",hex:"704214"},{name:"Antique Bronze",hex:"704A07"},{name:"Ferra",hex:"704F50"},{name:"Coffee",hex:"706555"},{name:"Slate Gray",hex:"708090"},{name:"Cedar Wood Finish",hex:"711A00"},{name:"Metallic Copper",hex:"71291D"},{name:"Affair",hex:"714693"},{name:"Studio",hex:"714AB2"},{name:"Tobacco Brown",hex:"715D47"},{name:"Yellow Metal",hex:"716338"},{name:"Peat",hex:"716B56"},{name:"Olivetone",hex:"716E10"},{name:"Storm Gray",hex:"717486"},{name:"Sirocco",hex:"718080"},{name:"Aquamarine Blue",hex:"71D9E2"},{name:"Venetian Red",hex:"72010F"},{name:"Old Copper",hex:"724A2F"},{name:"Go Ben",hex:"726D4E"},{name:"Raven",hex:"727B89"},{name:"Seance",hex:"731E8F"},{name:"Raw Umber",hex:"734A12"},{name:"Kimberly",hex:"736C9F"},{name:"Crocodile",hex:"736D58"},{name:"Crete",hex:"737829"},{name:"Xanadu",hex:"738678"},{name:"Spicy Mustard",hex:"74640D"},{name:"Limed Ash",hex:"747D63"},{name:"Rolling Stone",hex:"747D83"},{name:"Blue Smoke",hex:"748881"},{name:"Laurel",hex:"749378"},{name:"Mantis",hex:"74C365"},{name:"Russett",hex:"755A57"},{name:"Deluge",hex:"7563A8"},{name:"Cosmic",hex:"76395D"},{name:"Blue Marguerite",hex:"7666C6"},{name:"Lima",hex:"76BD17"},{name:"Sky Blue",hex:"76D7EA"},{name:"Dark Burgundy",hex:"770F05"},{name:"Crown of Thorns",hex:"771F1F"},{name:"Walnut",hex:"773F1A"},{name:"Pablo",hex:"776F61"},{name:"Pacifika",hex:"778120"},{name:"Oxley",hex:"779E86"},{name:"Pastel Green",hex:"77DD77"},{name:"Japanese Maple",hex:"780109"},{name:"Mocha",hex:"782D19"},{name:"Peanut",hex:"782F16"},{name:"Camouflage Green",hex:"78866B"},{name:"Wasabi",hex:"788A25"},{name:"Ship Cove",hex:"788BBA"},{name:"Sea Nymph",hex:"78A39C"},{name:"Roman Coffee",hex:"795D4C"},{name:"Old Lavender",hex:"796878"},{name:"Rum",hex:"796989"},{name:"Fedora",hex:"796A78"},{name:"Sandstone",hex:"796D62"},{name:"Spray",hex:"79DEEC"},{name:"Siren",hex:"7A013A"},{name:"Fuchsia Blue",hex:"7A58C1"},{name:"Boulder",hex:"7A7A7A"},{name:"Wild Blue Yonder",hex:"7A89B8"},{name:"De York",hex:"7AC488"},{name:"Red Beech",hex:"7B3801"},{name:"Cinnamon",hex:"7B3F00"},{name:"Yukon Gold",hex:"7B6608"},{name:"Tapa",hex:"7B7874"},{name:"Waterloo ",hex:"7B7C94"},{name:"Flax Smoke",hex:"7B8265"},{name:"Amulet",hex:"7B9F80"},{name:"Asparagus",hex:"7BA05B"},{name:"Kenyan Copper",hex:"7C1C05"},{name:"Pesto",hex:"7C7631"},{name:"Topaz",hex:"7C778A"},{name:"Concord",hex:"7C7B7A"},{name:"Jumbo",hex:"7C7B82"},{name:"Trendy Green",hex:"7C881A"},{name:"Gumbo",hex:"7CA1A6"},{name:"Acapulco",hex:"7CB0A1"},{name:"Neptune",hex:"7CB7BB"},{name:"Pueblo",hex:"7D2C14"},{name:"Bay Leaf",hex:"7DA98D"},{name:"Malibu",hex:"7DC8F7"},{name:"Bermuda",hex:"7DD8C6"},{name:"Copper Canyon",hex:"7E3A15"},{name:"Claret",hex:"7F1734"},{name:"Peru Tan",hex:"7F3A02"},{name:"Falcon",hex:"7F626D"},{name:"Mobster",hex:"7F7589"},{name:"Moody Blue",hex:"7F76D3"},{name:"Chartreuse",hex:"7FFF00"},{name:"Aquamarine",hex:"7FFFD4"},{name:"Maroon",hex:"800000"},{name:"Rose Bud Cherry",hex:"800B47"},{name:"Falu Red",hex:"801818"},{name:"Red Robin",hex:"80341F"},{name:"Vivid Violet",hex:"803790"},{name:"Russet",hex:"80461B"},{name:"Friar Gray",hex:"807E79"},{name:"Olive",hex:"808000"},{name:"Gray",hex:"808080"},{name:"Gulf Stream",hex:"80B3AE"},{name:"Glacier",hex:"80B3C4"},{name:"Seagull",hex:"80CCEA"},{name:"Nutmeg",hex:"81422C"},{name:"Spicy Pink",hex:"816E71"},{name:"Empress",hex:"817377"},{name:"Spanish Green",hex:"819885"},{name:"Sand Dune",hex:"826F65"},{name:"Gunsmoke",hex:"828685"},{name:"Battleship Gray",hex:"828F72"},{name:"Merlot",hex:"831923"},{name:"Shadow",hex:"837050"},{name:"Chelsea Cucumber",hex:"83AA5D"},{name:"Monte Carlo",hex:"83D0C6"},{name:"Plum",hex:"843179"},{name:"Granny Smith",hex:"84A0A0"},{name:"Chetwode Blue",hex:"8581D9"},{name:"Bandicoot",hex:"858470"},{name:"Bali Hai",hex:"859FAF"},{name:"Half Baked",hex:"85C4CC"},{name:"Red Devil",hex:"860111"},{name:"Lotus",hex:"863C3C"},{name:"Ironstone",hex:"86483C"},{name:"Bull Shot",hex:"864D1E"},{name:"Rusty Nail",hex:"86560A"},{name:"Bitter",hex:"868974"},{name:"Regent Gray",hex:"86949F"},{name:"Disco",hex:"871550"},{name:"Americano",hex:"87756E"},{name:"Hurricane",hex:"877C7B"},{name:"Oslo Gray",hex:"878D91"},{name:"Sushi",hex:"87AB39"},{name:"Spicy Mix",hex:"885342"},{name:"Kumera",hex:"886221"},{name:"Suva Gray",hex:"888387"},{name:"Avocado",hex:"888D65"},{name:"Camelot",hex:"893456"},{name:"Solid Pink",hex:"893843"},{name:"Cannon Pink",hex:"894367"},{name:"Makara",hex:"897D6D"},{name:"Burnt Umber",hex:"8A3324"},{name:"True V",hex:"8A73D6"},{name:"Clay Creek",hex:"8A8360"},{name:"Monsoon",hex:"8A8389"},{name:"Stack",hex:"8A8F8A"},{name:"Jordy Blue",hex:"8AB9F1"},{name:"Electric Violet",hex:"8B00FF"},{name:"Monarch",hex:"8B0723"},{name:"Corn Harvest",hex:"8B6B0B"},{name:"Olive Haze",hex:"8B8470"},{name:"Schooner",hex:"8B847E"},{name:"Natural Gray",hex:"8B8680"},{name:"Mantle",hex:"8B9C90"},{name:"Portage",hex:"8B9FEE"},{name:"Envy",hex:"8BA690"},{name:"Cascade",hex:"8BA9A5"},{name:"Riptide",hex:"8BE6D8"},{name:"Cardinal Pink",hex:"8C055E"},{name:"Mule Fawn",hex:"8C472F"},{name:"Potters Clay",hex:"8C5738"},{name:"Trendy Pink",hex:"8C6495"},{name:"Paprika",hex:"8D0226"},{name:"Sanguine Brown",hex:"8D3D38"},{name:"Tosca",hex:"8D3F3F"},{name:"Cement",hex:"8D7662"},{name:"Granite Green",hex:"8D8974"},{name:"Manatee",hex:"8D90A1"},{name:"Polo Blue",hex:"8DA8CC"},{name:"Red Berry",hex:"8E0000"},{name:"Rope",hex:"8E4D1E"},{name:"Opium",hex:"8E6F70"},{name:"Domino",hex:"8E775E"},{name:"Mamba",hex:"8E8190"},{name:"Nepal",hex:"8EABC1"},{name:"Pohutukawa",hex:"8F021C"},{name:"El Salva",hex:"8F3E33"},{name:"Korma",hex:"8F4B0E"},{name:"Squirrel",hex:"8F8176"},{name:"Vista Blue",hex:"8FD6B4"},{name:"Burgundy",hex:"900020"},{name:"Old Brick",hex:"901E1E"},{name:"Hemp",hex:"907874"},{name:"Almond Frost",hex:"907B71"},{name:"Sycamore",hex:"908D39"},{name:"Sangria",hex:"92000A"},{name:"Cumin",hex:"924321"},{name:"Beaver",hex:"926F5B"},{name:"Stonewall",hex:"928573"},{name:"Venus",hex:"928590"},{name:"Medium Purple",hex:"9370DB"},{name:"Cornflower",hex:"93CCEA"},{name:"Algae Green",hex:"93DFB8"},{name:"Copper Rust",hex:"944747"},{name:"Arrowtown",hex:"948771"},{name:"Scarlett",hex:"950015"},{name:"Strikemaster",hex:"956387"},{name:"Mountain Mist",hex:"959396"},{name:"Carmine",hex:"960018"},{name:"Brown",hex:"964B00"},{name:"Leather",hex:"967059"},{name:"Purple Mountain's Majesty",hex:"9678B6"},{name:"Lavender Purple",hex:"967BB6"},{name:"Pewter",hex:"96A8A1"},{name:"Summer Green",hex:"96BBAB"},{name:"Au Chico",hex:"97605D"},{name:"Wisteria",hex:"9771B5"},{name:"Atlantis",hex:"97CD2D"},{name:"Vin Rouge",hex:"983D61"},{name:"Lilac Bush",hex:"9874D3"},{name:"Bazaar",hex:"98777B"},{name:"Hacienda",hex:"98811B"},{name:"Pale Oyster",hex:"988D77"},{name:"Mint Green",hex:"98FF98"},{name:"Fresh Eggplant",hex:"990066"},{name:"Violet Eggplant",hex:"991199"},{name:"Tamarillo",hex:"991613"},{name:"Totem Pole",hex:"991B07"},{name:"Copper Rose",hex:"996666"},{name:"Amethyst",hex:"9966CC"},{name:"Mountbatten Pink",hex:"997A8D"},{name:"Blue Bell",hex:"9999CC"},{name:"Prairie Sand",hex:"9A3820"},{name:"Toast",hex:"9A6E61"},{name:"Gurkha",hex:"9A9577"},{name:"Olivine",hex:"9AB973"},{name:"Shadow Green",hex:"9AC2B8"},{name:"Oregon",hex:"9B4703"},{name:"Lemon Grass",hex:"9B9E8F"},{name:"Stiletto",hex:"9C3336"},{name:"Hawaiian Tan",hex:"9D5616"},{name:"Gull Gray",hex:"9DACB7"},{name:"Pistachio",hex:"9DC209"},{name:"Granny Smith Apple",hex:"9DE093"},{name:"Anakiwa",hex:"9DE5FF"},{name:"Chelsea Gem",hex:"9E5302"},{name:"Sepia Skin",hex:"9E5B40"},{name:"Sage",hex:"9EA587"},{name:"Citron",hex:"9EA91F"},{name:"Rock Blue",hex:"9EB1CD"},{name:"Morning Glory",hex:"9EDEE0"},{name:"Cognac",hex:"9F381D"},{name:"Reef Gold",hex:"9F821C"},{name:"Star Dust",hex:"9F9F9C"},{name:"Santas Gray",hex:"9FA0B1"},{name:"Sinbad",hex:"9FD7D3"},{name:"Feijoa",hex:"9FDD8C"},{name:"Tabasco",hex:"A02712"},{name:"Buttered Rum",hex:"A1750D"},{name:"Hit Gray",hex:"A1ADB5"},{name:"Citrus",hex:"A1C50A"},{name:"Aqua Island",hex:"A1DAD7"},{name:"Water Leaf",hex:"A1E9DE"},{name:"Flirt",hex:"A2006D"},{name:"Rouge",hex:"A23B6C"},{name:"Cape Palliser",hex:"A26645"},{name:"Gray Chateau",hex:"A2AAB3"},{name:"Edward",hex:"A2AEAB"},{name:"Pharlap",hex:"A3807B"},{name:"Amethyst Smoke",hex:"A397B4"},{name:"Blizzard Blue",hex:"A3E3ED"},{name:"Delta",hex:"A4A49D"},{name:"Wistful",hex:"A4A6D3"},{name:"Green Smoke",hex:"A4AF6E"},{name:"Jazzberry Jam",hex:"A50B5E"},{name:"Zorba",hex:"A59B91"},{name:"Bahia",hex:"A5CB0C"},{name:"Roof Terracotta",hex:"A62F20"},{name:"Paarl",hex:"A65529"},{name:"Barley Corn",hex:"A68B5B"},{name:"Donkey Brown",hex:"A69279"},{name:"Dawn",hex:"A6A29A"},{name:"Mexican Red",hex:"A72525"},{name:"Luxor Gold",hex:"A7882C"},{name:"Rich Gold",hex:"A85307"},{name:"Reno Sand",hex:"A86515"},{name:"Coral Tree",hex:"A86B6B"},{name:"Dusty Gray",hex:"A8989B"},{name:"Dull Lavender",hex:"A899E6"},{name:"Tallow",hex:"A8A589"},{name:"Bud",hex:"A8AE9C"},{name:"Locust",hex:"A8AF8E"},{name:"Norway",hex:"A8BD9F"},{name:"Chinook",hex:"A8E3BD"},{name:"Gray Olive",hex:"A9A491"},{name:"Aluminium",hex:"A9ACB6"},{name:"Cadet Blue",hex:"A9B2C3"},{name:"Schist",hex:"A9B497"},{name:"Tower Gray",hex:"A9BDBF"},{name:"Perano",hex:"A9BEF2"},{name:"Opal",hex:"A9C6C2"},{name:"Night Shadz",hex:"AA375A"},{name:"Fire",hex:"AA4203"},{name:"Muesli",hex:"AA8B5B"},{name:"Sandal",hex:"AA8D6F"},{name:"Shady Lady",hex:"AAA5A9"},{name:"Logan",hex:"AAA9CD"},{name:"Spun Pearl",hex:"AAABB7"},{name:"Regent St Blue",hex:"AAD6E6"},{name:"Magic Mint",hex:"AAF0D1"},{name:"Lipstick",hex:"AB0563"},{name:"Royal Heath",hex:"AB3472"},{name:"Sandrift",hex:"AB917A"},{name:"Cold Purple",hex:"ABA0D9"},{name:"Bronco",hex:"ABA196"},{name:"Limed Oak",hex:"AC8A56"},{name:"East Side",hex:"AC91CE"},{name:"Lemon Ginger",hex:"AC9E22"},{name:"Napa",hex:"ACA494"},{name:"Hillary",hex:"ACA586"},{name:"Cloudy",hex:"ACA59F"},{name:"Silver Chalice",hex:"ACACAC"},{name:"Swamp Green",hex:"ACB78E"},{name:"Spring Rain",hex:"ACCBB1"},{name:"Conifer",hex:"ACDD4D"},{name:"Celadon",hex:"ACE1AF"},{name:"Mandalay",hex:"AD781B"},{name:"Casper",hex:"ADBED1"},{name:"Moss Green",hex:"ADDFAD"},{name:"Padua",hex:"ADE6C4"},{name:"Green Yellow",hex:"ADFF2F"},{name:"Hippie Pink",hex:"AE4560"},{name:"Desert",hex:"AE6020"},{name:"Bouquet",hex:"AE809E"},{name:"Medium Carmine",hex:"AF4035"},{name:"Apple Blossom",hex:"AF4D43"},{name:"Brown Rust",hex:"AF593E"},{name:"Driftwood",hex:"AF8751"},{name:"Alpine",hex:"AF8F2C"},{name:"Lucky",hex:"AF9F1C"},{name:"Martini",hex:"AFA09E"},{name:"Bombay",hex:"AFB1B8"},{name:"Pigeon Post",hex:"AFBDD9"},{name:"Cadillac",hex:"B04C6A"},{name:"Matrix",hex:"B05D54"},{name:"Tapestry",hex:"B05E81"},{name:"Mai Tai",hex:"B06608"},{name:"Del Rio",hex:"B09A95"},{name:"Powder Blue",hex:"B0E0E6"},{name:"Inch Worm",hex:"B0E313"},{name:"Bright Red",hex:"B10000"},{name:"Vesuvius",hex:"B14A0B"},{name:"Pumpkin Skin",hex:"B1610B"},{name:"Santa Fe",hex:"B16D52"},{name:"Teak",hex:"B19461"},{name:"Fringy Flower",hex:"B1E2C1"},{name:"Ice Cold",hex:"B1F4E7"},{name:"Shiraz",hex:"B20931"},{name:"Biloba Flower",hex:"B2A1EA"},{name:"Tall Poppy",hex:"B32D29"},{name:"Fiery Orange",hex:"B35213"},{name:"Hot Toddy",hex:"B38007"},{name:"Taupe Gray",hex:"B3AF95"},{name:"La Rioja",hex:"B3C110"},{name:"Well Read",hex:"B43332"},{name:"Blush",hex:"B44668"},{name:"Jungle Mist",hex:"B4CFD3"},{name:"Turkish Rose",hex:"B57281"},{name:"Lavender",hex:"B57EDC"},{name:"Mongoose",hex:"B5A27F"},{name:"Olive Green",hex:"B5B35C"},{name:"Jet Stream",hex:"B5D2CE"},{name:"Cruise",hex:"B5ECDF"},{name:"Hibiscus",hex:"B6316C"},{name:"Thatch",hex:"B69D98"},{name:"Heathered Gray",hex:"B6B095"},{name:"Eagle",hex:"B6BAA4"},{name:"Spindle",hex:"B6D1EA"},{name:"Gum Leaf",hex:"B6D3BF"},{name:"Rust",hex:"B7410E"},{name:"Muddy Waters",hex:"B78E5C"},{name:"Sahara",hex:"B7A214"},{name:"Husk",hex:"B7A458"},{name:"Nobel",hex:"B7B1B1"},{name:"Heather",hex:"B7C3D0"},{name:"Madang",hex:"B7F0BE"},{name:"Milano Red",hex:"B81104"},{name:"Copper",hex:"B87333"},{name:"Gimblet",hex:"B8B56A"},{name:"Green Spring",hex:"B8C1B1"},{name:"Celery",hex:"B8C25D"},{name:"Sail",hex:"B8E0F9"},{name:"Chestnut",hex:"B94E48"},{name:"Crail",hex:"B95140"},{name:"Marigold",hex:"B98D28"},{name:"Wild Willow",hex:"B9C46A"},{name:"Rainee",hex:"B9C8AC"},{name:"Guardsman Red",hex:"BA0101"},{name:"Rock Spray",hex:"BA450C"},{name:"Bourbon",hex:"BA6F1E"},{name:"Pirate Gold",hex:"BA7F03"},{name:"Nomad",hex:"BAB1A2"},{name:"Submarine",hex:"BAC7C9"},{name:"Charlotte",hex:"BAEEF9"},{name:"Medium Red Violet",hex:"BB3385"},{name:"Brandy Rose",hex:"BB8983"},{name:"Rio Grande",hex:"BBD009"},{name:"Surf",hex:"BBD7C1"},{name:"Powder Ash",hex:"BCC9C2"},{name:"Tuscany",hex:"BD5E2E"},{name:"Quicksand",hex:"BD978E"},{name:"Silk",hex:"BDB1A8"},{name:"Malta",hex:"BDB2A1"},{name:"Chatelle",hex:"BDB3C7"},{name:"Lavender Gray",hex:"BDBBD7"},{name:"French Gray",hex:"BDBDC6"},{name:"Clay Ash",hex:"BDC8B3"},{name:"Loblolly",hex:"BDC9CE"},{name:"French Pass",hex:"BDEDFD"},{name:"London Hue",hex:"BEA6C3"},{name:"Pink Swan",hex:"BEB5B7"},{name:"Fuego",hex:"BEDE0D"},{name:"Rose of Sharon",hex:"BF5500"},{name:"Tide",hex:"BFB8B0"},{name:"Blue Haze",hex:"BFBED8"},{name:"Silver Sand",hex:"BFC1C2"},{name:"Key Lime Pie",hex:"BFC921"},{name:"Ziggurat",hex:"BFDBE2"},{name:"Lime",hex:"BFFF00"},{name:"Thunderbird",hex:"C02B18"},{name:"Mojo",hex:"C04737"},{name:"Old Rose",hex:"C08081"},{name:"Silver",hex:"C0C0C0"},{name:"Pale Leaf",hex:"C0D3B9"},{name:"Pixie Green",hex:"C0D8B6"},{name:"Tia Maria",hex:"C1440E"},{name:"Fuchsia Pink",hex:"C154C1"},{name:"Buddha Gold",hex:"C1A004"},{name:"Bison Hide",hex:"C1B7A4"},{name:"Tea",hex:"C1BAB0"},{name:"Gray Suit",hex:"C1BECD"},{name:"Sprout",hex:"C1D7B0"},{name:"Sulu",hex:"C1F07C"},{name:"Indochine",hex:"C26B03"},{name:"Twine",hex:"C2955D"},{name:"Cotton Seed",hex:"C2BDB6"},{name:"Pumice",hex:"C2CAC4"},{name:"Jagged Ice",hex:"C2E8E5"},{name:"Maroon Flush",hex:"C32148"},{name:"Indian Khaki",hex:"C3B091"},{name:"Pale Slate",hex:"C3BFC1"},{name:"Gray Nickel",hex:"C3C3BD"},{name:"Periwinkle Gray",hex:"C3CDE6"},{name:"Tiara",hex:"C3D1D1"},{name:"Tropical Blue",hex:"C3DDF9"},{name:"Cardinal",hex:"C41E3A"},{name:"Fuzzy Wuzzy Brown",hex:"C45655"},{name:"Orange Roughy",hex:"C45719"},{name:"Mist Gray",hex:"C4C4BC"},{name:"Coriander",hex:"C4D0B0"},{name:"Mint Tulip",hex:"C4F4EB"},{name:"Mulberry",hex:"C54B8C"},{name:"Nugget",hex:"C59922"},{name:"Tussock",hex:"C5994B"},{name:"Sea Mist",hex:"C5DBCA"},{name:"Yellow Green",hex:"C5E17A"},{name:"Brick Red",hex:"C62D42"},{name:"Contessa",hex:"C6726B"},{name:"Oriental Pink",hex:"C69191"},{name:"Roti",hex:"C6A84B"},{name:"Ash",hex:"C6C3B5"},{name:"Kangaroo",hex:"C6C8BD"},{name:"Las Palmas",hex:"C6E610"},{name:"Monza",hex:"C7031E"},{name:"Red Violet",hex:"C71585"},{name:"Coral Reef",hex:"C7BCA2"},{name:"Melrose",hex:"C7C1FF"},{name:"Cloud",hex:"C7C4BF"},{name:"Ghost",hex:"C7C9D5"},{name:"Pine Glade",hex:"C7CD90"},{name:"Botticelli",hex:"C7DDE5"},{name:"Antique Brass",hex:"C88A65"},{name:"Lilac",hex:"C8A2C8"},{name:"Hokey Pokey",hex:"C8A528"},{name:"Lily",hex:"C8AABF"},{name:"Laser",hex:"C8B568"},{name:"Edgewater",hex:"C8E3D7"},{name:"Piper",hex:"C96323"},{name:"Pizza",hex:"C99415"},{name:"Light Wisteria",hex:"C9A0DC"},{name:"Rodeo Dust",hex:"C9B29B"},{name:"Sundance",hex:"C9B35B"},{name:"Earls Green",hex:"C9B93B"},{name:"Silver Rust",hex:"C9C0BB"},{name:"Conch",hex:"C9D9D2"},{name:"Reef",hex:"C9FFA2"},{name:"Aero Blue",hex:"C9FFE5"},{name:"Flush Mahogany",hex:"CA3435"},{name:"Turmeric",hex:"CABB48"},{name:"Paris White",hex:"CADCD4"},{name:"Bitter Lemon",hex:"CAE00D"},{name:"Skeptic",hex:"CAE6DA"},{name:"Viola",hex:"CB8FA9"},{name:"Foggy Gray",hex:"CBCAB6"},{name:"Green Mist",hex:"CBD3B0"},{name:"Nebula",hex:"CBDBD6"},{name:"Persian Red",hex:"CC3333"},{name:"Burnt Orange",hex:"CC5500"},{name:"Ochre",hex:"CC7722"},{name:"Puce",hex:"CC8899"},{name:"Thistle Green",hex:"CCCAA8"},{name:"Periwinkle",hex:"CCCCFF"},{name:"Electric Lime",hex:"CCFF00"},{name:"Tenn",hex:"CD5700"},{name:"Chestnut Rose",hex:"CD5C5C"},{name:"Brandy Punch",hex:"CD8429"},{name:"Onahau",hex:"CDF4FF"},{name:"Sorrell Brown",hex:"CEB98F"},{name:"Cold Turkey",hex:"CEBABA"},{name:"Yuma",hex:"CEC291"},{name:"Chino",hex:"CEC7A7"},{name:"Eunry",hex:"CFA39D"},{name:"Old Gold",hex:"CFB53B"},{name:"Tasman",hex:"CFDCCF"},{name:"Surf Crest",hex:"CFE5D2"},{name:"Humming Bird",hex:"CFF9F3"},{name:"Scandal",hex:"CFFAF4"},{name:"Red Stage",hex:"D05F04"},{name:"Hopbush",hex:"D06DA1"},{name:"Meteor",hex:"D07D12"},{name:"Perfume",hex:"D0BEF8"},{name:"Prelude",hex:"D0C0E5"},{name:"Tea Green",hex:"D0F0C0"},{name:"Geebung",hex:"D18F1B"},{name:"Vanilla",hex:"D1BEA8"},{name:"Soft Amber",hex:"D1C6B4"},{name:"Celeste",hex:"D1D2CA"},{name:"Mischka",hex:"D1D2DD"},{name:"Pear",hex:"D1E231"},{name:"Hot Cinnamon",hex:"D2691E"},{name:"Raw Sienna",hex:"D27D46"},{name:"Careys Pink",hex:"D29EAA"},{name:"Tan",hex:"D2B48C"},{name:"Deco",hex:"D2DA97"},{name:"Blue Romance",hex:"D2F6DE"},{name:"Gossip",hex:"D2F8B0"},{name:"Sisal",hex:"D3CBBA"},{name:"Swirl",hex:"D3CDC5"},{name:"Charm",hex:"D47494"},{name:"Clam Shell",hex:"D4B6AF"},{name:"Straw",hex:"D4BF8D"},{name:"Akaroa",hex:"D4C4A8"},{name:"Bird Flower",hex:"D4CD16"},{name:"Iron",hex:"D4D7D9"},{name:"Geyser",hex:"D4DFE2"},{name:"Hawkes Blue",hex:"D4E2FC"},{name:"Grenadier",hex:"D54600"},{name:"Can Can",hex:"D591A4"},{name:"Whiskey",hex:"D59A6F"},{name:"Winter Hazel",hex:"D5D195"},{name:"Granny Apple",hex:"D5F6E3"},{name:"My Pink",hex:"D69188"},{name:"Tacha",hex:"D6C562"},{name:"Moon Raker",hex:"D6CEF6"},{name:"Quill Gray",hex:"D6D6D1"},{name:"Snowy Mint",hex:"D6FFDB"},{name:"New York Pink",hex:"D7837F"},{name:"Pavlova",hex:"D7C498"},{name:"Fog",hex:"D7D0FF"},{name:"Valencia",hex:"D84437"},{name:"Japonica",hex:"D87C63"},{name:"Thistle",hex:"D8BFD8"},{name:"Maverick",hex:"D8C2D5"},{name:"Foam",hex:"D8FCFA"},{name:"Cabaret",hex:"D94972"},{name:"Burning Sand",hex:"D99376"},{name:"Cameo",hex:"D9B99B"},{name:"Timberwolf",hex:"D9D6CF"},{name:"Tana",hex:"D9DCC1"},{name:"Link Water",hex:"D9E4F5"},{name:"Mabel",hex:"D9F7FF"},{name:"Cerise",hex:"DA3287"},{name:"Flame Pea",hex:"DA5B38"},{name:"Bamboo",hex:"DA6304"},{name:"Red Damask",hex:"DA6A41"},{name:"Orchid",hex:"DA70D6"},{name:"Copperfield",hex:"DA8A67"},{name:"Golden Grass",hex:"DAA520"},{name:"Zanah",hex:"DAECD6"},{name:"Iceberg",hex:"DAF4F0"},{name:"Oyster Bay",hex:"DAFAFF"},{name:"Cranberry",hex:"DB5079"},{name:"Petite Orchid",hex:"DB9690"},{name:"Di Serria",hex:"DB995E"},{name:"Alto",hex:"DBDBDB"},{name:"Frosted Mint",hex:"DBFFF8"},{name:"Crimson",hex:"DC143C"},{name:"Punch",hex:"DC4333"},{name:"Galliano",hex:"DCB20C"},{name:"Blossom",hex:"DCB4BC"},{name:"Wattle",hex:"DCD747"},{name:"Westar",hex:"DCD9D2"},{name:"Moon Mist",hex:"DCDDCC"},{name:"Caper",hex:"DCEDB4"},{name:"Swans Down",hex:"DCF0EA"},{name:"Swiss Coffee",hex:"DDD6D5"},{name:"White Ice",hex:"DDF9F1"},{name:"Cerise Red",hex:"DE3163"},{name:"Roman",hex:"DE6360"},{name:"Tumbleweed",hex:"DEA681"},{name:"Gold Tips",hex:"DEBA13"},{name:"Brandy",hex:"DEC196"},{name:"Wafer",hex:"DECBC6"},{name:"Sapling",hex:"DED4A4"},{name:"Barberry",hex:"DED717"},{name:"Beryl Green",hex:"DEE5C0"},{name:"Pattens Blue",hex:"DEF5FF"},{name:"Heliotrope",hex:"DF73FF"},{name:"Apache",hex:"DFBE6F"},{name:"Chenin",hex:"DFCD6F"},{name:"Lola",hex:"DFCFDB"},{name:"Willow Brook",hex:"DFECDA"},{name:"Chartreuse Yellow",hex:"DFFF00"},{name:"Mauve",hex:"E0B0FF"},{name:"Anzac",hex:"E0B646"},{name:"Harvest Gold",hex:"E0B974"},{name:"Calico",hex:"E0C095"},{name:"Baby Blue",hex:"E0FFFF"},{name:"Sunglo",hex:"E16865"},{name:"Equator",hex:"E1BC64"},{name:"Pink Flare",hex:"E1C0C8"},{name:"Periglacial Blue",hex:"E1E6D6"},{name:"Kidnapper",hex:"E1EAD4"},{name:"Tara",hex:"E1F6E8"},{name:"Mandy",hex:"E25465"},{name:"Terracotta",hex:"E2725B"},{name:"Golden Bell",hex:"E28913"},{name:"Shocking",hex:"E292C0"},{name:"Dixie",hex:"E29418"},{name:"Light Orchid",hex:"E29CD2"},{name:"Snuff",hex:"E2D8ED"},{name:"Mystic",hex:"E2EBED"},{name:"Apple Green",hex:"E2F3EC"},{name:"Razzmatazz",hex:"E30B5C"},{name:"Alizarin Crimson",hex:"E32636"},{name:"Cinnabar",hex:"E34234"},{name:"Cavern Pink",hex:"E3BEBE"},{name:"Peppermint",hex:"E3F5E1"},{name:"Mindaro",hex:"E3F988"},{name:"Deep Blush",hex:"E47698"},{name:"Gamboge",hex:"E49B0F"},{name:"Melanie",hex:"E4C2D5"},{name:"Twilight",hex:"E4CFDE"},{name:"Bone",hex:"E4D1C0"},{name:"Sunflower",hex:"E4D422"},{name:"Grain Brown",hex:"E4D5B7"},{name:"Zombie",hex:"E4D69B"},{name:"Frostee",hex:"E4F6E7"},{name:"Snow Flurry",hex:"E4FFD1"},{name:"Amaranth",hex:"E52B50"},{name:"Zest",hex:"E5841B"},{name:"Dust Storm",hex:"E5CCC9"},{name:"Stark White",hex:"E5D7BD"},{name:"Hampton",hex:"E5D8AF"},{name:"Bon Jour",hex:"E5E0E1"},{name:"Mercury",hex:"E5E5E5"},{name:"Polar",hex:"E5F9F6"},{name:"Trinidad",hex:"E64E03"},{name:"Gold Sand",hex:"E6BE8A"},{name:"Cashmere",hex:"E6BEA5"},{name:"Double Spanish White",hex:"E6D7B9"},{name:"Satin Linen",hex:"E6E4D4"},{name:"Harp",hex:"E6F2EA"},{name:"Off Green",hex:"E6F8F3"},{name:"Hint of Green",hex:"E6FFE9"},{name:"Tranquil",hex:"E6FFFF"},{name:"Mango Tango",hex:"E77200"},{name:"Christine",hex:"E7730A"},{name:"Tonys Pink",hex:"E79F8C"},{name:"Kobi",hex:"E79FC4"},{name:"Rose Fog",hex:"E7BCB4"},{name:"Corn",hex:"E7BF05"},{name:"Putty",hex:"E7CD8C"},{name:"Gray Nurse",hex:"E7ECE6"},{name:"Lily White",hex:"E7F8FF"},{name:"Bubbles",hex:"E7FEFF"},{name:"Fire Bush",hex:"E89928"},{name:"Shilo",hex:"E8B9B3"},{name:"Pearl Bush",hex:"E8E0D5"},{name:"Green White",hex:"E8EBE0"},{name:"Chrome White",hex:"E8F1D4"},{name:"Gin",hex:"E8F2EB"},{name:"Aqua Squeeze",hex:"E8F5F2"},{name:"Clementine",hex:"E96E00"},{name:"Burnt Sienna",hex:"E97451"},{name:"Tahiti Gold",hex:"E97C07"},{name:"Oyster Pink",hex:"E9CECD"},{name:"Confetti",hex:"E9D75A"},{name:"Ebb",hex:"E9E3E3"},{name:"Ottoman",hex:"E9F8ED"},{name:"Clear Day",hex:"E9FFFD"},{name:"Carissma",hex:"EA88A8"},{name:"Porsche",hex:"EAAE69"},{name:"Tulip Tree",hex:"EAB33B"},{name:"Rob Roy",hex:"EAC674"},{name:"Raffia",hex:"EADAB8"},{name:"White Rock",hex:"EAE8D4"},{name:"Panache",hex:"EAF6EE"},{name:"Solitude",hex:"EAF6FF"},{name:"Aqua Spring",hex:"EAF9F5"},{name:"Dew",hex:"EAFFFE"},{name:"Apricot",hex:"EB9373"},{name:"Zinnwaldite",hex:"EBC2AF"},{name:"Fuel Yellow",hex:"ECA927"},{name:"Ronchi",hex:"ECC54E"},{name:"French Lilac",hex:"ECC7EE"},{name:"Just Right",hex:"ECCDB9"},{name:"Wild Rice",hex:"ECE090"},{name:"Fall Green",hex:"ECEBBD"},{name:"Aths Special",hex:"ECEBCE"},{name:"Starship",hex:"ECF245"},{name:"Red Ribbon",hex:"ED0A3F"},{name:"Tango",hex:"ED7A1C"},{name:"Carrot Orange",hex:"ED9121"},{name:"Sea Pink",hex:"ED989E"},{name:"Tacao",hex:"EDB381"},{name:"Desert Sand",hex:"EDC9AF"},{name:"Pancho",hex:"EDCDAB"},{name:"Chamois",hex:"EDDCB1"},{name:"Primrose",hex:"EDEA99"},{name:"Frost",hex:"EDF5DD"},{name:"Aqua Haze",hex:"EDF5F5"},{name:"Zumthor",hex:"EDF6FF"},{name:"Narvik",hex:"EDF9F1"},{name:"Honeysuckle",hex:"EDFC84"},{name:"Lavender Magenta",hex:"EE82EE"},{name:"Beauty Bush",hex:"EEC1BE"},{name:"Chalky",hex:"EED794"},{name:"Almond",hex:"EED9C4"},{name:"Flax",hex:"EEDC82"},{name:"Bizarre",hex:"EEDEDA"},{name:"Double Colonial White",hex:"EEE3AD"},{name:"Cararra",hex:"EEEEE8"},{name:"Manz",hex:"EEEF78"},{name:"Tahuna Sands",hex:"EEF0C8"},{name:"Athens Gray",hex:"EEF0F3"},{name:"Tusk",hex:"EEF3C3"},{name:"Loafer",hex:"EEF4DE"},{name:"Catskill White",hex:"EEF6F7"},{name:"Twilight Blue",hex:"EEFDFF"},{name:"Jonquil",hex:"EEFF9A"},{name:"Rice Flower",hex:"EEFFE2"},{name:"Jaffa",hex:"EF863F"},{name:"Gallery",hex:"EFEFEF"},{name:"Porcelain",hex:"EFF2F3"},{name:"Mauvelous",hex:"F091A9"},{name:"Golden Dream",hex:"F0D52D"},{name:"Golden Sand",hex:"F0DB7D"},{name:"Buff",hex:"F0DC82"},{name:"Prim",hex:"F0E2EC"},{name:"Khaki",hex:"F0E68C"},{name:"Selago",hex:"F0EEFD"},{name:"Titan White",hex:"F0EEFF"},{name:"Alice Blue",hex:"F0F8FF"},{name:"Feta",hex:"F0FCEA"},{name:"Gold Drop",hex:"F18200"},{name:"Wewak",hex:"F19BAB"},{name:"Sahara Sand",hex:"F1E788"},{name:"Parchment",hex:"F1E9D2"},{name:"Blue Chalk",hex:"F1E9FF"},{name:"Mint Julep",hex:"F1EEC1"},{name:"Seashell",hex:"F1F1F1"},{name:"Saltpan",hex:"F1F7F2"},{name:"Tidal",hex:"F1FFAD"},{name:"Chiffon",hex:"F1FFC8"},{name:"Flamingo",hex:"F2552A"},{name:"Tangerine",hex:"F28500"},{name:"Mandys Pink",hex:"F2C3B2"},{name:"Concrete",hex:"F2F2F2"},{name:"Black Squeeze",hex:"F2FAFA"},{name:"Pomegranate",hex:"F34723"},{name:"Buttercup",hex:"F3AD16"},{name:"New Orleans",hex:"F3D69D"},{name:"Vanilla Ice",hex:"F3D9DF"},{name:"Sidecar",hex:"F3E7BB"},{name:"Dawn Pink",hex:"F3E9E5"},{name:"Wheatfield",hex:"F3EDCF"},{name:"Canary",hex:"F3FB62"},{name:"Orinoco",hex:"F3FBD4"},{name:"Carla",hex:"F3FFD8"},{name:"Hollywood Cerise",hex:"F400A1"},{name:"Sandy brown",hex:"F4A460"},{name:"Saffron",hex:"F4C430"},{name:"Ripe Lemon",hex:"F4D81C"},{name:"Janna",hex:"F4EBD3"},{name:"Pampas",hex:"F4F2EE"},{name:"Wild Sand",hex:"F4F4F4"},{name:"Zircon",hex:"F4F8FF"},{name:"Froly",hex:"F57584"},{name:"Cream Can",hex:"F5C85C"},{name:"Manhattan",hex:"F5C999"},{name:"Maize",hex:"F5D5A0"},{name:"Wheat",hex:"F5DEB3"},{name:"Sandwisp",hex:"F5E7A2"},{name:"Pot Pourri",hex:"F5E7E2"},{name:"Albescent White",hex:"F5E9D3"},{name:"Soft Peach",hex:"F5EDEF"},{name:"Ecru White",hex:"F5F3E5"},{name:"Beige",hex:"F5F5DC"},{name:"Golden Fizz",hex:"F5FB3D"},{name:"Australian Mint",hex:"F5FFBE"},{name:"French Rose",hex:"F64A8A"},{name:"Brilliant Rose",hex:"F653A6"},{name:"Illusion",hex:"F6A4C9"},{name:"Merino",hex:"F6F0E6"},{name:"Black Haze",hex:"F6F7F7"},{name:"Spring Sun",hex:"F6FFDC"},{name:"Violet Red",hex:"F7468A"},{name:"Chilean Fire",hex:"F77703"},{name:"Persian Pink",hex:"F77FBE"},{name:"Rajah",hex:"F7B668"},{name:"Azalea",hex:"F7C8DA"},{name:"We Peep",hex:"F7DBE6"},{name:"Quarter Spanish White",hex:"F7F2E1"},{name:"Whisper",hex:"F7F5FA"},{name:"Snow Drift",hex:"F7FAF7"},{name:"Casablanca",hex:"F8B853"},{name:"Chantilly",hex:"F8C3DF"},{name:"Cherub",hex:"F8D9E9"},{name:"Marzipan",hex:"F8DB9D"},{name:"Energy Yellow",hex:"F8DD5C"},{name:"Givry",hex:"F8E4BF"},{name:"White Linen",hex:"F8F0E8"},{name:"Magnolia",hex:"F8F4FF"},{name:"Spring Wood",hex:"F8F6F1"},{name:"Coconut Cream",hex:"F8F7DC"},{name:"White Lilac",hex:"F8F7FC"},{name:"Desert Storm",hex:"F8F8F7"},{name:"Texas",hex:"F8F99C"},{name:"Corn Field",hex:"F8FACD"},{name:"Mimosa",hex:"F8FDD3"},{name:"Carnation",hex:"F95A61"},{name:"Saffron Mango",hex:"F9BF58"},{name:"Carousel Pink",hex:"F9E0ED"},{name:"Dairy Cream",hex:"F9E4BC"},{name:"Portica",hex:"F9E663"},{name:"Amour",hex:"F9EAF3"},{name:"Rum Swizzle",hex:"F9F8E4"},{name:"Dolly",hex:"F9FF8B"},{name:"Sugar Cane",hex:"F9FFF6"},{name:"Ecstasy",hex:"FA7814"},{name:"Tan Hide",hex:"FA9D5A"},{name:"Corvette",hex:"FAD3A2"},{name:"Peach Yellow",hex:"FADFAD"},{name:"Turbo",hex:"FAE600"},{name:"Astra",hex:"FAEAB9"},{name:"Champagne",hex:"FAECCC"},{name:"Linen",hex:"FAF0E6"},{name:"Fantasy",hex:"FAF3F0"},{name:"Citrine White",hex:"FAF7D6"},{name:"Alabaster",hex:"FAFAFA"},{name:"Hint of Yellow",hex:"FAFDE4"},{name:"Milan",hex:"FAFFA4"},{name:"Brink Pink",hex:"FB607F"},{name:"Geraldine",hex:"FB8989"},{name:"Lavender Rose",hex:"FBA0E3"},{name:"Sea Buckthorn",hex:"FBA129"},{name:"Sun",hex:"FBAC13"},{name:"Lavender Pink",hex:"FBAED2"},{name:"Rose Bud",hex:"FBB2A3"},{name:"Cupid",hex:"FBBEDA"},{name:"Classic Rose",hex:"FBCCE7"},{name:"Apricot Peach",hex:"FBCEB1"},{name:"Banana Mania",hex:"FBE7B2"},{name:"Marigold Yellow",hex:"FBE870"},{name:"Festival",hex:"FBE96C"},{name:"Sweet Corn",hex:"FBEA8C"},{name:"Candy Corn",hex:"FBEC5D"},{name:"Hint of Red",hex:"FBF9F9"},{name:"Shalimar",hex:"FBFFBA"},{name:"Shocking Pink",hex:"FC0FC0"},{name:"Tickle Me Pink",hex:"FC80A5"},{name:"Tree Poppy",hex:"FC9C1D"},{name:"Lightning Yellow",hex:"FCC01E"},{name:"Goldenrod",hex:"FCD667"},{name:"Candlelight",hex:"FCD917"},{name:"Cherokee",hex:"FCDA98"},{name:"Double Pearl Lusta",hex:"FCF4D0"},{name:"Pearl Lusta",hex:"FCF4DC"},{name:"Vista White",hex:"FCF8F7"},{name:"Bianca",hex:"FCFBF3"},{name:"Moon Glow",hex:"FCFEDA"},{name:"China Ivory",hex:"FCFFE7"},{name:"Ceramic",hex:"FCFFF9"},{name:"Torch Red",hex:"FD0E35"},{name:"Wild Watermelon",hex:"FD5B78"},{name:"Crusta",hex:"FD7B33"},{name:"Sorbus",hex:"FD7C07"},{name:"Sweet Pink",hex:"FD9FA2"},{name:"Light Apricot",hex:"FDD5B1"},{name:"Pig Pink",hex:"FDD7E4"},{name:"Cinderella",hex:"FDE1DC"},{name:"Golden Glow",hex:"FDE295"},{name:"Lemon",hex:"FDE910"},{name:"Old Lace",hex:"FDF5E6"},{name:"Half Colonial White",hex:"FDF6D3"},{name:"Drover",hex:"FDF7AD"},{name:"Pale Prim",hex:"FDFEB8"},{name:"Cumulus",hex:"FDFFD5"},{name:"Persian Rose",hex:"FE28A2"},{name:"Sunset Orange",hex:"FE4C40"},{name:"Bittersweet",hex:"FE6F5E"},{name:"California",hex:"FE9D04"},{name:"Yellow Sea",hex:"FEA904"},{name:"Melon",hex:"FEBAAD"},{name:"Bright Sun",hex:"FED33C"},{name:"Dandelion",hex:"FED85D"},{name:"Salomie",hex:"FEDB8D"},{name:"Cape Honey",hex:"FEE5AC"},{name:"Remy",hex:"FEEBF3"},{name:"Oasis",hex:"FEEFCE"},{name:"Bridesmaid",hex:"FEF0EC"},{name:"Beeswax",hex:"FEF2C7"},{name:"Bleach White",hex:"FEF3D8"},{name:"Pipi",hex:"FEF4CC"},{name:"Half Spanish White",hex:"FEF4DB"},{name:"Wisp Pink",hex:"FEF4F8"},{name:"Provincial Pink",hex:"FEF5F1"},{name:"Half Dutch White",hex:"FEF7DE"},{name:"Solitaire",hex:"FEF8E2"},{name:"White Pointer",hex:"FEF8FF"},{name:"Off Yellow",hex:"FEF9E3"},{name:"Orange White",hex:"FEFCED"},{name:"Red",hex:"FF0000"},{name:"Rose",hex:"FF007F"},{name:"Purple Pizzazz",hex:"FF00CC"},{name:"Magenta / Fuchsia",hex:"FF00FF"},{name:"Scarlet",hex:"FF2400"},{name:"Wild Strawberry",hex:"FF3399"},{name:"Razzle Dazzle Rose",hex:"FF33CC"},{name:"Radical Red",hex:"FF355E"},{name:"Red Orange",hex:"FF3F34"},{name:"Coral Red",hex:"FF4040"},{name:"Vermilion",hex:"FF4D00"},{name:"International Orange",hex:"FF4F00"},{name:"Outrageous Orange",hex:"FF6037"},{name:"Blaze Orange",hex:"FF6600"},{name:"Pink Flamingo",hex:"FF66FF"},{name:"Orange",hex:"FF681F"},{name:"Hot Pink",hex:"FF69B4"},{name:"Persimmon",hex:"FF6B53"},{name:"Blush Pink",hex:"FF6FFF"},{name:"Burning Orange",hex:"FF7034"},{name:"Pumpkin",hex:"FF7518"},{name:"Flamenco",hex:"FF7D07"},{name:"Flush Orange",hex:"FF7F00"},{name:"Coral",hex:"FF7F50"},{name:"Salmon",hex:"FF8C69"},{name:"Pizazz",hex:"FF9000"},{name:"West Side",hex:"FF910F"},{name:"Pink Salmon",hex:"FF91A4"},{name:"Neon Carrot",hex:"FF9933"},{name:"Atomic Tangerine",hex:"FF9966"},{name:"Vivid Tangerine",hex:"FF9980"},{name:"Sunshade",hex:"FF9E2C"},{name:"Orange Peel",hex:"FFA000"},{name:"Mona Lisa",hex:"FFA194"},{name:"Web Orange",hex:"FFA500"},{name:"Carnation Pink",hex:"FFA6C9"},{name:"Hit Pink",hex:"FFAB81"},{name:"Yellow Orange",hex:"FFAE42"},{name:"Cornflower Lilac",hex:"FFB0AC"},{name:"Sundown",hex:"FFB1B3"},{name:"My Sin",hex:"FFB31F"},{name:"Texas Rose",hex:"FFB555"},{name:"Cotton Candy",hex:"FFB7D5"},{name:"Macaroni and Cheese",hex:"FFB97B"},{name:"Selective Yellow",hex:"FFBA00"},{name:"Koromiko",hex:"FFBD5F"},{name:"Amber",hex:"FFBF00"},{name:"Wax Flower",hex:"FFC0A8"},{name:"Pink",hex:"FFC0CB"},{name:"Your Pink",hex:"FFC3C0"},{name:"Supernova",hex:"FFC901"},{name:"Flesh",hex:"FFCBA4"},{name:"Sunglow",hex:"FFCC33"},{name:"Golden Tainoi",hex:"FFCC5C"},{name:"Peach Orange",hex:"FFCC99"},{name:"Chardonnay",hex:"FFCD8C"},{name:"Pastel Pink",hex:"FFD1DC"},{name:"Romantic",hex:"FFD2B7"},{name:"Grandis",hex:"FFD38C"},{name:"Gold",hex:"FFD700"},{name:"School bus Yellow",hex:"FFD800"},{name:"Cosmos",hex:"FFD8D9"},{name:"Mustard",hex:"FFDB58"},{name:"Peach Schnapps",hex:"FFDCD6"},{name:"Caramel",hex:"FFDDAF"},{name:"Tuft Bush",hex:"FFDDCD"},{name:"Watusi",hex:"FFDDCF"},{name:"Pink Lace",hex:"FFDDF4"},{name:"Navajo White",hex:"FFDEAD"},{name:"Frangipani",hex:"FFDEB3"},{name:"Pippin",hex:"FFE1DF"},{name:"Pale Rose",hex:"FFE1F2"},{name:"Negroni",hex:"FFE2C5"},{name:"Cream Brulee",hex:"FFE5A0"},{name:"Peach",hex:"FFE5B4"},{name:"Tequila",hex:"FFE6C7"},{name:"Kournikova",hex:"FFE772"},{name:"Sandy Beach",hex:"FFEAC8"},{name:"Karry",hex:"FFEAD4"},{name:"Broom",hex:"FFEC13"},{name:"Colonial White",hex:"FFEDBC"},{name:"Derby",hex:"FFEED8"},{name:"Vis Vis",hex:"FFEFA1"},{name:"Egg White",hex:"FFEFC1"},{name:"Papaya Whip",hex:"FFEFD5"},{name:"Fair Pink",hex:"FFEFEC"},{name:"Peach Cream",hex:"FFF0DB"},{name:"Lavender blush",hex:"FFF0F5"},{name:"Gorse",hex:"FFF14F"},{name:"Buttermilk",hex:"FFF1B5"},{name:"Pink Lady",hex:"FFF1D8"},{name:"Forget Me Not",hex:"FFF1EE"},{name:"Tutu",hex:"FFF1F9"},{name:"Picasso",hex:"FFF39D"},{name:"Chardon",hex:"FFF3F1"},{name:"Paris Daisy",hex:"FFF46E"},{name:"Barley White",hex:"FFF4CE"},{name:"Egg Sour",hex:"FFF4DD"},{name:"Sazerac",hex:"FFF4E0"},{name:"Serenade",hex:"FFF4E8"},{name:"Chablis",hex:"FFF4F3"},{name:"Seashell Peach",hex:"FFF5EE"},{name:"Sauvignon",hex:"FFF5F3"},{name:"Milk Punch",hex:"FFF6D4"},{name:"Varden",hex:"FFF6DF"},{name:"Rose White",hex:"FFF6F5"},{name:"Baja White",hex:"FFF8D1"},{name:"Gin Fizz",hex:"FFF9E2"},{name:"Early Dawn",hex:"FFF9E6"},{name:"Lemon Chiffon",hex:"FFFACD"},{name:"Bridal Heath",hex:"FFFAF4"},{name:"Scotch Mist",hex:"FFFBDC"},{name:"Soapstone",hex:"FFFBF9"},{name:"Witch Haze",hex:"FFFC99"},{name:"Buttery White",hex:"FFFCEA"},{name:"Island Spice",hex:"FFFCEE"},{name:"Cream",hex:"FFFDD0"},{name:"Chilean Heath",hex:"FFFDE6"},{name:"Travertine",hex:"FFFDE8"},{name:"Orchid White",hex:"FFFDF3"},{name:"Quarter Pearl Lusta",hex:"FFFDF4"},{name:"Half and Half",hex:"FFFEE1"},{name:"Apricot White",hex:"FFFEEC"},{name:"Rice Cake",hex:"FFFEF0"},{name:"Black White",hex:"FFFEF6"},{name:"Romance",hex:"FFFEFD"},{name:"Yellow",hex:"FFFF00"},{name:"Laser Lemon",hex:"FFFF66"},{name:"Pale Canary",hex:"FFFF99"},{name:"Portafino",hex:"FFFFB4"},{name:"Ivory",hex:"FFFFF0"},{name:"White",hex:"FFFFFF"}]});var mk=le((Eie,pk)=>{pk.exports=[{name:"Mahogany",hex:"#CD4A4A"},{name:"Fuzzy Wuzzy Brown",hex:"#CC6666"},{name:"Chestnut",hex:"#BC5D58"},{name:"Red Orange",hex:"#FF5349"},{name:"Sunset Orange",hex:"#FD5E53"},{name:"Bittersweet",hex:"#FD7C6E"},{name:"Melon",hex:"#FDBCB4"},{name:"Outrageous Orange",hex:"#FF6E4A"},{name:"Vivid Tangerine",hex:"#FFA089"},{name:"Burnt Sienna",hex:"#EA7E5D"},{name:"Brown",hex:"#B4674D"},{name:"Sepia",hex:"#A5694F"},{name:"Orange",hex:"#FF7538"},{name:"Burnt Orange",hex:"#FF7F49"},{name:"Copper",hex:"#DD9475"},{name:"Mango Tango",hex:"#FF8243"},{name:"Atomic Tangerine",hex:"#FFA474"},{name:"Beaver",hex:"#9F8170"},{name:"Antique Brass",hex:"#CD9575"},{name:"Desert Sand",hex:"#EFCDB8"},{name:"Raw Sienna",hex:"#D68A59"},{name:"Tumbleweed",hex:"#DEAA88"},{name:"Tan",hex:"#FAA76C"},{name:"Peach",hex:"#FFCFAB"},{name:"Macaroni and Cheese",hex:"#FFBD88"},{name:"Apricot",hex:"#FDD9B5"},{name:"Neon Carrot",hex:"#FFA343"},{name:"Almond",hex:"#EFDBC5"},{name:"Yellow Orange",hex:"#FFB653"},{name:"Gold",hex:"#E7C697"},{name:"Shadow",hex:"#8A795D"},{name:"Banana Mania",hex:"#FAE7B5"},{name:"Sunglow",hex:"#FFCF48"},{name:"Goldenrod",hex:"#FCD975"},{name:"Dandelion",hex:"#FDDB6D"},{name:"Yellow",hex:"#FCE883"},{name:"Green Yellow",hex:"#F0E891"},{name:"Spring Green",hex:"#ECEABE"},{name:"Olive Green",hex:"#BAB86C"},{name:"Laser Lemon",hex:"#FDFC74"},{name:"Unmellow Yellow",hex:"#FDFC74"},{name:"Canary",hex:"#FFFF99"},{name:"Yellow Green",hex:"#C5E384"},{name:"Inch Worm",hex:"#B2EC5D"},{name:"Asparagus",hex:"#87A96B"},{name:"Granny Smith Apple",hex:"#A8E4A0"},{name:"Electric Lime",hex:"#1DF914"},{name:"Screamin Green",hex:"#76FF7A"},{name:"Fern",hex:"#71BC78"},{name:"Forest Green",hex:"#6DAE81"},{name:"Sea Green",hex:"#9FE2BF"},{name:"Green",hex:"#1CAC78"},{name:"Mountain Meadow",hex:"#30BA8F"},{name:"Shamrock",hex:"#45CEA2"},{name:"Jungle Green",hex:"#3BB08F"},{name:"Caribbean Green",hex:"#1CD3A2"},{name:"Tropical Rain Forest",hex:"#17806D"},{name:"Pine Green",hex:"#158078"},{name:"Robin Egg Blue",hex:"#1FCECB"},{name:"Aquamarine",hex:"#78DBE2"},{name:"Turquoise Blue",hex:"#77DDE7"},{name:"Sky Blue",hex:"#80DAEB"},{name:"Outer Space",hex:"#414A4C"},{name:"Blue Green",hex:"#199EBD"},{name:"Pacific Blue",hex:"#1CA9C9"},{name:"Cerulean",hex:"#1DACD6"},{name:"Cornflower",hex:"#9ACEEB"},{name:"Midnight Blue",hex:"#1A4876"},{name:"Navy Blue",hex:"#1974D2"},{name:"Denim",hex:"#2B6CC4"},{name:"Blue",hex:"#1F75FE"},{name:"Periwinkle",hex:"#C5D0E6"},{name:"Cadet Blue",hex:"#B0B7C6"},{name:"Indigo",hex:"#5D76CB"},{name:"Wild Blue Yonder",hex:"#A2ADD0"},{name:"Manatee",hex:"#979AAA"},{name:"Blue Bell",hex:"#ADADD6"},{name:"Blue Violet",hex:"#7366BD"},{name:"Purple Heart",hex:"#7442C8"},{name:"Royal Purple",hex:"#7851A9"},{name:"Purple Mountains\u2019 Majesty",hex:"#9D81BA"},{name:"Violet (Purple)",hex:"#926EAE"},{name:"Wisteria",hex:"#CDA4DE"},{name:"Vivid Violet",hex:"#8F509D"},{name:"Fuchsia",hex:"#C364C5"},{name:"Shocking Pink",hex:"#FB7EFD"},{name:"Pink Flamingo",hex:"#FC74FD"},{name:"Plum",hex:"#8E4585"},{name:"Hot Magenta",hex:"#FF1DCE"},{name:"Purple Pizzazz",hex:"#FF1DCE"},{name:"Razzle Dazzle Rose",hex:"#FF48D0"},{name:"Orchid",hex:"#E6A8D7"},{name:"Red Violet",hex:"#C0448F"},{name:"Eggplant",hex:"#6E5160"},{name:"Cerise",hex:"#DD4492"},{name:"Wild Strawberry",hex:"#FF43A4"},{name:"Magenta",hex:"#F664AF"},{name:"Lavender",hex:"#FCB4D5"},{name:"Cotton Candy",hex:"#FFBCD9"},{name:"Violet Red",hex:"#F75394"},{name:"Carnation Pink",hex:"#FFAACC"},{name:"Razzmatazz",hex:"#E3256B"},{name:"Piggy Pink",hex:"#FDD7E4"},{name:"Jazzberry Jam",hex:"#CA3767"},{name:"Blush",hex:"#DE5D83"},{name:"Tickle Me Pink",hex:"#FC89AC"},{name:"Pink Sherbet",hex:"#F780A1"},{name:"Maroon",hex:"#C8385A"},{name:"Red",hex:"#EE204D"},{name:"Radical Red",hex:"#FF496C"},{name:"Mauvelous",hex:"#EF98AA"},{name:"Wild Watermelon",hex:"#FC6C85"},{name:"Scarlet",hex:"#FC2847"},{name:"Salmon",hex:"#FF9BAA"},{name:"Brick Red",hex:"#CB4154"},{name:"White",hex:"#EDEDED"},{name:"Timberwolf",hex:"#DBD7D2"},{name:"Silver",hex:"#CDC5C2"},{name:"Gray",hex:"#95918C"},{name:"Black",hex:"#232323"}]});var yk=le((wie,gk)=>{gk.exports=[{name:"red",hex:"#FF0000"},{name:"orange",hex:"#FFA500"},{name:"yellow",hex:"#FFFF00"},{name:"green",hex:"#008000"},{name:"blue",hex:"#0000FF"},{name:"indigo",hex:"#4B0082"},{name:"violet",hex:"#EE82EE"}]});var _k=le((xie,vk)=>{vk.exports=[{name:"indigo",hex:"#4b0082"},{name:"gold",hex:"#ffd700"},{name:"hotpink",hex:"#ff69b4"},{name:"firebrick",hex:"#b22222"},{name:"indianred",hex:"#cd5c5c"},{name:"yellow",hex:"#ffff00"},{name:"mistyrose",hex:"#ffe4e1"},{name:"darkolivegreen",hex:"#556b2f"},{name:"olive",hex:"#808000"},{name:"darkseagreen",hex:"#8fbc8f"},{name:"pink",hex:"#ffc0cb"},{name:"tomato",hex:"#ff6347"},{name:"lightcoral",hex:"#f08080"},{name:"orangered",hex:"#ff4500"},{name:"navajowhite",hex:"#ffdead"},{name:"lime",hex:"#00ff00"},{name:"palegreen",hex:"#98fb98"},{name:"darkslategrey",hex:"#2f4f4f"},{name:"greenyellow",hex:"#adff2f"},{name:"burlywood",hex:"#deb887"},{name:"seashell",hex:"#fff5ee"},{name:"mediumspringgreen",hex:"#00fa9a"},{name:"fuchsia",hex:"#ff00ff"},{name:"papayawhip",hex:"#ffefd5"},{name:"blanchedalmond",hex:"#ffebcd"},{name:"chartreuse",hex:"#7fff00"},{name:"dimgray",hex:"#696969"},{name:"black",hex:"#000000"},{name:"peachpuff",hex:"#ffdab9"},{name:"springgreen",hex:"#00ff7f"},{name:"aquamarine",hex:"#7fffd4"},{name:"white",hex:"#ffffff"},{name:"orange",hex:"#ffa500"},{name:"lightsalmon",hex:"#ffa07a"},{name:"darkslategray",hex:"#2f4f4f"},{name:"brown",hex:"#a52a2a"},{name:"ivory",hex:"#fffff0"},{name:"dodgerblue",hex:"#1e90ff"},{name:"peru",hex:"#cd853f"},{name:"lawngreen",hex:"#7cfc00"},{name:"chocolate",hex:"#d2691e"},{name:"crimson",hex:"#dc143c"},{name:"forestgreen",hex:"#228b22"},{name:"darkgrey",hex:"#a9a9a9"},{name:"lightseagreen",hex:"#20b2aa"},{name:"cyan",hex:"#00ffff"},{name:"mintcream",hex:"#f5fffa"},{name:"silver",hex:"#c0c0c0"},{name:"antiquewhite",hex:"#faebd7"},{name:"mediumorchid",hex:"#ba55d3"},{name:"skyblue",hex:"#87ceeb"},{name:"gray",hex:"#808080"},{name:"darkturquoise",hex:"#00ced1"},{name:"goldenrod",hex:"#daa520"},{name:"darkgreen",hex:"#006400"},{name:"floralwhite",hex:"#fffaf0"},{name:"darkviolet",hex:"#9400d3"},{name:"darkgray",hex:"#a9a9a9"},{name:"moccasin",hex:"#ffe4b5"},{name:"saddlebrown",hex:"#8b4513"},{name:"grey",hex:"#808080"},{name:"darkslateblue",hex:"#483d8b"},{name:"lightskyblue",hex:"#87cefa"},{name:"lightpink",hex:"#ffb6c1"},{name:"mediumvioletred",hex:"#c71585"},{name:"slategrey",hex:"#708090"},{name:"red",hex:"#ff0000"},{name:"deeppink",hex:"#ff1493"},{name:"limegreen",hex:"#32cd32"},{name:"darkmagenta",hex:"#8b008b"},{name:"palegoldenrod",hex:"#eee8aa"},{name:"plum",hex:"#dda0dd"},{name:"turquoise",hex:"#40e0d0"},{name:"lightgrey",hex:"#d3d3d3"},{name:"lightgoldenrodyellow",hex:"#fafad2"},{name:"darkgoldenrod",hex:"#b8860b"},{name:"lavender",hex:"#e6e6fa"},{name:"maroon",hex:"#800000"},{name:"yellowgreen",hex:"#9acd32"},{name:"sandybrown",hex:"#f4a460"},{name:"thistle",hex:"#d8bfd8"},{name:"violet",hex:"#ee82ee"},{name:"navy",hex:"#000080"},{name:"magenta",hex:"#ff00ff"},{name:"dimgrey",hex:"#696969"},{name:"tan",hex:"#d2b48c"},{name:"rosybrown",hex:"#bc8f8f"},{name:"olivedrab",hex:"#6b8e23"},{name:"blue",hex:"#0000ff"},{name:"lightblue",hex:"#add8e6"},{name:"ghostwhite",hex:"#f8f8ff"},{name:"honeydew",hex:"#f0fff0"},{name:"cornflowerblue",hex:"#6495ed"},{name:"slateblue",hex:"#6a5acd"},{name:"linen",hex:"#faf0e6"},{name:"darkblue",hex:"#00008b"},{name:"powderblue",hex:"#b0e0e6"},{name:"seagreen",hex:"#2e8b57"},{name:"darkkhaki",hex:"#bdb76b"},{name:"snow",hex:"#fffafa"},{name:"sienna",hex:"#a0522d"},{name:"mediumblue",hex:"#0000cd"},{name:"royalblue",hex:"#4169e1"},{name:"lightcyan",hex:"#e0ffff"},{name:"green",hex:"#008000"},{name:"mediumpurple",hex:"#9370db"},{name:"midnightblue",hex:"#191970"},{name:"cornsilk",hex:"#fff8dc"},{name:"paleturquoise",hex:"#afeeee"},{name:"bisque",hex:"#ffe4c4"},{name:"slategray",hex:"#708090"},{name:"darkcyan",hex:"#008b8b"},{name:"khaki",hex:"#f0e68c"},{name:"wheat",hex:"#f5deb3"},{name:"teal",hex:"#008080"},{name:"darkorchid",hex:"#9932cc"},{name:"deepskyblue",hex:"#00bfff"},{name:"salmon",hex:"#fa8072"},{name:"darkred",hex:"#8b0000"},{name:"steelblue",hex:"#4682b4"},{name:"palevioletred",hex:"#db7093"},{name:"lightslategray",hex:"#778899"},{name:"aliceblue",hex:"#f0f8ff"},{name:"lightslategrey",hex:"#778899"},{name:"lightgreen",hex:"#90ee90"},{name:"orchid",hex:"#da70d6"},{name:"gainsboro",hex:"#dcdcdc"},{name:"mediumseagreen",hex:"#3cb371"},{name:"lightgray",hex:"#d3d3d3"},{name:"mediumturquoise",hex:"#48d1cc"},{name:"lemonchiffon",hex:"#fffacd"},{name:"cadetblue",hex:"#5f9ea0"},{name:"lightyellow",hex:"#ffffe0"},{name:"lavenderblush",hex:"#fff0f5"},{name:"coral",hex:"#ff7f50"},{name:"purple",hex:"#800080"},{name:"aqua",hex:"#00ffff"},{name:"whitesmoke",hex:"#f5f5f5"},{name:"mediumslateblue",hex:"#7b68ee"},{name:"darkorange",hex:"#ff8c00"},{name:"mediumaquamarine",hex:"#66cdaa"},{name:"darksalmon",hex:"#e9967a"},{name:"beige",hex:"#f5f5dc"},{name:"blueviolet",hex:"#8a2be2"},{name:"azure",hex:"#f0ffff"},{name:"lightsteelblue",hex:"#b0c4de"},{name:"oldlace",hex:"#fdf5e6"}]});var xk=le((Cie,wk)=>{"use strict";var jc=yR(),Tz=ak(),PC={basic:ck(),html:dk(),ntc:fk(),pantone:mk(),roygbiv:yk(),x11:_k()},FC=new Tz,Ek=wk.exports=function(t,e){e=e||{};var n={color:t,options:e};if(FC.has(n))return FC.get(n);var r=String(e.distance).toLowerCase()==="deltae";t=jc(t);var i={};for(var o in PC)e.pick&&e.pick.indexOf(o)===-1||e.omit&&e.omit.indexOf(o)!==-1||(i[o]=PC[o].map(function(s){return s.distance=r?jc.deltaE(t,jc(s.hex)):jc.distance(t,jc(s.hex)),s}).sort(function(s,a){return s.distance-a.distance}));return FC.set(n,i),i};Ek.chroma=jc;Ek.lists=PC});var $b=null;var yy=1,qb=Symbol("SIGNAL");function gt(t){let e=$b;return $b=t,e}var zb={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function b2(t){if(!(Ey(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yy)){if(!t.producerMustRecompute(t)&&!vy(t)){t.dirty=!1,t.lastCleanEpoch=yy;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yy}}function Gb(t){return t&&(t.nextProducerIndex=0),gt(t)}function Hb(t,e){if(gt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ey(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_y(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vy(t){Ih(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(b2(n),r!==n.version))return!0}return!1}function Wb(t){if(Ih(t),Ey(t))for(let e=0;e<t.producerNode.length;e++)_y(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _y(t,e){if(D2(t),Ih(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_y(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ih(i),i.producerIndexOfThis[r]=e}}function Ey(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ih(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function D2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function I2(){throw new Error}var A2=I2;function Kb(t){A2=t}function ke(t){return typeof t=="function"}function Ka(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ah=Ka(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ps(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Kt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ke(r))try{r()}catch(o){e=o instanceof Ah?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qb(o)}catch(s){e=e??[],s instanceof Ah?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ah(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ps(n,e)}remove(e){let{_finalizers:n}=this;n&&Ps(n,e),e instanceof t&&e._removeParent(this)}};Kt.EMPTY=(()=>{let t=new Kt;return t.closed=!0,t})();var wy=Kt.EMPTY;function Sh(t){return t instanceof Kt||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function Qb(t){ke(t)?t():t.unsubscribe()}var $r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qa={setTimeout(t,e,...n){let{delegate:r}=Qa;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Th(t){Qa.setTimeout(()=>{let{onUnhandledError:e}=$r;if(e)e(t);else throw t})}function nu(){}var Yb=xy("C",void 0,void 0);function Jb(t){return xy("E",void 0,t)}function Zb(t){return xy("N",t,void 0)}function xy(t,e,n){return{kind:t,value:e,error:n}}var Rs=null;function Ya(t){if($r.useDeprecatedSynchronousErrorHandling){let e=!Rs;if(e&&(Rs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Rs;if(Rs=null,n)throw r}}else t()}function Xb(t){$r.useDeprecatedSynchronousErrorHandling&&Rs&&(Rs.errorThrown=!0,Rs.error=t)}var Ns=class extends Kt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sh(e)&&e.add(this)):this.destination=M2}static create(e,n,r){return new zi(e,n,r)}next(e){this.isStopped?by(Zb(e),this):this._next(e)}error(e){this.isStopped?by(Jb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?by(Yb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},S2=Function.prototype.bind;function Cy(t,e){return S2.call(t,e)}var Dy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mh(r)}else Mh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mh(n)}}},zi=class extends Ns{constructor(e,n,r){super();let i;if(ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$r.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cy(e.next,o),error:e.error&&Cy(e.error,o),complete:e.complete&&Cy(e.complete,o)}):i=e}this.destination=new Dy(i)}};function Mh(t){$r.useDeprecatedSynchronousErrorHandling?Xb(t):Th(t)}function T2(t){throw t}function by(t,e){let{onStoppedNotification:n}=$r;n&&Qa.setTimeout(()=>n(t,e))}var M2={closed:!0,next:nu,error:T2,complete:nu};var Ja=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zn(t){return t}function Iy(...t){return Ay(t)}function Ay(t){return t.length===0?zn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=P2(n)?n:new zi(n,r,i);return Ya(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=eD(r),new r((i,o)=>{let s=new zi({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ja](){return this}pipe(...n){return Ay(n)(this)}toPromise(n){return n=eD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function eD(t){var e;return(e=t??$r.Promise)!==null&&e!==void 0?e:Promise}function F2(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}function P2(t){return t&&t instanceof Ns||F2(t)&&Sh(t)}function Sy(t){return ke(t?.lift)}function ze(t){return e=>{if(Sy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(t,e,n,r,i){return new Ty(t,e,n,r,i)}var Ty=class extends Ns{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Za(){return ze((t,e)=>{let n=null;t._refCount++;let r=Ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xa=class extends Ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kt;let n=this.getSubject();e.add(this.source.subscribe(Ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kt.EMPTY)}return e}refCount(){return Za()(this)}};var tD=Ka(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qt=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tD}next(n){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wy:(this.currentObservers=null,o.push(n),new Kt(()=>{this.currentObservers=null,Ps(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ke;return n.source=this,n}}return t.create=(e,n)=>new Fh(e,n),t})(),Fh=class extends qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:wy}};var Cn=class extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ru={now(){return(ru.delegate||Date).now()},delegate:void 0};var Ph=class extends qt{constructor(e=1/0,n=1/0,r=ru){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Rh=class extends Kt{constructor(e,n){super()}schedule(e,n=0){return this}};var iu={setInterval(t,e,...n){let{delegate:r}=iu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=iu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var el=class extends Rh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return iu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&iu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ps(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var tl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};tl.now=ru.now;var nl=class extends tl{constructor(e,n=tl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ou=new nl(el);var Nh=class extends el{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Oh=class extends nl{};var My=new Oh(Nh);var Gn=new Ke(t=>t.complete());function nD(t){return t&&ke(t.schedule)}function Fy(t){return t[t.length-1]}function kh(t){return ke(Fy(t))?t.pop():void 0}function mi(t){return nD(Fy(t))?t.pop():void 0}function rD(t,e){return typeof Fy(t)=="number"?t.pop():e}var Vh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Lh(t){return ke(t?.then)}function Bh(t){return ke(t[Ja])}function jh(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function Uh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function R2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $h=R2();function qh(t){return ke(t?.[$h])}function zh(t){return Nb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ch(n.read());if(i)return yield Ch(void 0);yield yield Ch(r)}}finally{n.releaseLock()}})}function Gh(t){return ke(t?.getReader)}function Mt(t){if(t instanceof Ke)return t;if(t!=null){if(Bh(t))return N2(t);if(Vh(t))return O2(t);if(Lh(t))return k2(t);if(jh(t))return iD(t);if(qh(t))return V2(t);if(Gh(t))return L2(t)}throw Uh(t)}function N2(t){return new Ke(e=>{let n=t[Ja]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O2(t){return new Ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function k2(t){return new Ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Th)})}function V2(t){return new Ke(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iD(t){return new Ke(e=>{B2(t,e).catch(n=>e.error(n))})}function L2(t){return iD(zh(t))}function B2(t,e){var n,r,i,o;return Rb(this,void 0,void 0,function*(){try{for(n=Ob(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Zn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xr(t,e=0){return ze((n,r)=>{n.subscribe(Ge(r,i=>Zn(r,t,()=>r.next(i),e),()=>Zn(r,t,()=>r.complete(),e),i=>Zn(r,t,()=>r.error(i),e)))})}function qr(t,e=0){return ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oD(t,e){return Mt(t).pipe(qr(e),xr(e))}function sD(t,e){return Mt(t).pipe(qr(e),xr(e))}function aD(t,e){return new Ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lD(t,e){return new Ke(n=>{let r;return Zn(n,e,()=>{r=t[$h](),Zn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}function Hh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(n=>{Zn(n,e,()=>{let r=t[Symbol.asyncIterator]();Zn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cD(t,e){return Hh(zh(t),e)}function uD(t,e){if(t!=null){if(Bh(t))return oD(t,e);if(Vh(t))return aD(t,e);if(Lh(t))return sD(t,e);if(jh(t))return Hh(t,e);if(qh(t))return lD(t,e);if(Gh(t))return cD(t,e)}throw Uh(t)}function $e(t,e){return e?uD(t,e):Mt(t)}function Se(...t){let e=mi(t);return $e(t,e)}function rl(t,e){let n=ke(t)?t:()=>t,r=i=>i.error(n());return new Ke(e?i=>e.schedule(r,0,i):r)}function Py(t){return!!t&&(t instanceof Ke||ke(t.lift)&&ke(t.subscribe))}var Gi=Ka(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(t,e){return ze((n,r)=>{let i=0;n.subscribe(Ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:j2}=Array;function U2(t,e){return j2(e)?t(...e):t(e)}function Wh(t){return xe(e=>U2(t,e))}var{isArray:$2}=Array,{getPrototypeOf:q2,prototype:z2,keys:G2}=Object;function Kh(t){if(t.length===1){let e=t[0];if($2(e))return{args:e,keys:null};if(H2(e)){let n=G2(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function H2(t){return t&&typeof t=="object"&&q2(t)===z2}function Qh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function su(...t){let e=mi(t),n=kh(t),{args:r,keys:i}=Kh(t);if(r.length===0)return $e([],e);let o=new Ke(W2(r,e,i?s=>Qh(i,s):zn));return n?o.pipe(Wh(n)):o}function W2(t,e,n=zn){return r=>{dD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dD(e,()=>{let u=$e(t[l],e),d=!1;u.subscribe(Ge(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dD(t,e,n){t?Zn(n,t,e):e()}function hD(t,e,n,r,i,o,s,a){let l=[],u=0,d=0,f=!1,g=()=>{f&&!l.length&&!u&&e.complete()},x=N=>u<r?P(N):l.push(N),P=N=>{o&&e.next(N),u++;let V=!1;Mt(n(N,d++)).subscribe(Ge(e,z=>{i?.(z),o?x(z):e.next(z)},()=>{V=!0},void 0,()=>{if(V)try{for(u--;l.length&&u<r;){let z=l.shift();s?Zn(e,s,()=>P(z)):P(z)}g()}catch(z){e.error(z)}}))};return t.subscribe(Ge(e,x,()=>{f=!0,g()})),()=>{a?.()}}function Vt(t,e,n=1/0){return ke(e)?Vt((r,i)=>xe((o,s)=>e(r,o,i,s))(Mt(t(r,i))),n):(typeof e=="number"&&(n=e),ze((r,i)=>hD(r,i,t,n)))}function Ao(t=1/0){return Vt(zn,t)}function fD(){return Ao(1)}function il(...t){return fD()($e(t,mi(t)))}function Yh(t){return new Ke(e=>{Mt(t()).subscribe(e)})}function Ry(...t){let e=kh(t),{args:n,keys:r}=Kh(t),i=new Ke(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let f=!1;Mt(n[d]).subscribe(Ge(o,g=>{f||(f=!0,u--),a[d]=g},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(r?Qh(r,a):a),o.complete())}))}});return e?i.pipe(Wh(e)):i}function Ny(...t){let e=mi(t),n=rD(t,1/0),r=t;return r.length?r.length===1?Mt(r[0]):Ao(n)($e(r,e)):Gn}function dn(t,e){return ze((n,r)=>{let i=0;n.subscribe(Ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function So(t){return ze((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ge(n,void 0,void 0,s=>{o=Mt(t(s,So(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pD(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ge(s,d=>{let f=u++;l=a?t(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Hi(t,e){return ke(e)?Vt(t,e,1):Vt(t,1)}function To(t){return ze((e,n)=>{let r=!1;e.subscribe(Ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Wi(t){return t<=0?()=>Gn:ze((e,n)=>{let r=0;e.subscribe(Ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Oy(t){return xe(()=>t)}function ky(t,e=zn){return t=t??K2,ze((n,r)=>{let i,o=!0;n.subscribe(Ge(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function K2(t,e){return t===e}function Jh(t=Q2){return ze((e,n)=>{let r=!1;e.subscribe(Ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Q2(){return new Gi}function Mo(t){return ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Cr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):zn,Wi(1),n?To(e):Jh(()=>new Gi))}function ol(t){return t<=0?()=>Gn:ze((e,n)=>{let r=[];e.subscribe(Ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):zn,ol(1),n?To(e):Jh(()=>new Gi))}function au(){return ze((t,e)=>{let n,r=!1;t.subscribe(Ge(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Os(t,e){return ze(pD(t,e,arguments.length>=2,!0))}function mD(t={}){let{connector:e=()=>new qt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,d=!1,f=!1,g=()=>{a?.unsubscribe(),a=void 0},x=()=>{g(),s=l=void 0,d=f=!1},P=()=>{let N=s;x(),N?.unsubscribe()};return ze((N,V)=>{u++,!f&&!d&&g();let z=l=l??e();V.add(()=>{u--,u===0&&!f&&!d&&(a=Ly(P,i))}),z.subscribe(V),!s&&u>0&&(s=new zi({next:ee=>z.next(ee),error:ee=>{f=!0,g(),a=Ly(x,n,ee),z.error(ee)},complete:()=>{d=!0,g(),a=Ly(x,r),z.complete()}}),Mt(N).subscribe(s))})(o)}}function Ly(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new zi({next:()=>{r.unsubscribe(),t()}});return Mt(e(...n)).subscribe(r)}function Zh(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,mD({connector:()=>new Ph(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ks(...t){let e=mi(t);return ze((n,r)=>{(e?il(t,n,e):il(t,n)).subscribe(r)})}function Nt(t,e){return ze((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ge(r,l=>{i?.unsubscribe();let u=0,d=o++;Mt(t(l,d)).subscribe(i=Ge(r,f=>r.next(e?e(l,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xh(t,e){return ke(e)?Nt(()=>t,e):Nt(()=>t)}function By(t){return ze((e,n)=>{Mt(t).subscribe(Ge(n,()=>n.complete(),nu)),!n.closed&&e.subscribe(n)})}function tn(t,e,n){let r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?ze((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ge(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):zn}var eI="https://g.co/ng/security#xss",te=class extends Error{constructor(e,n){super(Nf(e,n)),this.code=e}};function Nf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _u(t){return{toString:t}.toString()}var ef="__parameters__";function Y2(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function tI(t,e,n){return _u(()=>{let r=Y2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,d){let f=l.hasOwnProperty(ef)?l[ef]:Object.defineProperty(l,ef,{value:[]})[ef];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wn=globalThis;function Dt(t){for(let e in t)if(t[e]===Dt)return e;throw Error("Could not find renamed property on target object.")}function J2(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Kn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gD(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Z2=Dt({__forward_ref__:Dt});function Vo(t){return t.__forward_ref__=Vo,t.toString=function(){return Kn(this())},t}function Hn(t){return nI(t)?t():t}function nI(t){return typeof t=="function"&&t.hasOwnProperty(Z2)&&t.__forward_ref__===Vo}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Of(t){return yD(t,iI)||yD(t,oI)}function rI(t){return Of(t)!==null}function yD(t,e){return t.hasOwnProperty(e)?t[e]:null}function X2(t){let e=t&&(t[iI]||t[oI]);return e||null}function vD(t){return t&&(t.hasOwnProperty(_D)||t.hasOwnProperty(eV))?t[_D]:null}var iI=Dt({\u0275prov:Dt}),_D=Dt({\u0275inj:Dt}),oI=Dt({ngInjectableDef:Dt}),eV=Dt({ngInjectorDef:Dt}),he=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sI(t){return t&&!!t.\u0275providers}var tV=Dt({\u0275cmp:Dt}),nV=Dt({\u0275dir:Dt}),rV=Dt({\u0275pipe:Dt}),iV=Dt({\u0275mod:Dt}),df=Dt({\u0275fac:Dt}),lu=Dt({__NG_ELEMENT_ID__:Dt}),ED=Dt({__NG_ENV_ID__:Dt});function kf(t){return typeof t=="string"?t:t==null?"":String(t)}function oV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kf(t)}function sV(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,t)}function j0(t,e){throw new te(-201,!1)}var Ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ye||{}),e0;function aI(){return e0}function Xn(t){let e=e0;return e0=t,e}function lI(t,e,n){let r=Of(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ye.Optional)return null;if(e!==void 0)return e;j0(t,"Injector")}var aV={},uu=aV,t0="__NG_DI_FLAG__",hf="ngTempTokenPath",lV="ngTokenPath",cV=/\n/gm,uV="\u0275",wD="__source",ul;function dV(){return ul}function Fo(t){let e=ul;return ul=t,e}function hV(t,e=Ye.Default){if(ul===void 0)throw new te(-203,!1);return ul===null?lI(t,void 0,e):ul.get(t,e&Ye.Optional?null:void 0,e)}function X(t,e=Ye.Default){return(aI()||hV)(Hn(t),e)}function oe(t,e=Ye.Default){return X(t,Vf(e))}function Vf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function n0(t){let e=[];for(let n=0;n<t.length;n++){let r=Hn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=Ye.Default;for(let s=0;s<r.length;s++){let a=r[s],l=fV(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function cI(t,e){return t[t0]=e,t.prototype[t0]=e,t}function fV(t){return t[t0]}function pV(t,e,n,r){let i=t[hf];throw e[wD]&&i.unshift(e[wD]),t.message=mV(`
`+t.message,i,n,r),t[lV]=i,t[hf]=null,t}function mV(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==uV?t.slice(2):t;let i=Kn(e);if(Array.isArray(e))i=e.map(Kn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Kn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cV,`
  `)}`}var xl=cI(tI("Optional"),8);var U0=cI(tI("SkipSelf"),4);function Bs(t,e){let n=t.hasOwnProperty(df);return n?t[df]:null}function $0(t,e){t.forEach(n=>Array.isArray(n)?$0(n,e):e(n))}function uI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ff(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yV(t,e,n){let r=Eu(t,e);return r>=0?t[r|1]=n:(r=~r,gV(t,r,e,n)),r}function jy(t,e){let n=Eu(t,e);if(n>=0)return t[n|1]}function Eu(t,e){return vV(t,e,1)}function vV(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var hl={},br=[],fl=new he(""),dI=new he("",-1),hI=new he(""),pf=class{get(e,n=uu){if(n===uu){let r=new Error(`NullInjectorError: No provider for ${Kn(e)}!`);throw r.name="NullInjectorError",r}return n}},fI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fI||{}),vi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vi||{}),Tn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tn||{});function _V(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function r0(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];EV(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pI(t){return t===3||t===4||t===6}function EV(t){return t.charCodeAt(0)===64}function du(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xD(t,n,i,null,e[++r]):xD(t,n,i,null,null))}}return t}function xD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var mI="ng-template";function wV(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_V(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(q0(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function q0(t){return t.type===4&&t.value!==mI}function xV(t,e,n){let r=t.type===4&&!n?mI:t.value;return e===r}function CV(t,e,n){let r=4,i=t.attrs,o=i!==null?IV(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!zr(r)&&!zr(l))return!1;if(s&&zr(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!xV(t,l,n)||l===""&&e.length===1){if(zr(r))return!1;s=!0}}else if(r&8){if(i===null||!wV(t,i,l,n)){if(zr(r))return!1;s=!0}}else{let u=e[++a],d=bV(l,i,q0(t),n);if(d===-1){if(zr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(zr(r))return!1;s=!0}}}}return zr(r)||s}function zr(t){return(t&1)===0}function bV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AV(e,t)}function DV(t,e,n=!1){for(let r=0;r<e.length;r++)if(CV(t,e[r],n))return!0;return!1}function IV(t){for(let e=0;e<t.length;e++){let n=t[e];if(pI(n))return e}return t.length}function AV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function CD(t,e){return t?":not("+e.trim()+")":e}function SV(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zr(s)&&(e+=CD(o,i),i=""),r=s,o=o||!zr(r);n++}return i!==""&&(e+=CD(o,i)),e}function TV(t){return t.map(SV).join(",")}function MV(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!zr(i))break;i=o}r++}return{attrs:e,classes:n}}function ot(t){return _u(()=>{let e=EI(t),n=vt(de({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vi.Emulated,styles:t.styles||br,_:null,schemas:t.schemas||null,tView:null,id:""});wI(n);let r=t.dependencies;return n.directiveDefs=DD(r,!1),n.pipeDefs=DD(r,!0),n.id=RV(n),n})}function FV(t){return Ro(t)||gI(t)}function PV(t){return t!==null}function Bt(t){return _u(()=>({type:t.type,bootstrap:t.bootstrap||br,declarations:t.declarations||br,imports:t.imports||br,exports:t.exports||br,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bD(t,e){if(t==null)return hl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Tn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Tn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function hn(t){return _u(()=>{let e=EI(t);return wI(e),e})}function z0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ro(t){return t[tV]||null}function gI(t){return t[nV]||null}function yI(t){return t[rV]||null}function vI(t){let e=Ro(t)||gI(t)||yI(t);return e!==null?e.standalone:!1}function _I(t,e){let n=t[iV]||null;if(!n&&e===!0)throw new Error(`Type ${Kn(t)} does not have '\u0275mod' property.`);return n}function EI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||hl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||br,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bD(t.inputs,e),outputs:bD(t.outputs),debugInfo:null}}function wI(t){t.features?.forEach(e=>e(t))}function DD(t,e){if(!t)return null;let n=e?yI:FV;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(PV)}function RV(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lf(t){return{\u0275providers:t}}function NV(...t){return{\u0275providers:xI(!0,t),\u0275fromNgModule:!0}}function xI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return $0(e,s=>{let a=s;i0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CI(i,o),n}function CI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];G0(i,o=>{e(o,r)})}}function i0(t,e,n,r){if(t=Hn(t),!t)return!1;let i=null,o=vD(t),s=!o&&Ro(t);if(!o&&!s){let l=t.ngModule;if(o=vD(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)i0(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{$0(o.imports,d=>{i0(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&CI(u,e)}if(!a){let u=Bs(i)||(()=>new i);e({provide:i,useFactory:u,deps:br},i),e({provide:hI,useValue:i,multi:!0},i),e({provide:fl,useValue:()=>X(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=t;G0(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function G0(t,e){for(let n of t)sI(n)&&(n=n.\u0275providers),Array.isArray(n)?G0(n,e):e(n)}var OV=Dt({provide:String,useValue:Dt});function bI(t){return t!==null&&typeof t=="object"&&OV in t}function kV(t){return!!(t&&t.useExisting)}function VV(t){return!!(t&&t.useFactory)}function pl(t){return typeof t=="function"}function LV(t){return!!t.useClass}var Bf=new he(""),sf={},BV={},Uy;function H0(){return Uy===void 0&&(Uy=new pf),Uy}var Mn=class{},hu=class extends Mn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,s0(e,s=>this.processProvider(s)),this.records.set(dI,sl(void 0,this)),i.has("environment")&&this.records.set(Mn,sl(void 0,this));let o=this.records.get(Bf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hI,br,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=gt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),gt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fo(this),r=Xn(void 0),i;try{return e()}finally{Fo(n),Xn(r)}}get(e,n=uu,r=Ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ED))return e[ED](this);r=Vf(r);let i,o=Fo(this),s=Xn(void 0);try{if(!(r&Ye.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=zV(e)&&Of(e);u&&this.injectableDefInScope(u)?l=sl(o0(e),sf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Ye.Self?H0():this.parent;return n=r&Ye.Optional&&n===uu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hf]=a[hf]||[]).unshift(Kn(e)),o)throw a;return pV(a,e,"R3InjectorError",this.source)}else throw a}finally{Xn(s),Fo(o)}}resolveInjectorInitializers(){let e=gt(null),n=Fo(this),r=Xn(void 0),i;try{let o=this.get(fl,br,Ye.Self);for(let s of o)s()}finally{Fo(n),Xn(r),gt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Kn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Hn(e);let n=pl(e)?e:Hn(e&&e.provide),r=UV(e);if(!pl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=sl(void 0,sf,!0),i.factory=()=>n0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=gt(null);try{return n.value===sf&&(n.value=BV,n.value=n.factory()),typeof n.value=="object"&&n.value&&qV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{gt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Hn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function o0(t){let e=Of(t),n=e!==null?e.factory:Bs(t);if(n!==null)return n;if(t instanceof he)throw new te(204,!1);if(t instanceof Function)return jV(t);throw new te(204,!1)}function jV(t){if(t.length>0)throw new te(204,!1);let n=X2(t);return n!==null?()=>n.factory(t):()=>new t}function UV(t){if(bI(t))return sl(void 0,t.useValue);{let e=DI(t);return sl(e,sf)}}function DI(t,e,n){let r;if(pl(t)){let i=Hn(t);return Bs(i)||o0(i)}else if(bI(t))r=()=>Hn(t.useValue);else if(VV(t))r=()=>t.useFactory(...n0(t.deps||[]));else if(kV(t))r=()=>X(Hn(t.useExisting));else{let i=Hn(t&&(t.useClass||t.provide));if($V(t))r=()=>new i(...n0(t.deps));else return Bs(i)||o0(i)}return r}function sl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $V(t){return!!t.deps}function qV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zV(t){return typeof t=="function"||typeof t=="object"&&t instanceof he}function s0(t,e){for(let n of t)Array.isArray(n)?s0(n,e):n&&sI(n)?s0(n.\u0275providers,e):e(n)}function Qr(t,e){t instanceof hu&&t.assertNotDestroyed();let n,r=Fo(t),i=Xn(void 0);try{return e()}finally{Fo(r),Xn(i)}}function II(){return aI()!==void 0||dV()!=null}function GV(t){if(!II())throw new te(-203,!1)}function HV(t){let e=Wn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WV(t){return typeof t=="function"}var Yi=0,it=1,Oe=2,Fn=3,Gr=4,Yr=5,mf=6,fu=7,Hr=8,ml=9,Wr=10,yn=11,pu=12,ID=13,Cl=14,_i=15,jf=16,al=17,gl=18,Uf=19,AI=20,Po=21,$y=22,js=23,Kr=25,SI=1;var Us=7,gf=8,yf=9,Dr=10,W0=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(W0||{});function Vs(t){return Array.isArray(t)&&typeof t[SI]=="object"}function Ji(t){return Array.isArray(t)&&t[SI]===!0}function K0(t){return(t.flags&4)!==0}function $f(t){return t.componentOffset>-1}function qf(t){return(t.flags&1)===1}function No(t){return!!t.template}function KV(t){return(t[Oe]&512)!==0}var a0=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function TI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Lo(){return MI}function MI(t){return t.type.prototype.ngOnChanges&&(t.setInput=YV),QV}Lo.ngInherit=!0;function QV(){let t=PI(this),e=t?.current;if(e){let n=t.previous;if(n===hl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YV(t,e,n,r,i){let o=this.declaredInputs[r],s=PI(t)||JV(t,{previous:hl,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new a0(u&&u.currentValue,n,l===hl),TI(t,e,i,n)}var FI="__ngSimpleChanges__";function PI(t){return t[FI]||null}function JV(t,e){return t[FI]=e}var AD=null;var gi=function(t,e,n){AD?.(t,e,n)},RI="svg",ZV="math",XV=!1;function eL(){return XV}function Ei(t){for(;Array.isArray(t);)t=t[Yi];return t}function NI(t,e){return Ei(e[t])}function Ir(t,e){return Ei(e[t.index])}function OI(t,e){return t.data[e]}function tL(t,e){return t[e]}function Bo(t,e){let n=e[t];return Vs(n)?n:n[Yi]}function Q0(t){return(t[Oe]&128)===128}function nL(t){return Ji(t[Fn])}function yl(t,e){return e==null?null:t[e]}function kI(t){t[al]=0}function rL(t){t[Oe]&1024||(t[Oe]|=1024,Q0(t)&&mu(t))}function iL(t,e){for(;t>0;)e=e[Cl],t--;return e}function Y0(t){return!!(t[Oe]&9216||t[js]?.dirty)}function l0(t){t[Wr].changeDetectionScheduler?.notify(1),Y0(t)?mu(t):t[Oe]&64&&(eL()?(t[Oe]|=1024,mu(t)):t[Wr].changeDetectionScheduler?.notify())}function mu(t){t[Wr].changeDetectionScheduler?.notify();let e=gu(t);for(;e!==null&&!(e[Oe]&8192||(e[Oe]|=8192,!Q0(e)));)e=gu(e)}function VI(t,e){if((t[Oe]&256)===256)throw new te(911,!1);t[Po]===null&&(t[Po]=[]),t[Po].push(e)}function oL(t,e){if(t[Po]===null)return;let n=t[Po].indexOf(e);n!==-1&&t[Po].splice(n,1)}function gu(t){let e=t[Fn];return Ji(e)?e[Fn]:e}var Je={lFrame:GI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sL(){return Je.lFrame.elementDepthCount}function aL(){Je.lFrame.elementDepthCount++}function lL(){Je.lFrame.elementDepthCount--}function LI(){return Je.bindingsEnabled}function cL(){return Je.skipHydrationRootTNode!==null}function uL(t){return Je.skipHydrationRootTNode===t}function dL(){Je.skipHydrationRootTNode=null}function It(){return Je.lFrame.lView}function er(){return Je.lFrame.tView}function Pn(t){return Je.lFrame.contextLView=t,t[Hr]}function Rn(t){return Je.lFrame.contextLView=null,t}function tr(){let t=BI();for(;t!==null&&t.type===64;)t=t.parent;return t}function BI(){return Je.lFrame.currentTNode}function hL(){let t=Je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ws(t,e){let n=Je.lFrame;n.currentTNode=t,n.isParent=e}function J0(){return Je.lFrame.isParent}function jI(){Je.lFrame.isParent=!1}function UI(){let t=Je.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fL(t){return Je.lFrame.bindingIndex=t}function Z0(){return Je.lFrame.bindingIndex++}function pL(t){let e=Je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mL(){return Je.lFrame.inI18n}function gL(t,e){let n=Je.lFrame;n.bindingIndex=n.bindingRootIndex=t,c0(e)}function yL(){return Je.lFrame.currentDirectiveIndex}function c0(t){Je.lFrame.currentDirectiveIndex=t}function vL(t){let e=Je.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $I(t){Je.lFrame.currentQueryIndex=t}function _L(t){let e=t[it];return e.type===2?e.declTNode:e.type===1?t[Yr]:null}function qI(t,e,n){if(n&Ye.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Ye.Host);)if(i=_L(o),i===null||(o=o[Cl],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Je.lFrame=zI();return r.currentTNode=e,r.lView=t,!0}function X0(t){let e=zI(),n=t[it];Je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zI(){let t=Je.lFrame,e=t===null?null:t.child;return e===null?GI(t):e}function GI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HI(){let t=Je.lFrame;return Je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WI=HI;function ev(){let t=HI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function EL(t){return(Je.lFrame.contextLView=iL(t,Je.lFrame.contextLView))[Hr]}function bl(){return Je.lFrame.selectedIndex}function $s(t){Je.lFrame.selectedIndex=t}function KI(){let t=Je.lFrame;return OI(t.tView,t.selectedIndex)}function QI(){Je.lFrame.currentNamespace=RI}function wL(){return Je.lFrame.currentNamespace}var YI=!0;function zf(){return YI}function Gf(t){YI=t}function xL(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function af(t,e,n){JI(t,e,3,n)}function lf(t,e,n,r){(t[Oe]&3)===n&&JI(t,e,n,r)}function qy(t,e){let n=t[Oe];(n&3)===e&&(n&=16383,n+=1,t[Oe]=n)}function JI(t,e,n,r){let i=r!==void 0?t[al]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[al]+=65536),(a<o||o==-1)&&(CL(t,n,e,l),t[al]=(t[al]&4294901760)+l+2),l++}function SD(t,e){gi(4,t,e);let n=gt(null);try{e.call(t)}finally{gt(n),gi(5,t,e)}}function CL(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Oe]>>14<t[al]>>16&&(t[Oe]&3)===e&&(t[Oe]+=16384,SD(a,o)):SD(a,o)}var dl=-1,qs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bL(t){return t instanceof qs}function DL(t){return(t.flags&8)!==0}function IL(t){return(t.flags&16)!==0}function ZI(t){return t!==dl}function vf(t){return t&32767}function AL(t){return t>>16}function _f(t,e){let n=AL(t),r=e;for(;n>0;)r=r[Cl],n--;return r}var u0=!0;function Ef(t){let e=u0;return u0=t,e}var SL=256,XI=SL-1,eA=5,TL=0,yi={};function ML(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(lu)&&(r=n[lu]),r==null&&(r=n[lu]=TL++);let i=r&XI,o=1<<i;e.data[t+(i>>eA)]|=o}function wf(t,e){let n=tA(t,e);if(n!==-1)return n;let r=e[it];r.firstCreatePass&&(t.injectorIndex=e.length,zy(r.data,t),zy(e,null),zy(r.blueprint,null));let i=tv(t,e),o=t.injectorIndex;if(ZI(i)){let s=vf(i),a=_f(i,e),l=a[it].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function zy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sA(i),r===null)return dl;if(n++,i=i[Cl],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return dl}function d0(t,e,n){ML(t,e,n)}function FL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(pI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function nA(t,e,n){if(n&Ye.Optional||t!==void 0)return t;j0(e,"NodeInjector")}function rA(t,e,n,r){if(n&Ye.Optional&&r===void 0&&(r=null),!(n&(Ye.Self|Ye.Host))){let i=t[ml],o=Xn(void 0);try{return i?i.get(e,r,n&Ye.Optional):lI(e,r,n&Ye.Optional)}finally{Xn(o)}}return nA(r,e,n)}function iA(t,e,n,r=Ye.Default,i){if(t!==null){if(e[Oe]&2048&&!(r&Ye.Self)){let s=kL(t,e,n,r,yi);if(s!==yi)return s}let o=oA(t,e,n,r,yi);if(o!==yi)return o}return rA(e,n,r,i)}function oA(t,e,n,r,i){let o=NL(n);if(typeof o=="function"){if(!qI(e,t,r))return r&Ye.Host?nA(i,n,r):rA(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ye.Optional))j0(n);else return s}finally{WI()}}else if(typeof o=="number"){let s=null,a=tA(t,e),l=dl,u=r&Ye.Host?e[_i][Yr]:null;for((a===-1||r&Ye.SkipSelf)&&(l=a===-1?tv(t,e):e[a+8],l===dl||!MD(r,!1)?a=-1:(s=e[it],a=vf(l),e=_f(l,e)));a!==-1;){let d=e[it];if(TD(o,a,d.data)){let f=PL(a,e,n,s,r,u);if(f!==yi)return f}l=e[a+8],l!==dl&&MD(r,e[it].data[a+8]===u)&&TD(o,a,e)?(s=d,a=vf(l),e=_f(l,e)):a=-1}}return i}function PL(t,e,n,r,i,o){let s=e[it],a=s.data[t+8],l=r==null?$f(a)&&u0:r!=s&&(a.type&3)!==0,u=i&Ye.Host&&o===a,d=RL(a,s,n,l,u);return d!==null?vl(e,s,d,a):yi}function RL(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,u=t.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let x=f;x<g;x++){let P=s[x];if(x<l&&n===P||x>=l&&P.type===n)return x}if(i){let x=s[l];if(x&&No(x)&&x.type===n)return l}return null}function vl(t,e,n,r){let i=t[n],o=e.data;if(bL(i)){let s=i;s.resolving&&sV(oV(o[n]));let a=Ef(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Xn(s.injectImpl):null,d=qI(t,r,Ye.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&xL(n,o[n],e)}finally{u!==null&&Xn(u),Ef(a),s.resolving=!1,WI()}}return i}function NL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lu)?t[lu]:void 0;return typeof e=="number"?e>=0?e&XI:OL:e}function TD(t,e,n){let r=1<<t;return!!(n[e+(t>>eA)]&r)}function MD(t,e){return!(t&Ye.Self)&&!(t&Ye.Host&&e)}var Ls=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iA(this._tNode,this._lView,e,Vf(r),n)}};function OL(){return new Ls(tr(),It())}function Ks(t){return _u(()=>{let e=t.prototype.constructor,n=e[df]||h0(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[df]||h0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function h0(t){return nI(t)?()=>{let e=h0(Hn(t));return e&&e()}:Bs(t)}function kL(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Oe]&2048&&!(s[Oe]&512);){let a=oA(o,s,n,r|Ye.Self,yi);if(a!==yi)return a;let l=o.parent;if(!l){let u=s[AI];if(u){let d=u.get(n,yi,r);if(d!==yi)return d}l=sA(s),s=s[Cl]}o=l}return i}function sA(t){let e=t[it],n=e.type;return n===2?e.declTNode:n===1?t[Yr]:null}function nv(t){return FL(tr(),t)}function FD(t,e=null,n=null,r){let i=aA(t,e,n,r);return i.resolveInjectorInitializers(),i}function aA(t,e=null,n=null,r,i=new Set){let o=[n||br,NV(t)];return r=r||(typeof t=="object"?void 0:Kn(t)),new hu(o,e||H0(),r||null,i)}var Jr=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return FD({name:""},i,r,"");{let o=r.name??"";return FD({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=uu,e.NULL=new pf,e.\u0275prov=pe({token:e,providedIn:"any",factory:()=>X(dI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var VL="ngOriginalError";function Gy(t){return t[VL]}var wi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gy(e);for(;n&&Gy(n);)n=Gy(n);return n||null}},lA=new he("",{providedIn:"root",factory:()=>oe(wi).handleError.bind(void 0)}),rv=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),f0=class extends rv{constructor(e){super(),this._lView=e}onDestroy(e){return VI(this._lView,e),()=>oL(this._lView,e)}};function LL(){return new f0(It())}function BL(){return Wf(tr(),It())}function Wf(t,e){return new xi(Ir(t,e))}var xi=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=BL;let t=e;return t})();var p0=class extends qt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,II()&&(this.destroyRef=oe(rv,{optional:!0})??void 0)}emit(e){let n=gt(null);try{super.next(e)}finally{gt(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Hy(o),i&&(i=Hy(i)),s&&(s=Hy(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Kt&&e.add(a),a}};function Hy(t){return e=>{setTimeout(t,void 0,e)}}var nn=p0;function cA(t){return(t.flags&128)===128}var uA=new Map,jL=0;function UL(){return jL++}function $L(t){uA.set(t[Uf],t)}function qL(t){uA.delete(t[Uf])}var PD="__ngContext__";function Oo(t,e){Vs(e)?(t[PD]=e[Uf],$L(e)):t[PD]=e}function dA(t){return fA(t[pu])}function hA(t){return fA(t[Gr])}function fA(t){for(;t!==null&&!Ji(t);)t=t[Gr];return t}var m0;function pA(t){m0=t}function zL(){if(m0!==void 0)return m0;if(typeof document<"u")return document;throw new te(210,!1)}var Kf=new he("",{providedIn:"root",factory:()=>GL}),GL="ng",iv=new he(""),Nn=new he("",{providedIn:"platform",factory:()=>"unknown"});var ov=new he(""),sv=new he("",{providedIn:"root",factory:()=>zL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HL="h",WL="b";var KL=()=>null;function av(t,e,n=!1){return KL(t,e,n)}var mA=!1,QL=new he("",{providedIn:"root",factory:()=>mA});var tf;function YL(){if(tf===void 0&&(tf=null,Wn.trustedTypes))try{tf=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tf}function RD(t){return YL()?.createScriptURL(t)||t}var xf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eI})`}};function wu(t){return t instanceof xf?t.changingThisBreaksApplicationSecurity:t}function lv(t,e){let n=JL(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eI})`)}return n===e}function JL(t){return t instanceof xf&&t.getTypeName()||null}var ZL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gA(t){return t=String(t),t.match(ZL)?t:"unsafe:"+t}var Qf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qf||{});function Ar(t){let e=vA();return e?e.sanitize(Qf.URL,t)||"":lv(t,"URL")?wu(t):gA(kf(t))}function XL(t){let e=vA();if(e)return RD(e.sanitize(Qf.RESOURCE_URL,t)||"");if(lv(t,"ResourceURL"))return RD(wu(t));throw new te(904,!1)}function eB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?XL:Ar}function yA(t,e,n){return eB(e,n)(t)}function vA(){let t=It();return t&&t[Wr].sanitizer}var tB=/^>|^->|<!--|-->|--!>|<!-$/g,nB=/(<|>)/g,rB="\u200B$1\u200B";function iB(t){return t.replace(tB,e=>e.replace(nB,rB))}function _A(t){return t instanceof Function?t():t}function oB(t){return(t??oe(Jr)).get(Nn)==="browser"}var Ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ki||{}),sB;function cv(t,e){return sB(t,e)}function ll(t,e,n,r,i){if(r!=null){let o,s=!1;Ji(r)?o=r:Vs(r)&&(s=!0,r=r[Yi]);let a=Ei(r);t===0&&n!==null?i==null?bA(e,n,a):Cf(e,n,a,i||null,!0):t===1&&n!==null?Cf(e,n,a,i||null,!0):t===2?bB(e,a,s):t===3&&e.destroyNode(a),o!=null&&IB(e,t,o,n,i)}}function aB(t,e){return t.createText(e)}function lB(t,e,n){t.setValue(e,n)}function cB(t,e){return t.createComment(iB(e))}function EA(t,e,n){return t.createElement(e,n)}function uB(t,e){wA(t,e),e[Yi]=null,e[Yr]=null}function dB(t,e,n,r,i,o){r[Yi]=i,r[Yr]=e,Jf(t,r,n,1,i,o)}function wA(t,e){e[Wr].changeDetectionScheduler?.notify(1),Jf(t,e,e[yn],2,null,null)}function hB(t){let e=t[pu];if(!e)return Wy(t[it],t);for(;e;){let n=null;if(Vs(e))n=e[pu];else{let r=e[Dr];r&&(n=r)}if(!n){for(;e&&!e[Gr]&&e!==t;)Vs(e)&&Wy(e[it],e),e=e[Fn];e===null&&(e=t),Vs(e)&&Wy(e[it],e),n=e&&e[Gr]}e=n}}function fB(t,e,n,r){let i=Dr+r,o=n.length;r>0&&(n[i-1][Gr]=e),r<o-Dr?(e[Gr]=n[i],uI(n,Dr+r,e)):(n.push(e),e[Gr]=null),e[Fn]=n;let s=e[jf];s!==null&&n!==s&&pB(s,e);let a=e[gl];a!==null&&a.insertView(t),l0(e),e[Oe]|=128}function pB(t,e){let n=t[yf],i=e[Fn][Fn][_i];e[_i]!==i&&(t[Oe]|=W0.HasTransplantedViews),n===null?t[yf]=[e]:n.push(e)}function xA(t,e){let n=t[yf],r=n.indexOf(e);n.splice(r,1)}function g0(t,e){if(t.length<=Dr)return;let n=Dr+e,r=t[n];if(r){let i=r[jf];i!==null&&i!==t&&xA(i,r),e>0&&(t[n-1][Gr]=r[Gr]);let o=ff(t,Dr+e);uB(r[it],r);let s=o[gl];s!==null&&s.detachView(o[it]),r[Fn]=null,r[Gr]=null,r[Oe]&=-129}return r}function CA(t,e){if(!(e[Oe]&256)){let n=e[yn];n.destroyNode&&Jf(t,e,n,3,null,null),hB(e)}}function Wy(t,e){if(e[Oe]&256)return;let n=gt(null);try{e[Oe]&=-129,e[Oe]|=256,e[js]&&Wb(e[js]),gB(t,e),mB(t,e),e[it].type===1&&e[yn].destroy();let r=e[jf];if(r!==null&&Ji(e[Fn])){r!==e[Fn]&&xA(r,e);let i=e[gl];i!==null&&i.detachView(t)}qL(e)}finally{gt(n)}}function mB(t,e){let n=t.cleanup,r=e[fu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[fu]=null);let i=e[Po];if(i!==null){e[Po]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function gB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];gi(4,a,l);try{l.call(a)}finally{gi(5,a,l)}}else{gi(4,i,o);try{o.call(i)}finally{gi(5,i,o)}}}}}function yB(t,e,n){return vB(t,e.parent,n)}function vB(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vi.None||o===vi.Emulated)return null}return Ir(r,n)}}function Cf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bA(t,e,n){t.appendChild(e,n)}function ND(t,e,n,r,i){r!==null?Cf(t,e,n,r,i):bA(t,e,n)}function _B(t,e,n,r){t.removeChild(e,n,r)}function uv(t,e){return t.parentNode(e)}function EB(t,e){return t.nextSibling(e)}function wB(t,e,n){return CB(t,e,n)}function xB(t,e,n){return t.type&40?Ir(t,n):null}var CB=xB,OD;function Yf(t,e,n,r){let i=yB(t,r,e),o=e[yn],s=r.parent||e[Yr],a=wB(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)ND(o,i,n[l],a,!1);else ND(o,i,n,a,!1);OD!==void 0&&OD(o,r,e,n,i)}function cf(t,e){if(e!==null){let n=e.type;if(n&3)return Ir(e,t);if(n&4)return y0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cf(t,r);{let i=t[e.index];return Ji(i)?y0(-1,i):Ei(i)}}else{if(n&32)return cv(e,t)()||Ei(t[e.index]);{let r=DA(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gu(t[_i]);return cf(i,r)}else return cf(t,e.next)}}}return null}function DA(t,e){if(e!==null){let r=t[_i][Yr],i=e.projection;return r.projection[i]}return null}function y0(t,e){let n=Dr+t+1;if(n<e.length){let r=e[n],i=r[it].firstChild;if(i!==null)return cf(r,i)}return e[Us]}function bB(t,e,n){let r=uv(t,e);r&&_B(t,r,e,n)}function dv(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Oo(Ei(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)dv(t,e,n.child,r,i,o,!1),ll(e,t,i,a,o);else if(l&32){let u=cv(n,r),d;for(;d=u();)ll(e,t,i,d,o);ll(e,t,i,a,o)}else l&16?DB(t,e,r,n,i,o):ll(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Jf(t,e,n,r,i,o){dv(n,r,t.firstChild,e,i,o,!1)}function DB(t,e,n,r,i,o){let s=n[_i],l=s[Yr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];ll(e,t,i,d,o)}else{let u=l,d=s[Fn];cA(r)&&(u.flags|=128),dv(t,e,u,d,i,o,!0)}}function IB(t,e,n,r,i){let o=n[Us],s=Ei(n);o!==s&&ll(e,t,r,o,i);for(let a=Dr;a<n.length;a++){let l=n[a];Jf(l[it],l,t,e,r,o)}}function AB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ki.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ki.Important),t.setStyle(n,r,i,o))}}function SB(t,e,n){t.setAttribute(e,"style",n)}function IA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function AA(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&r0(t,e,r),i!==null&&IA(t,e,i),o!==null&&SB(t,e,o)}var Qs={};function se(t=1){SA(er(),It(),bl()+t,!1)}function SA(t,e,n,r){if(!r)if((e[Oe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&af(e,o,n)}else{let o=t.preOrderHooks;o!==null&&lf(e,o,0,n)}$s(n)}function Ie(t,e=Ye.Default){let n=It();if(n===null)return X(t,e);let r=tr();return iA(r,n,Hn(t),e)}function TA(){let t="invalid";throw new Error(t)}function MA(t,e,n,r,i,o){let s=gt(null);try{let a=null;i&Tn.SignalBased&&(a=e[r][qb]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Tn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):TI(e,a,r,o)}finally{gt(s)}}function TB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$s(~i);else{let o=i,s=n[++r],a=n[++r];gL(s,o);let l=e[o];a(2,l)}}}finally{$s(-1)}}function Zf(t,e,n,r,i,o,s,a,l,u,d){let f=e.blueprint.slice();return f[Yi]=i,f[Oe]=r|4|128|8|64,(u!==null||t&&t[Oe]&2048)&&(f[Oe]|=2048),kI(f),f[Fn]=f[Cl]=t,f[Hr]=n,f[Wr]=s||t&&t[Wr],f[yn]=a||t&&t[yn],f[ml]=l||t&&t[ml]||null,f[Yr]=o,f[Uf]=UL(),f[mf]=d,f[AI]=u,f[_i]=e.type==2?t[_i]:f,f}function xu(t,e,n,r,i){let o=t.data[e];if(o===null)o=MB(t,e,n,r,i),mL()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=hL();o.injectorIndex=s===null?-1:s.injectorIndex}return Ws(o,!0),o}function MB(t,e,n,r,i){let o=BI(),s=J0(),a=s?o:o&&o.parent,l=t.data[e]=OB(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function FA(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function PA(t,e,n,r,i){let o=bl(),s=r&2;try{$s(-1),s&&e.length>Kr&&SA(t,e,Kr,!1),gi(s?2:0,i),n(r,i)}finally{$s(o),gi(s?3:1,i)}}function hv(t,e,n){if(K0(e)){let r=gt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{gt(r)}}}function fv(t,e,n){LI()&&($B(t,e,n,Ir(n,e)),(n.flags&64)===64&&OA(t,e,n))}function pv(t,e,n=Ir){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function RA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=mv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function mv(t,e,n,r,i,o,s,a,l,u,d){let f=Kr+r,g=f+i,x=FB(f,g),P=typeof u=="function"?u():u;return x[it]={type:t,blueprint:x,template:n,queries:null,viewQuery:a,declTNode:e,data:x.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1,ssrId:d}}function FB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qs);return n}function PB(t,e,n,r){let o=r.get(QL,mA)||n===vi.ShadowDom,s=t.selectRootElement(e,o);return RB(s),s}function RB(t){NB(t)}var NB=()=>null;function OB(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return cL()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Tn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?VD(r,n,u,a,l):VD(r,n,u,a)}return r}function VD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function kB(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,u=null;for(let d=r;d<i;d++){let f=o[d],g=n?n.get(f):null,x=g?g.inputs:null,P=g?g.outputs:null;l=kD(0,f.inputs,d,l,x),u=kD(1,f.outputs,d,u,P);let N=l!==null&&s!==null&&!q0(e)?XB(l,d,s):null;a.push(N)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function VB(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function LB(t,e,n,r,i,o,s,a){let l=Ir(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(yv(t,n,d,r,i),$f(e)&&BB(n,e.index)):e.type&3?(r=VB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function BB(t,e){let n=Bo(e,t);n[Oe]&16||(n[Oe]|=64)}function gv(t,e,n,r){if(LI()){let i=r===null?null:{"":-1},o=zB(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&NA(t,e,n,s,i,a),i&&GB(n,r,i)}n.mergedAttrs=du(n.mergedAttrs,n.attrs)}function NA(t,e,n,r,i,o){for(let u=0;u<r.length;u++)d0(wf(n,e),t,r[u].type);WB(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=FA(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=du(n.mergedAttrs,d.hostAttrs),KB(t,n,e,l,d),HB(l,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}kB(t,n,o)}function jB(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;UB(s)!=a&&s.push(a),s.push(n,r,o)}}function UB(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $B(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;$f(n)&&QB(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wf(n,e),Oo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],u=vl(e,t,a,n);if(Oo(u,e),s!==null&&ZB(e,a-i,u,l,n,s),No(l)){let d=Bo(n.index,e);d[Hr]=vl(e,t,a,n)}}}function OA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yL();try{$s(o);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];c0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&qB(l,u)}}finally{$s(-1),c0(s)}}function qB(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function zB(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DV(e,s.selectors,!1))if(r||(r=[]),No(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;v0(t,e,l)}else r.unshift(s),v0(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function v0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function GB(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function HB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;No(e)&&(n[""]=t)}}function WB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function KB(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Bs(i.type,!0)),s=new qs(o,No(i),Ie);t.blueprint[r]=s,n[r]=s,jB(t,e,r,FA(t,n,i.hostVars,Qs),i)}function QB(t,e,n){let r=Ir(e,t),i=RA(n),o=t[Wr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Xf(t,Zf(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function YB(t,e,n,r,i,o){let s=Ir(t,e);JB(e[yn],s,o,t.value,n,r,i)}function JB(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?kf(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function ZB(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],d=s[a++],f=s[a++];MA(r,n,l,u,d,f)}}function XB(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function kA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function VA(t,e){let n=t.contentQueries;if(n!==null){let r=gt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$I(o),a.contentQueries(2,e[s],s)}}}finally{gt(r)}}}function Xf(t,e){return t[pu]?t[ID][Gr]=e:t[pu]=e,t[ID]=e,e}function _0(t,e,n){$I(0);let r=gt(null);try{e(t,n)}finally{gt(r)}}function e3(t){return t[fu]||(t[fu]=[])}function t3(t){return t.cleanup||(t.cleanup=[])}function LA(t,e){let n=t[ml],r=n?n.get(wi,null):null;r&&r.handleError(e)}function yv(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],u=e[s],d=t.data[s];MA(d,u,r,a,l,i)}}function n3(t,e,n){let r=NI(e,t);lB(t[yn],r,n)}function r3(t,e){let n=Bo(e,t),r=n[it];i3(r,n);let i=n[Yi];i!==null&&n[mf]===null&&(n[mf]=av(i,n[ml])),vv(r,n,n[Hr])}function i3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function vv(t,e,n){X0(e);try{let r=t.viewQuery;r!==null&&_0(1,r,n);let i=t.template;i!==null&&PA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gl]?.finishViewCreation(t),t.staticContentQueries&&VA(t,e),t.staticViewQueries&&_0(2,t.viewQuery,n);let o=t.components;o!==null&&o3(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Oe]&=-5,ev()}}function o3(t,e){for(let n=0;n<e.length;n++)r3(t,e[n])}function s3(t,e,n,r){let i=gt(null);try{let o=e.tView,a=t[Oe]&4096?4096:16,l=Zf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[jf]=u;let d=t[gl];return d!==null&&(l[gl]=d.createEmbeddedView(o)),vv(o,l,n),l}finally{gt(i)}}function LD(t,e){return!e||e.firstChild===null||cA(t)}function a3(t,e,n,r=!0){let i=e[it];if(fB(i,e,t,n),r){let s=y0(n,t),a=e[yn],l=uv(a,t[Us]);l!==null&&dB(i,t[Yr],a,e,l,s)}let o=e[mf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bf(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ei(o)),Ji(o)&&l3(o,r);let s=n.type;if(s&8)bf(t,e,n.child,r);else if(s&32){let a=cv(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=DA(e,n);if(Array.isArray(a))r.push(...a);else{let l=gu(e[_i]);bf(l[it],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function l3(t,e){for(let n=Dr;n<t.length;n++){let r=t[n],i=r[it].firstChild;i!==null&&bf(r[it],r,i,e)}t[Us]!==t[Yi]&&e.push(t[Us])}var BA=[];function c3(t){return t[js]??u3(t)}function u3(t){let e=BA.pop()??Object.create(h3);return e.lView=t,e}function d3(t){t.lView[js]!==t&&(t.lView=null,BA.push(t))}var h3=vt(de({},zb),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mu(t.lView)},consumerOnSignalRead(){this.lView[js]=this}}),jA=100;function UA(t,e=!0,n=0){let r=t[Wr],i=r.rendererFactory,o=!1;o||i.begin?.();try{f3(t,n)}catch(s){throw e&&LA(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function f3(t,e){E0(t,e);let n=0;for(;Y0(t);){if(n===jA)throw new te(103,!1);n++,E0(t,1)}}function p3(t,e,n,r){let i=e[Oe];if((i&256)===256)return;let o=!1;!o&&e[Wr].inlineEffectRunner?.flush(),X0(e);let s=null,a=null;!o&&m3(t)&&(a=c3(e),s=Gb(a));try{kI(e),fL(t.bindingStartIndex),n!==null&&PA(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=t.preOrderCheckHooks;f!==null&&af(e,f,null)}else{let f=t.preOrderHooks;f!==null&&lf(e,f,0,null),qy(e,0)}if(g3(e),$A(e,0),t.contentQueries!==null&&VA(t,e),!o)if(l){let f=t.contentCheckHooks;f!==null&&af(e,f)}else{let f=t.contentHooks;f!==null&&lf(e,f,1),qy(e,1)}TB(t,e);let u=t.components;u!==null&&zA(e,u,0);let d=t.viewQuery;if(d!==null&&_0(2,d,r),!o)if(l){let f=t.viewCheckHooks;f!==null&&af(e,f)}else{let f=t.viewHooks;f!==null&&lf(e,f,2),qy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$y]){for(let f of e[$y])f();e[$y]=null}o||(e[Oe]&=-73)}catch(l){throw mu(e),l}finally{a!==null&&(Hb(a,s),d3(a)),ev()}}function m3(t){return t.type!==2}function $A(t,e){for(let n=dA(t);n!==null;n=hA(n))for(let r=Dr;r<n.length;r++){let i=n[r];qA(i,e)}}function g3(t){for(let e=dA(t);e!==null;e=hA(e)){if(!(e[Oe]&W0.HasTransplantedViews))continue;let n=e[yf];for(let r=0;r<n.length;r++){let i=n[r],o=i[Fn];rL(i)}}}function y3(t,e,n){let r=Bo(e,t);qA(r,n)}function qA(t,e){Q0(t)&&E0(t,e)}function E0(t,e){let r=t[it],i=t[Oe],o=t[js],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&vy(o)),o&&(o.dirty=!1),t[Oe]&=-9217,s)p3(r,t,r.template,t[Hr]);else if(i&8192){$A(t,1);let a=r.components;a!==null&&zA(t,a,1)}}function zA(t,e,n){for(let r=0;r<e.length;r++)y3(t,e[r],n)}function _v(t){for(t[Wr].changeDetectionScheduler?.notify();t;){t[Oe]|=64;let e=gu(t);if(KV(t)&&!e)return t;t=e}return null}var zs=class{get rootNodes(){let e=this._lView,n=e[it];return bf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hr]}set context(e){this._lView[Hr]=e}get destroyed(){return(this._lView[Oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fn];if(Ji(e)){let n=e[gf],r=n?n.indexOf(this):-1;r>-1&&(g0(e,r),ff(n,r))}this._attachedToViewContainer=!1}CA(this._lView[it],this._lView)}onDestroy(e){VI(this._lView,e)}markForCheck(){_v(this._cdRefInjectingView||this._lView)}detach(){this._lView[Oe]&=-129}reattach(){l0(this._lView),this._lView[Oe]|=128}detectChanges(){this._lView[Oe]|=1024,UA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,wA(this._lView[it],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e,l0(this._lView)}},ep=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=E3;let t=e;return t})(),v3=ep,_3=class extends v3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=s3(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new zs(i)}};function E3(){return w3(tr(),It())}function w3(t,e){return t.type&4?new _3(e,t,Wf(t,e)):null}var xX=new RegExp(`^(\\d+)*(${WL}|${HL})*(.*)`);var x3=()=>null;function BD(t,e){return x3(t,e)}var _l=class{},w0=class{},Df=class{};function C3(t){let e=Error(`No component factory found for ${Kn(t)}.`);return e[b3]=t,e}var b3="ngComponent";var x0=class{resolveComponentFactory(e){throw C3(e)}},tp=(()=>{let e=class e{};e.NULL=new x0;let t=e;return t})(),Gs=class{},Zi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>D3();let t=e;return t})();function D3(){let t=It(),e=tr(),n=Bo(e.index,t);return(Vs(n)?n:t)[yn]}var I3=(()=>{let e=class e{};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ky={};var jD=new Set;function Cu(t){jD.has(t)||(jD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function UD(...t){}function A3(){let t=typeof Wn.requestAnimationFrame=="function",e=Wn[t?"requestAnimationFrame":"setTimeout"],n=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var et=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=A3().nativeRequestAnimationFrame,M3(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,S3,UD,UD);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},S3={};function Ev(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function T3(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,C0(t),t.isCheckStableRunning=!0,Ev(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),C0(t))}function M3(t){let e=()=>{T3(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(F3(a))return n.invokeTask(i,o,s,a);try{return $D(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qD(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return $D(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),qD(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,C0(t),Ev(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function C0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $D(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qD(t){t._nesting--,Ev(t)}var b0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function F3(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function P3(t="zone.js",e){return t==="noop"?new b0:t==="zone.js"?new et(e):t}var cl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(cl||{}),R3={destroy(){}};function np(t,e){!e&&GV(np);let n=e?.injector??oe(Jr);if(!oB(n))return R3;Cu("NgAfterNextRender");let r=n.get(wv),i=r.handler??=new I0,o=e?.phase??cl.MixedReadWrite,s=()=>{i.unregister(l),a()},a=n.get(rv).onDestroy(s),l=Qr(n,()=>new D0(o,()=>{s(),t()}));return i.register(l),{destroy:s}}var D0=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=oe(et),this.errorHandler=oe(wi,{optional:!0}),oe(_l,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},I0=class{constructor(){this.executingCallbacks=!1,this.buckets={[cl.EarlyRead]:new Set,[cl.Write]:new Set,[cl.MixedReadWrite]:new Set,[cl.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},wv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function If(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gD(i,a);else if(o==2){let l=a,u=e[++s];r=gD(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Af=class extends tp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ro(e);return new El(n,this.ngModule)}};function zD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function N3(t){let e=t.toLowerCase();return e==="svg"?RI:e==="math"?ZV:null}var A0=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vf(r);let i=this.injector.get(e,Ky,r);return i!==Ky||n===Ky?i:this.parentInjector.get(e,n,r)}},El=class extends Df{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=gt(null);try{i=i||this.ngModule;let s=i instanceof Mn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new A0(e,s):e,l=a.get(Gs,null);if(l===null)throw new te(407,!1);let u=a.get(I3,null),d=a.get(wv,null),f=a.get(_l,null),g={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},x=l.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",N=r?PB(x,r,this.componentDef.encapsulation,a):EA(x,P,N3(P)),V=512;this.componentDef.signals?V|=4096:this.componentDef.onPush||(V|=16);let z=null;N!==null&&(z=av(N,a,!0));let ee=mv(0,null,null,1,0,null,null,null,null,null,null),R=Zf(null,ee,null,V,null,null,g,x,a,null,z);X0(R);let Z,Ee;try{let fe=this.componentDef,S,D=null;fe.findHostDirectiveDefs?(S=[],D=new Map,fe.findHostDirectiveDefs(fe,S,D),S.push(fe)):S=[fe];let T=O3(R,N),O=k3(T,N,fe,S,R,g,x);Ee=OI(ee,Kr),N&&B3(x,fe,N,r),n!==void 0&&j3(Ee,this.ngContentSelectors,n),Z=L3(O,fe,S,D,R,[U3]),vv(ee,R,null)}finally{ev()}return new S0(this.componentType,Z,Wf(Ee,R),R,Ee)}finally{gt(o)}}},S0=class extends w0{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;yv(o[it],o,i,e,n),this.previousInputValues.set(e,n);let s=Bo(this._tNode.index,o);_v(s)}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function O3(t,e){let n=t[it],r=Kr;return t[r]=e,xu(n,r,2,"#host",null)}function k3(t,e,n,r,i,o,s){let a=i[it];V3(r,t,e,s);let l=null;e!==null&&(l=av(e,i[ml]));let u=o.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Zf(i,RA(n),null,d,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&v0(a,t,r.length-1),Xf(i,f),i[t.index]=f}function V3(t,e,n,r){for(let i of t)e.mergedAttrs=du(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(If(e,e.mergedAttrs,!0),n!==null&&AA(r,n,e))}function L3(t,e,n,r,i,o){let s=tr(),a=i[it],l=Ir(s,i);NA(a,i,s,n,null,r);for(let d=0;d<n.length;d++){let f=s.directiveStart+d,g=vl(i,a,f,s);Oo(g,i)}OA(a,i,s),l&&Oo(l,i);let u=vl(i,a,s.directiveStart+s.componentOffset,s);if(t[Hr]=i[Hr]=u,o!==null)for(let d of o)d(u,e);return hv(a,s,i),u}function B3(t,e,n,r){if(r)r0(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:o}=MV(e.selectors[0]);i&&r0(t,n,i),o&&o.length>0&&IA(t,n,o.join(" "))}}function j3(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function U3(){let t=tr();Hf(It()[it],t)}var Dl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$3;let t=e;return t})();function $3(){let t=tr();return z3(t,It())}var q3=Dl,GA=class extends q3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){let e=tv(this._hostTNode,this._hostLView);if(ZI(e)){let n=_f(e,this._hostLView),r=vf(e),i=n[it].data[r+8];return new Ls(i,n)}else return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=GD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=BD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,LD(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!WV(e),a;if(s)a=n;else{let P=n||{};a=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef}let l=s?e:new El(Ro(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let N=(s?u:this.parentInjector).get(Mn,null);N&&(o=N)}let d=Ro(l.componentType??{}),f=BD(this._lContainer,d?.id??null),g=f?.firstChild??null,x=l.create(u,i,g,o);return this.insertImpl(x.hostView,a,LD(this._hostTNode,f)),x}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Fn],u=new GA(l,l[Yr],l[Fn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return a3(s,i,o,r),e.attachToViewContainerRef(),uI(Qy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=GD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=g0(this._lContainer,n);r&&(ff(Qy(this._lContainer),n),CA(r[it],r))}detach(e){let n=this._adjustIndex(e,-1),r=g0(this._lContainer,n);return r&&ff(Qy(this._lContainer),n)!=null?new zs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GD(t){return t[gf]}function Qy(t){return t[gf]||(t[gf]=[])}function z3(t,e){let n,r=e[t.index];return Ji(r)?n=r:(n=kA(r,e,null,t),e[t.index]=n,Xf(e,n)),H3(n,e,t,r),new GA(n,t,e)}function G3(t,e){let n=t[yn],r=n.createComment(""),i=Ir(e,t),o=uv(n,i);return Cf(n,o,r,EB(n,i),!1),r}var H3=Q3,W3=()=>!1;function K3(t,e,n){return W3(t,e,n)}function Q3(t,e,n,r){if(t[Us])return;let i;n.type&8?i=Ei(r):i=G3(e,n),t[Us]=i}function Y3(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(e4))}return o}return Sf.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,g)=>{a.push(""),s.push(r(f).then(x=>{a[u+g]=x,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let l=Promise.all(s).then(()=>t4(o));e.push(l)}),Z3(),Promise.all(e).then(()=>{})}var Sf=new Map,J3=new Set;function Z3(){let t=Sf;return Sf=new Map,t}function X3(){return Sf.size===0}function e4(t){return typeof t=="string"?t:t.text()}function t4(t){J3.delete(t)}function n4(t){return Object.getPrototypeOf(t.prototype).constructor}function Ci(t){let e=n4(t.type),n=!0,r=[t];for(;e;){let i;if(No(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=nf(t.inputs),s.inputTransforms=nf(t.inputTransforms),s.declaredInputs=nf(t.declaredInputs),s.outputs=nf(t.outputs);let a=i.hostBindings;a&&a4(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&o4(t,l),u&&s4(t,u),r4(t,i),J2(t.outputs,i.outputs),No(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ci&&(n=!1)}}e=Object.getPrototypeOf(e)}i4(r)}function r4(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function i4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=du(i.hostAttrs,n=du(n,i.hostAttrs))}}function nf(t){return t===hl?{}:t===br?[]:t}function o4(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function s4(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function a4(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function xv(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ko=class{},yu=class{};var Tf=class extends ko{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Af(this);let i=_I(e);this._bootstrapComponents=_A(i.bootstrap),this._r3Injector=aA(e,n,[{provide:ko,useValue:this},{provide:tp,useValue:this.componentFactoryResolver},...r],Kn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mf=class extends yu{constructor(e){super(),this.moduleType=e}create(e){return new Tf(this.moduleType,e,[])}};function l4(t,e,n){return new Tf(t,e,n)}var T0=class extends ko{constructor(e){super(),this.componentFactoryResolver=new Af(this),this.instance=null;let n=new hu([...e.providers,{provide:ko,useValue:this},{provide:tp,useValue:this.componentFactoryResolver}],e.parent||H0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rp(t,e,n=null){return new T0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ys=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HA(t){return u4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function c4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function u4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function d4(t,e,n){return t[e]=n}function bu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function h4(t){return(t.flags&32)===32}function f4(t,e,n,r,i,o,s,a,l){let u=e.consts,d=xu(e,t,4,s||null,yl(u,a));gv(e,n,d,yl(u,l)),Hf(e,d);let f=d.tView=mv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function dt(t,e,n,r,i,o,s,a){let l=It(),u=er(),d=t+Kr,f=u.firstCreatePass?f4(d,u,l,e,n,r,i,o,s):u.data[d];Ws(f,!1);let g=p4(u,l,f,t);zf()&&Yf(u,l,g,f),Oo(g,l);let x=kA(g,l,g,f);return l[d]=x,Xf(l,x),K3(x,f,l),qf(f)&&fv(u,l,f),s!=null&&pv(l,f,a),dt}var p4=m4;function m4(t,e,n,r){return Gf(!0),e[yn].createComment("")}function ip(t,e,n,r){let i=It(),o=Z0();if(bu(i,o,e)){let s=er(),a=KI();YB(a,i,t,e,n,r)}return ip}function g4(t,e,n,r){return bu(t,Z0(),n)?e+kf(n)+r:Qs}function rf(t,e){return t<<17|e<<2}function Hs(t){return t>>17&32767}function y4(t){return(t&2)==2}function v4(t,e){return t&131071|e<<17}function M0(t){return t|2}function wl(t){return(t&131068)>>2}function Yy(t,e){return t&-131069|e<<2}function _4(t){return(t&1)===1}function F0(t){return t|1}function E4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hs(s),l=wl(s);t[r]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Eu(f,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let g=Hs(t[a+1]);t[r+1]=rf(g,a),g!==0&&(t[g+1]=Yy(t[g+1],r)),t[a+1]=v4(t[a+1],r)}else t[r+1]=rf(a,0),a!==0&&(t[a+1]=Yy(t[a+1],r)),a=r;else t[r+1]=rf(l,0),a===0?a=r:t[l+1]=Yy(t[l+1],r),l=r;u&&(t[r+1]=M0(t[r+1])),HD(t,d,r,!0),HD(t,d,r,!1),w4(e,d,t,r,o),s=rf(a,l),o?e.classBindings=s:e.styleBindings=s}function w4(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Eu(o,e)>=0&&(n[r+1]=F0(n[r+1]))}function HD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Hs(i):wl(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],u=t[s+1];x4(l,e)&&(a=!0,t[s+1]=r?F0(u):M0(u)),s=r?Hs(u):wl(u)}a&&(t[n+1]=r?M0(i):F0(i))}function x4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Eu(t,e)>=0:!1}function Fe(t,e,n){let r=It(),i=Z0();if(bu(r,i,e)){let o=er(),s=KI();LB(o,s,r,t,e,r[yn],n,!1)}return Fe}function WD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";yv(t,n,o[s],s,r)}function Il(t,e,n){return WA(t,e,n,!1),Il}function Al(t,e){return WA(t,e,null,!0),Al}function WA(t,e,n,r){let i=It(),o=er(),s=pL(2);if(o.firstUpdatePass&&b4(o,t,s,r),e!==Qs&&bu(i,s,e)){let a=o.data[bl()];T4(o,a,i,i[yn],t,i[s+1]=M4(e,n),r,s)}}function C4(t,e){return e>=t.expandoStartIndex}function b4(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bl()],s=C4(t,n);F4(o,r)&&e===null&&!s&&(e=!1),e=D4(i,o,e,r),E4(i,o,e,n,s,r)}}function D4(t,e,n,r){let i=vL(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jy(null,t,e,n,r),n=vu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Jy(i,t,e,n,r),o===null){let l=I4(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Jy(null,t,e,l[1],r),l=vu(l,e.attrs,r),A4(t,e,r,l))}else o=S4(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function I4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(wl(r)!==0)return t[Hs(r)]}function A4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hs(i)]=r}function S4(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=vu(r,s,n)}return vu(r,e.attrs,n)}function Jy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=vu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function vu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yV(t,s,n?!0:e[++o]))}return t===void 0?null:t}function T4(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],d=_4(u)?KD(l,e,n,i,wl(u),s):void 0;if(!Ff(d)){Ff(o)||y4(u)&&(o=KD(l,null,n,i,a,s));let f=NI(bl(),n);AB(r,s,f,i,o)}}function KD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,f=d===null,g=n[i+1];g===Qs&&(g=f?br:void 0);let x=f?jy(g,r):d===r?g:void 0;if(u&&!Ff(x)&&(x=jy(l,r)),Ff(x)&&(a=x,s))return a;let P=t[i+1];i=s?Hs(P):wl(P)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=jy(l,r))}return a}function Ff(t){return t!==void 0}function M4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Kn(wu(t)))),t}function F4(t,e){return(t.flags&(e?8:16))!==0}function P4(t,e,n,r,i,o){let s=e.consts,a=yl(s,i),l=xu(e,t,2,r,a);return gv(e,n,l,yl(s,o)),l.attrs!==null&&If(l,l.attrs,!1),l.mergedAttrs!==null&&If(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(t,e,n,r){let i=It(),o=er(),s=Kr+t,a=i[yn],l=o.firstCreatePass?P4(s,o,i,e,n,r):o.data[s],u=R4(o,i,l,a,e,t);i[s]=u;let d=qf(l);return Ws(l,!0),AA(a,u,l),!h4(l)&&zf()&&Yf(o,i,u,l),sL()===0&&Oo(u,i),aL(),d&&(fv(o,i,l),hv(o,l,i)),r!==null&&pv(i,l),b}function C(){let t=tr();J0()?jI():(t=t.parent,Ws(t,!1));let e=t;uL(e)&&dL(),lL();let n=er();return n.firstCreatePass&&(Hf(n,t),K0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&DL(e)&&WD(n,e,It(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IL(e)&&WD(n,e,It(),e.stylesWithoutHost,!1),C}function ie(t,e,n,r){return b(t,e,n,r),C(),ie}var R4=(t,e,n,r,i,o)=>(Gf(!0),EA(r,i,wL()));function N4(t,e,n,r,i){let o=e.consts,s=yl(o,r),a=xu(e,t,8,"ng-container",s);s!==null&&If(a,s,!0);let l=yl(o,i);return gv(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function op(t,e,n){let r=It(),i=er(),o=t+Kr,s=i.firstCreatePass?N4(o,i,r,e,n):i.data[o];Ws(s,!0);let a=O4(i,r,s,t);return r[o]=a,zf()&&Yf(i,r,a,s),Oo(a,r),qf(s)&&(fv(i,r,s),hv(i,s,r)),n!=null&&pv(r,s),op}function sp(){let t=tr(),e=er();return J0()?jI():(t=t.parent,Ws(t,!1)),e.firstCreatePass&&(Hf(e,t),K0(t)&&e.queries.elementEnd(t)),sp}var O4=(t,e,n,r)=>(Gf(!0),cB(e[yn],""));function Sr(){return It()}var Pf="en-US";var k4=Pf;function V4(t){typeof t=="string"&&(k4=t.toLowerCase().replace(/_/g,"-"))}function xt(t,e,n,r){let i=It(),o=er(),s=tr();return B4(o,i,i[yn],s,t,e,r),xt}function L4(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[fu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function B4(t,e,n,r,i,o,s){let a=qf(r),u=t.firstCreatePass&&t3(t),d=e[Hr],f=e3(e),g=!0;if(r.type&3||s){let N=Ir(r,e),V=s?s(N):N,z=f.length,ee=s?Z=>s(Ei(Z[r.index])):r.index,R=null;if(!s&&a&&(R=L4(t,e,i,r.index)),R!==null){let Z=R.__ngLastListenerFn__||R;Z.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,g=!1}else{o=YD(r,e,d,o,!1);let Z=n.listen(V,i,o);f.push(o,Z),u&&u.push(i,ee,z,z+1)}}else o=YD(r,e,d,o,!1);let x=r.outputs,P;if(g&&x!==null&&(P=x[i])){let N=P.length;if(N)for(let V=0;V<N;V+=2){let z=P[V],ee=P[V+1],Ee=e[z][ee].subscribe(o),fe=f.length;f.push(o,Ee),u&&u.push(i,r.index,fe,-(fe+1))}}}function QD(t,e,n,r){let i=gt(null);try{return gi(6,e,n),n(r)!==!1}catch(o){return LA(t,o),!1}finally{gi(7,e,n),gt(i)}}function YD(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Bo(t.index,e):e;_v(a);let l=QD(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=QD(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function Ft(t=1){return EL(t)}function j4(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function F(t,e=""){let n=It(),r=er(),i=t+Kr,o=r.firstCreatePass?xu(r,i,1,e,null):r.data[i],s=U4(r,n,o,e,t);n[i]=s,zf()&&Yf(r,n,s,o),Ws(o,!1)}var U4=(t,e,n,r,i)=>(Gf(!0),aB(e[yn],r));function bi(t){return He("",t,""),bi}function He(t,e,n){let r=It(),i=g4(r,t,e,n);return i!==Qs&&n3(r,bl(),i),He}function $4(t,e,n){let r=er();if(r.firstCreatePass){let i=No(t);P0(n,r.data,r.blueprint,i,!0),P0(e,r.data,r.blueprint,i,!1)}}function P0(t,e,n,r,i){if(t=Hn(t),Array.isArray(t))for(let o=0;o<t.length;o++)P0(t[o],e,n,r,i);else{let o=er(),s=It(),a=tr(),l=pl(t)?t:Hn(t.provide),u=DI(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(pl(t)||!t.multi){let x=new qs(u,i,Ie),P=Xy(l,e,i?d:d+g,f);P===-1?(d0(wf(a,s),o,l),Zy(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)):(n[P]=x,s[P]=x)}else{let x=Xy(l,e,d+g,f),P=Xy(l,e,d,d+g),N=x>=0&&n[x],V=P>=0&&n[P];if(i&&!V||!i&&!N){d0(wf(a,s),o,l);let z=G4(i?z4:q4,n.length,i,r,u);!i&&V&&(n[P].providerFactory=z),Zy(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(z),s.push(z)}else{let z=KA(n[i?P:x],u,!i&&r);Zy(o,t,x>-1?x:P,z)}!i&&r&&V&&n[P].componentProviders++}}}function Zy(t,e,n,r){let i=pl(e),o=LV(e);if(i||o){let l=(o?Hn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function KA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function q4(t,e,n,r){return R0(this.multi,[])}function z4(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vl(n,n[it],this.providerFactory.index,r);o=a.slice(0,s),R0(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],R0(i,o);return o}function R0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function G4(t,e,n,r,i){let o=new qs(t,n,Ie);return o.multi=[],o.index=e,o.componentProviders=0,KA(o,i,r&&!n),o}function Sl(t,e=[]){return n=>{n.providersResolver=(r,i)=>$4(r,i?i(t):t,e)}}var H4=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=xI(!1,r.type),o=i.length>0?rp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=pe({token:e,providedIn:"environment",factory:()=>new e(X(Mn))});let t=e;return t})();function QA(t){Cu("NgStandalone"),t.getStandaloneInjector=e=>e.get(H4).getOrCreateStandaloneInjector(t)}function YA(t,e,n,r){return JA(It(),UI(),t,e,n,r)}function W4(t,e){let n=t[e];return n===Qs?void 0:n}function JA(t,e,n,r,i,o){let s=e+n;return bu(t,s,i)?d4(t,s+1,o?r.call(o,i):r(i)):W4(t,s+1)}function ZA(t,e){let n=er(),r,i=t+Kr;n.firstCreatePass?(r=K4(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Bs(r.type,!0)),s,a=Xn(Ie);try{let l=Ef(!1),u=o();return Ef(l),j4(n,It(),i,u),u}finally{Xn(a)}}function K4(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function XA(t,e,n){let r=t+Kr,i=It(),o=tL(i,r);return Q4(i,r)?JA(i,UI(),e,o.transform,n,o):o.transform(n)}function Q4(t,e){return t[it].data[e].pure}var of=null;function Y4(t){of!==null&&(t.defaultEncapsulation!==of.defaultEncapsulation||t.preserveWhitespaces!==of.preserveWhitespaces)||(of=t)}var Qi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eS=new Qi("17.3.10"),ap=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Cv=new he(""),Du=new he(""),lp=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,bv||(J4(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(X(et),X(cp),X(Du))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),cp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return bv?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function J4(t){bv=t}var bv;function Js(t){return!!t&&typeof t.then=="function"}function tS(t){return!!t&&typeof t.subscribe=="function"}var up=new he(""),nS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=oe(up,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Js(s))r.push(s);else if(tS(s)){let a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dp=new he("");function Z4(){Kb(()=>{throw new te(600,!1)})}function X4(t){return t.isBoundToModule}function e5(t,e,n){try{let r=n();return Js(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function rS(t,e){return Array.isArray(e)?e.reduce(rS,t):de(de({},t),e)}var Zs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(lA),this.afterRenderEffectManager=oe(wv),this.externalTestViews=new Set,this.beforeRender=new qt,this.afterTick=new qt,this.componentTypes=[],this.components=[],this.isStable=oe(Ys).hasPendingTasks.pipe(xe(r=>!r)),this._injector=oe(Mn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Df;if(!this._injector.get(nS).done){let x=!o&&vI(r),P=!1;throw new te(405,P)}let a;o?a=r:a=this._injector.get(tp).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=X4(a)?void 0:this._injector.get(ko),u=i||a.selector,d=a.create(Jr.NULL,[],u,l),f=d.location.nativeElement,g=d.injector.get(Cv,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),uf(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new te(101,!1);let i=gt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,gt(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===jA)throw new te(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)t5(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>N0(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>N0(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(dp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new te(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function t5(t,e,n){!e&&!N0(t)||n5(t,n,e)}function N0(t){return Y0(t)}function n5(t,e,n){let r;n?(r=0,t[Oe]|=1024):t[Oe]&64?r=0:r=1,UA(t,e,r)}var O0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hp=(()=>{let e=class e{compileModuleSync(r){return new Mf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=_I(r),s=_A(o.declarations).reduce((a,l)=>{let u=Ro(l);return u&&a.push(new El(u)),a},[]);return new O0(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r5=new he("");function i5(t,e,n){let r=new Mf(n);return Promise.resolve(r)}function JD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var o5=(()=>{let e=class e{constructor(){this.zone=oe(et),this.applicationRef=oe(Zs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s5(t){return[{provide:et,useFactory:t},{provide:fl,multi:!0,useFactory:()=>{let e=oe(o5,{optional:!0});return()=>e.initialize()}},{provide:fl,multi:!0,useFactory:()=>{let e=oe(c5);return()=>{e.initialize()}}},{provide:lA,useFactory:a5}]}function a5(){let t=oe(et),e=oe(wi);return n=>t.runOutsideAngular(()=>e.handleError(n))}function l5(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var c5=(()=>{let e=class e{constructor(){this.subscription=new Kt,this.initialized=!1,this.zone=oe(et),this.pendingTasks=oe(Ys)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{et.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u5(){return typeof $localize<"u"&&$localize.locale||Pf}var Dv=new he("",{providedIn:"root",factory:()=>oe(Dv,Ye.Optional|Ye.SkipSelf)||u5()});var iS=new he(""),oS=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=P3(i?.ngZone,l5({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=l4(r.moduleType,this.injector,s5(()=>o)),a=s.injector.get(wi,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{uf(this._modules,s),l.unsubscribe()})}),e5(a,o,()=>{let l=s.injector.get(nS);return l.runInitializers(),l.donePromise.then(()=>{let u=s.injector.get(Dv,Pf);return V4(u||Pf),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=rS({},i);return i5(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Zs);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new te(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(iS,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(X(Jr))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),cu=null,sS=new he("");function d5(t){if(cu&&!cu.get(sS,!1))throw new te(400,!1);Z4(),cu=t;let e=t.get(oS);return p5(t),e}function Iv(t,e,n=[]){let r=`Platform: ${e}`,i=new he(r);return(o=[])=>{let s=aS();if(!s||s.injector.get(sS,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):d5(h5(a,r))}return f5(i)}}function h5(t=[],e){return Jr.create({name:e,providers:[{provide:Bf,useValue:"platform"},{provide:iS,useValue:new Set([()=>cu=null])},...t]})}function f5(t){let e=aS();if(!e)throw new te(401,!1);return e}function aS(){return cu?.get(oS)??null}function p5(t){t.get(iv,null)?.forEach(n=>n())}function Av(){return!1}var Tl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=m5;let t=e;return t})();function m5(t){return g5(tr(),It(),(t&16)===16)}function g5(t,e,n){if($f(t)&&!n){let r=Bo(t.index,e);return new zs(r,r)}else if(t.type&47){let r=e[_i];return new zs(r,e)}return null}var k0=class{constructor(){}supports(e){return HA(e)}create(e){return new V0(e)}},y5=(t,e)=>e,V0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||y5}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ZD(r,i,o)?n:r,a=ZD(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=l-i;if(u!=d){for(let g=0;g<u;g++){let x=g<o.length?o[g]:o[g]=0,P=x+g;d<=P&&P<u&&(o[g]=x+1)}let f=s.previousIndex;o[f]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!HA(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,c4(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new L0(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Rf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},L0=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},B0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Rf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new B0,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XD(){return new Sv([new k0])}var Sv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||XD()),deps:[[e,new U0,new xl]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new te(901,!1)}};e.\u0275prov=pe({token:e,providedIn:"root",factory:XD});let t=e;return t})();var lS=Iv(null,"core",[]),cS=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(X(Zs))},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({});let t=e;return t})();function Ml(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function uS(t){let e=Ro(t);if(!e)return null;let n=new El(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mS=null;function Di(){return mS}function gS(t){mS??=t}var fp=class{};var vn=new he(""),Rv=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(v5),providedIn:"platform"});let t=e;return t})(),yS=new he(""),v5=(()=>{let e=class e extends Rv{constructor(){super(),this._doc=oe(vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Di().getBaseHref(this._doc)}onPopState(r){let i=Di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Nv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function dS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xi(t){return t&&t[0]!=="?"?"?"+t:t}var eo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Ov),providedIn:"root"});let t=e;return t})(),vS=new he(""),Ov=(()=>{let e=class e extends eo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??oe(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nv(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X(Rv),X(vS,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_S=(()=>{let e=class e extends eo{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Nv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xi(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xi(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X(Rv),X(vS,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Pl=(()=>{let e=class e{constructor(r){this._subject=new nn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=w5(dS(hS(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xi(i))}normalize(r){return e.stripTrailingSlash(E5(this._basePath,hS(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Xi,e.joinWithSlash=Nv,e.stripTrailingSlash=dS,e.\u0275fac=function(i){return new(i||e)(X(eo))},e.\u0275prov=pe({token:e,factory:()=>_5(),providedIn:"root"});let t=e;return t})();function _5(){return new Pl(X(eo))}function E5(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hS(t){return t.replace(/\/index.html$/,"")}function w5(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function pp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Tv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Tv(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),fS(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);fS(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ie(Dl),Ie(ep),Ie(Sv))},e.\u0275dir=hn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function fS(t,e){t.context.$implicit=e.item}var rr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Mv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){pS("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){pS("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ie(Dl),Ie(ep))},e.\u0275dir=hn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Mv=class{constructor(){this.$implicit=null,this.ngIf=null}};function pS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Kn(e)}'.`)}var ES=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({});let t=e;return t})(),kv="browser",x5="server";function C5(t){return t===kv}function jo(t){return t===x5}var wS=(()=>{let e=class e{};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>C5(oe(Nn))?new Fv(oe(vn),window):new Pv});let t=e;return t})(),Fv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=b5(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function b5(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Pv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fl=class{};var Au=class{},gp=class{},to=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Lv=class{encodeKey(e){return xS(e)}encodeValue(e){return xS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function A5(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var S5=/%(\d[a-f0-9])/gi,T5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xS(t){return encodeURIComponent(t).replace(S5,(e,n)=>T5[n]??e)}function mp(t){return`${t}`}var Uo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=A5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(mp):[mp(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(mp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(mp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Bv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function M5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bS(t){return typeof Blob<"u"&&t instanceof Blob}function DS(t){return typeof FormData<"u"&&t instanceof FormData}function F5(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Iu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(M5(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new to,this.context??=new Bv,!this.params)this.params=new Uo,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CS(this.body)||bS(this.body)||DS(this.body)||F5(this.body)?this.body:this.body instanceof Uo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||DS(this.body)?null:bS(this.body)?this.body.type||null:CS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Uo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,x)=>g.set(x,e.setHeaders[x]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,x)=>g.set(x,e.setParams[x]),d)),new t(n,r,s,{params:d,headers:u,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Rl=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Rl||{}),Su=class{constructor(e,n=_p.Ok,r="OK"){this.headers=e.headers||new to,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jv=class t extends Su{constructor(e={}){super(e),this.type=Rl.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yp=class t extends Su{constructor(e={}){super(e),this.type=Rl.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vp=class extends Su{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_p=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(_p||{});function Vv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Uv=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Iu)s=r;else{let u;o.headers instanceof to?u=o.headers:u=new to(o.headers);let d;o.params&&(o.params instanceof Uo?d=o.params:d=new Uo({fromObject:o.params})),s=new Iu(r,i,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Se(s).pipe(Hi(u=>this.handler.handle(u)));if(r instanceof Iu||o.observe==="events")return a;let l=a.pipe(dn(u=>u instanceof yp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(xe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(xe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(xe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(xe(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Uo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Vv(o,i))}post(r,i,o={}){return this.request("POST",r,Vv(o,i))}put(r,i,o={}){return this.request("PUT",r,Vv(o,i))}};e.\u0275fac=function(i){return new(i||e)(X(Au))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function TS(t,e){return e(t)}function P5(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function R5(t,e,n){return(r,i)=>Qr(n,()=>e(r,o=>t(o,i)))}var N5=new he(""),$v=new he(""),O5=new he(""),k5=new he("");function V5(){let t=null;return(e,n)=>{t===null&&(t=(oe(N5,{optional:!0})??[]).reduceRight(P5,TS));let r=oe(Ys),i=r.add();return t(e,n).pipe(Mo(()=>r.remove(i)))}}var IS=(()=>{let e=class e extends Au{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=oe(Ys);let o=oe(k5,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get($v),...this.injector.get(O5,[])]));this.chain=o.reduceRight((s,a)=>R5(s,a,this.injector),TS)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Mo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(X(gp),X(Mn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();var L5=/^\)\]\}',?\n/;function B5(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var AS=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new te(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?$e(i.\u0275loadImpl()):Se(null)).pipe(Nt(()=>new Ke(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((V,z)=>a.setRequestHeader(V,z.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let V=r.detectContentTypeHeader();V!==null&&a.setRequestHeader("Content-Type",V)}if(r.responseType){let V=r.responseType.toLowerCase();a.responseType=V!=="json"?V:"text"}let l=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let V=a.statusText||"OK",z=new to(a.getAllResponseHeaders()),ee=B5(a)||r.url;return u=new jv({headers:z,status:a.status,statusText:V,url:ee}),u},f=()=>{let{headers:V,status:z,statusText:ee,url:R}=d(),Z=null;z!==_p.NoContent&&(Z=typeof a.response>"u"?a.responseText:a.response),z===0&&(z=Z?_p.Ok:0);let Ee=z>=200&&z<300;if(r.responseType==="json"&&typeof Z=="string"){let fe=Z;Z=Z.replace(L5,"");try{Z=Z!==""?JSON.parse(Z):null}catch(S){Z=fe,Ee&&(Ee=!1,Z={error:S,text:Z})}}Ee?(s.next(new yp({body:Z,headers:V,status:z,statusText:ee,url:R||void 0})),s.complete()):s.error(new vp({error:Z,headers:V,status:z,statusText:ee,url:R||void 0}))},g=V=>{let{url:z}=d(),ee=new vp({error:V,status:a.status||0,statusText:a.statusText||"Unknown Error",url:z||void 0});s.error(ee)},x=!1,P=V=>{x||(s.next(d()),x=!0);let z={type:Rl.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),r.responseType==="text"&&a.responseText&&(z.partialText=a.responseText),s.next(z)},N=V=>{let z={type:Rl.UploadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),s.next(z)};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),r.reportProgress&&(a.addEventListener("progress",P),l!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(l),s.next({type:Rl.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),r.reportProgress&&(a.removeEventListener("progress",P),l!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(X(Fl))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),MS=new he(""),j5="XSRF-TOKEN",U5=new he("",{providedIn:"root",factory:()=>j5}),$5="X-XSRF-TOKEN",q5=new he("",{providedIn:"root",factory:()=>$5}),Ep=class{},z5=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=pp(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(X(vn),X(Nn),X(U5))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function G5(t,e){let n=t.url.toLowerCase();if(!oe(MS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=oe(Ep).getToken(),i=oe(q5);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var FS=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(FS||{});function H5(t,e){return{\u0275kind:t,\u0275providers:e}}function W5(...t){let e=[Uv,AS,IS,{provide:Au,useExisting:IS},{provide:gp,useExisting:AS},{provide:$v,useValue:G5,multi:!0},{provide:MS,useValue:!0},{provide:Ep,useClass:z5}];for(let n of t)e.push(...n.\u0275providers);return Lf(e)}var SS=new he("");function K5(){return H5(FS.LegacyInterceptors,[{provide:SS,useFactory:V5},{provide:$v,useExisting:SS,multi:!0}])}var PS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({providers:[W5(K5())]});let t=e;return t})();var Gv=class extends fp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hv=class t extends Gv{static makeCurrent(){gS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Y5();return n==null?null:J5(n)}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pp(document.cookie,e)}},Tu=null;function Y5(){return Tu=Tu||document.querySelector("base"),Tu?Tu.getAttribute("href"):null}function J5(t){return new URL(t,document.baseURI).pathname}var Wv=class{addToWindow(e){Wn.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new te(5103,!1);return o},Wn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wn.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Wn.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Wn.frameworkStabilizers||(Wn.frameworkStabilizers=[]),Wn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Di().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Z5=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Kv=new he(""),OS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(X(Kv),X(et))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),wp=class{constructor(e){this._doc=e}},qv="ng-app-id",kS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${qv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(qv),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(qv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(X(vn),X(Kf),X(sv,8),X(Nn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yv=/%COMP%/g,VS="%COMP%",X5=`_nghost-${VS}`,e6=`_ngcontent-${VS}`,t6=!0,n6=new he("",{providedIn:"root",factory:()=>t6});function r6(t){return e6.replace(Yv,t)}function i6(t){return X5.replace(Yv,t)}function LS(t,e){return e.map(n=>n.replace(Yv,t))}var xp=(()=>{let e=class e{constructor(r,i,o,s,a,l,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=jo(l),this.defaultRenderer=new Mu(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vi.ShadowDom&&(i=vt(de({},i),{encapsulation:vi.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Cp?o.applyToHost(r):o instanceof Fu&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case vi.Emulated:s=new Cp(u,d,i,this.appId,f,a,l,g);break;case vi.ShadowDom:return new Qv(u,d,r,i,a,l,this.nonce,g);default:s=new Fu(u,d,i,f,a,l,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(X(OS),X(kS),X(Kf),X(n6),X(vn),X(Nn),X(et),X(sv))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Mu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(RS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(RS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=zv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ki.DashCase|Ki.Important)?e.style.setProperty(n,r,i&Ki.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ki.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function RS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qv=class extends Mu{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=LS(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fu=class extends Mu{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?LS(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cp=class extends Fu{constructor(e,n,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=r6(u),this.hostAttr=i6(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},o6=(()=>{let e=class e extends wp{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(X(vn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),NS=["alt","control","meta","shift"],s6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},l6=(()=>{let e=class e extends wp{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Di().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),NS.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=s6[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),NS.forEach(a=>{if(a!==o){let l=a6[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(X(vn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function c6(){Hv.makeCurrent()}function u6(){return new wi}function d6(){return pA(document),document}var h6=[{provide:Nn,useValue:kv},{provide:iv,useValue:c6,multi:!0},{provide:vn,useFactory:d6,deps:[]}],BS=Iv(lS,"browser",h6),f6=new he(""),p6=[{provide:Du,useClass:Wv,deps:[]},{provide:Cv,useClass:lp,deps:[et,cp,Du]},{provide:lp,useClass:lp,deps:[et,cp,Du]}],m6=[{provide:Bf,useValue:"root"},{provide:wi,useFactory:u6,deps:[]},{provide:Kv,useClass:o6,multi:!0,deps:[vn,et,Nn]},{provide:Kv,useClass:l6,multi:!0,deps:[vn]},xp,kS,OS,{provide:Gs,useExisting:xp},{provide:Fl,useClass:Z5,deps:[]},[]],bp=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Kf,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(X(f6,12))},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({providers:[...m6,...p6],imports:[ES,cS]});let t=e;return t})();var jS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(X(vn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qe="primary",Hu=Symbol("RouteTitle"),t_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ll(t){return new t_(t)}function g6(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function y6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ii(t[n],e[n]))return!1;return!0}function Ii(t,e){let n=t?n_(t):void 0,r=e?n_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!YS(t[i],e[i]))return!1;return!0}function n_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function JS(t){return t.length>0?t[t.length-1]:null}function Go(t){return Py(t)?t:Js(t)?$e(Promise.resolve(t)):Se(t)}var v6={exact:XS,subset:eT},ZS={exact:_6,subset:E6,ignored:()=>!0};function $S(t,e,n){return v6[n.paths](t.root,e.root,n.matrixParams)&&ZS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _6(t,e){return Ii(t,e)}function XS(t,e,n){if(!ea(t.segments,e.segments)||!Ap(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!XS(t.children[r],e.children[r],n))return!1;return!0}function E6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>YS(t[n],e[n]))}function eT(t,e,n){return tT(t,e,e.segments,n)}function tT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ea(i,n)||e.hasChildren()||!Ap(i,n,r))}else if(t.segments.length===n.length){if(!ea(t.segments,n)||!Ap(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!eT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ea(t.segments,i)||!Ap(t.segments,i,r)||!t.children[qe]?!1:tT(t.children[qe],e,o,r)}}function Ap(t,e,n){return e.every((r,i)=>ZS[n](t[i].parameters,r.parameters))}var $o=class{constructor(e=new yt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ll(this.queryParams),this._queryParamMap}toString(){return C6.serialize(this)}},yt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sp(this)}},Xs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ll(this.parameters),this._parameterMap}toString(){return rT(this)}};function w6(t,e){return ea(t,e)&&t.every((n,r)=>Ii(n.parameters,e[r].parameters))}function ea(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function x6(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===qe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==qe&&(n=n.concat(e(i,r)))}),n}var Wu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>new Lu,providedIn:"root"});let t=e;return t})(),Lu=class{parse(e){let n=new i_(e);return new $o(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Pu(e.root,!0)}`,r=I6(e.queryParams),i=typeof e.fragment=="string"?`#${b6(e.fragment)}`:"";return`${n}${r}${i}`}},C6=new Lu;function Sp(t){return t.segments.map(e=>rT(e)).join("/")}function Pu(t,e){if(!t.hasChildren())return Sp(t);if(e){let n=t.children[qe]?Pu(t.children[qe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==qe&&r.push(`${i}:${Pu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=x6(t,(r,i)=>i===qe?[Pu(t.children[qe],!1)]:[`${i}:${Pu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[qe]!=null?`${Sp(t)}/${n[0]}`:`${Sp(t)}/(${n.join("//")})`}}function nT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dp(t){return nT(t).replace(/%3B/gi,";")}function b6(t){return encodeURI(t)}function r_(t){return nT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(t){return decodeURIComponent(t)}function qS(t){return Tp(t.replace(/\+/g,"%20"))}function rT(t){return`${r_(t.path)}${D6(t.parameters)}`}function D6(t){return Object.entries(t).map(([e,n])=>`;${r_(e)}=${r_(n)}`).join("")}function I6(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dp(n)}=${Dp(i)}`).join("&"):`${Dp(n)}=${Dp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var A6=/^[^\/()?;#]+/;function Jv(t){let e=t.match(A6);return e?e[0]:""}var S6=/^[^\/()?;=#]+/;function T6(t){let e=t.match(S6);return e?e[0]:""}var M6=/^[^=?&#]+/;function F6(t){let e=t.match(M6);return e?e[0]:""}var P6=/^[^&#]+/;function R6(t){let e=t.match(P6);return e?e[0]:""}var i_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[qe]=new yt(e,n)),r}parseSegment(){let e=Jv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new Xs(Tp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=T6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jv(this.remaining);i&&(r=i,this.capture(r))}e[Tp(n)]=Tp(r)}parseQueryParam(e){let n=F6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=R6(this.remaining);s&&(r=s,this.capture(r))}let i=qS(n),o=qS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=qe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[qe]:new yt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function iT(t){return t.segments.length>0?new yt([],{[qe]:t}):t}function oT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=oT(i);if(r===qe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new yt(t.segments,e);return N6(n)}function N6(t){if(t.numberOfChildren===1&&t.children[qe]){let e=t.children[qe];return new yt(t.segments.concat(e.segments),e.children)}return t}function Bl(t){return t instanceof $o}function O6(t,e,n=null,r=null){let i=sT(t);return aT(i,e,n,r)}function sT(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new yt(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=iT(r);return e??i}function aT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zv(i,i,i,n,r);let o=k6(e);if(o.toRoot())return Zv(i,i,new yt([],{}),n,r);let s=V6(o,i,t),a=s.processChildren?Ou(s.segmentGroup,s.index,o.commands):cT(s.segmentGroup,s.index,o.commands);return Zv(i,s.segmentGroup,a,n,r)}function Mp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Bu(t){return typeof t=="object"&&t!=null&&t.outlets}function Zv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;t===e?s=n:s=lT(t,e,n);let a=iT(oT(s));return new $o(a,o,i)}function lT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=lT(o,e,n)}),new yt(t.segments,r)}var Fp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Mp(r[0]))throw new te(4003,!1);let i=r.find(Bu);if(i&&i!==JS(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function k6(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fp(n,e,r)}var kl=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function V6(t,e,n){if(t.isAbsolute)return new kl(e,!0,0);if(!n)return new kl(e,!1,NaN);if(n.parent===null)return new kl(n,!0,0);let r=Mp(t.commands[0])?0:1,i=n.segments.length-1+r;return L6(n,i,t.numberOfDoubleDots)}function L6(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new kl(r,!1,i-o)}function B6(t){return Bu(t[0])?t[0].outlets:{[qe]:t}}function cT(t,e,n){if(t??=new yt([],{}),t.segments.length===0&&t.hasChildren())return Ou(t,e,n);let r=j6(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new yt(t.segments.slice(0,r.pathIndex),{});return o.children[qe]=new yt(t.segments.slice(r.pathIndex),t.children),Ou(o,0,i)}else return r.match&&i.length===0?new yt(t.segments,{}):r.match&&!t.hasChildren()?o_(t,e,n):r.match?Ou(t,0,i):o_(t,e,n)}function Ou(t,e,n){if(n.length===0)return new yt(t.segments,{});{let r=B6(n),i={};if(Object.keys(r).some(o=>o!==qe)&&t.children[qe]&&t.numberOfChildren===1&&t.children[qe].segments.length===0){let o=Ou(t.children[qe],e,n);return new yt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new yt(t.segments,i)}}function j6(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Bu(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!GS(l,u,s))return o;r+=2}else{if(!GS(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function o_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Bu(o)){let l=U6(o.outlets);return new yt(r,l)}if(i===0&&Mp(n[0])){let l=t.segments[e];r.push(new Xs(l.path,zS(n[0]))),i++;continue}let s=Bu(o)?o.outlets[qe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mp(a)?(r.push(new Xs(s,zS(a))),i+=2):(r.push(new Xs(s,{})),i++)}return new yt(r,{})}function U6(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=o_(new yt([],{}),0,r))}),e}function zS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GS(t,e,n){return t==n.path&&Ii(e,n.parameters)}var ku="imperative",_n=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_n||{}),Tr=class{constructor(e,n){this.id=e,this.url=n}},jl=class extends Tr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=_n.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ai=class extends Tr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=_n.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(dr||{}),Pp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pp||{}),qo=class extends Tr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_n.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zo=class extends Tr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_n.NavigationSkipped}},ju=class extends Tr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=_n.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rp=class extends Tr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_n.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s_=class extends Tr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_n.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a_=class extends Tr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=_n.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},l_=class extends Tr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_n.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class extends Tr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_n.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u_=class{constructor(e){this.route=e,this.type=_n.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},d_=class{constructor(e){this.route=e,this.type=_n.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},h_=class{constructor(e){this.snapshot=e,this.type=_n.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f_=class{constructor(e){this.snapshot=e,this.type=_n.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p_=class{constructor(e){this.snapshot=e,this.type=_n.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m_=class{constructor(e){this.snapshot=e,this.type=_n.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=_n.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Uu=class{},$u=class{constructor(e){this.url=e}};var g_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ku,this.attachRef=null}},Ku=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new g_,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Op=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=y_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=y_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=v_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return v_(e,this._root).map(n=>n.value)}};function y_(t,e){if(t===e.value)return e;for(let n of e.children){let r=y_(t,n);if(r)return r}return null}function v_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=v_(t,n);if(r.length)return r.unshift(e),r}return[]}var ur=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ol(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kp=class extends Op{constructor(e,n){super(e),this.snapshot=n,S_(this,e)}toString(){return this.snapshot.toString()}};function uT(t){let e=$6(t),n=new Cn([new Xs("",{})]),r=new Cn({}),i=new Cn({}),o=new Cn({}),s=new Cn(""),a=new Xr(n,r,o,s,i,qe,t,e.root);return a.snapshot=e.root,new kp(new ur(a,[]),e)}function $6(t){let e={},n={},r={},i="",o=new qu([],e,r,i,n,qe,t,null,{});return new Vp("",new ur(o,[]))}var Xr=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(xe(u=>u[Hu]))??Se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>Ll(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>Ll(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function A_(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:de(de({},e.params),t.params),data:de(de({},e.data),t.data),resolve:de(de(de(de({},t.data),e.data),i?.data),t._resolvedData)}:r={params:de({},t.params),data:de({},t.data),resolve:de(de({},t.data),t._resolvedData??{})},i&&hT(i)&&(r.resolve[Hu]=i.title),r}var qu=class{get title(){return this.data?.[Hu]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ll(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ll(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vp=class extends Op{constructor(e,n){super(n),this.url=e,S_(this,n)}toString(){return dT(this._root)}};function S_(t,e){e.value._routerState=t,e.children.forEach(n=>S_(t,n))}function dT(t){let e=t.children.length>0?` { ${t.children.map(dT).join(", ")} } `:"";return`${t.value}${e}`}function Xv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ii(e.params,n.params)||t.paramsSubject.next(n.params),y6(e.url,n.url)||t.urlSubject.next(n.url),Ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function __(t,e){let n=Ii(t.params,e.params)&&w6(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||__(t.parent,e.parent))}function hT(t){return typeof t.title=="string"||t.title===null}var T_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.parentContexts=oe(Ku),this.location=oe(Dl),this.changeDetector=oe(Tl),this.environmentInjector=oe(Mn),this.inputBinder=oe($p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new E_(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=hn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lo]});let t=e;return t})(),E_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xr?this.route:e===Ku?this.childContexts:this.parent.get(e,n)}},$p=new he(""),HS=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=su([i.queryParams,i.params,i.data]).pipe(Nt(([s,a,l],u)=>(l=de(de(de({},s),a),l),u===0?Se(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=uS(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function q6(t,e,n){let r=zu(t,e._root,n?n._root:void 0);return new kp(r,e)}function zu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=z6(t,e,n);return new ur(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zu(t,a)),s}}let r=G6(e.value),i=e.children.map(o=>zu(t,o));return new ur(r,i)}}function z6(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zu(t,r,i);return zu(t,r)})}function G6(t){return new Xr(new Cn(t.url),new Cn(t.params),new Cn(t.queryParams),new Cn(t.fragment),new Cn(t.data),t.outlet,t.component,t)}var fT="ngNavigationCancelingError";function pT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Bl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mT(!1,dr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fT]=!0,n.cancellationCode=e,n}function H6(t){return gT(t)&&Bl(t.url)}function gT(t){return!!t&&t[fT]}var W6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["ng-component"]],standalone:!0,features:[QA],decls:1,vars:0,template:function(i,o){i&1&&ie(0,"router-outlet")},dependencies:[T_],encapsulation:2});let t=e;return t})();function K6(t,e){return t.providers&&!t._injector&&(t._injector=rp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function M_(t){let e=t.children&&t.children.map(M_),n=e?vt(de({},t),{children:e}):de({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qe&&(n.component=W6),n}function Si(t){return t.outlet||qe}function Q6(t,e){let n=t.filter(r=>Si(r)===e);return n.push(...t.filter(r=>Si(r)!==e)),n}function Qu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Y6=(t,e,n,r)=>xe(i=>(new w_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),w_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ol(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ol(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new m_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new f_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Xv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Qu(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Lp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vl=class{constructor(e,n){this.component=e,this.route=n}};function J6(t,e,n){let r=t._root,i=e?e._root:null;return Ru(r,i,n,[r.value])}function Z6(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $l(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rI(t)?t:e.get(t):r}function Ru(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ol(e);return t.children.forEach(s=>{X6(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vu(a,n.getContext(s),i)),i}function X6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=ej(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Lp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ru(t,e,a?a.children:null,r,i):Ru(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vl(a.outlet.component,s))}else s&&Vu(e,a,i),i.canActivateChecks.push(new Lp(r)),o.component?Ru(t,null,a?a.children:null,r,i):Ru(t,null,n,r,i);return i}function ej(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ea(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ea(t.url,e.url)||!Ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!__(t,e)||!Ii(t.queryParams,e.queryParams);case"paramsChange":default:return!__(t,e)}}function Vu(t,e,n){let r=Ol(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vu(s,e.children.getContext(o),n):Vu(s,null,n):Vu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vl(e.outlet.component,i)):n.canDeactivateChecks.push(new Vl(null,i)):n.canDeactivateChecks.push(new Vl(null,i))}function Yu(t){return typeof t=="function"}function tj(t){return typeof t=="boolean"}function nj(t){return t&&Yu(t.canLoad)}function rj(t){return t&&Yu(t.canActivate)}function ij(t){return t&&Yu(t.canActivateChild)}function oj(t){return t&&Yu(t.canDeactivate)}function sj(t){return t&&Yu(t.canMatch)}function yT(t){return t instanceof Gi||t?.name==="EmptyError"}var Ip=Symbol("INITIAL_VALUE");function Ul(){return Nt(t=>su(t.map(e=>e.pipe(Wi(1),ks(Ip)))).pipe(xe(e=>{for(let n of e)if(n!==!0){if(n===Ip)return Ip;if(n===!1||n instanceof $o)return n}return!0}),dn(e=>e!==Ip),Wi(1)))}function aj(t,e){return Vt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Se(vt(de({},n),{guardsResult:!0})):lj(s,r,i,t).pipe(Vt(a=>a&&tj(a)?cj(r,o,t,e):Se(a)),xe(a=>vt(de({},n),{guardsResult:a})))})}function lj(t,e,n,r){return $e(t).pipe(Vt(i=>pj(i.component,i.route,n,e,r)),Cr(i=>i!==!0,!0))}function cj(t,e,n,r){return $e(e).pipe(Hi(i=>il(dj(i.route.parent,r),uj(i.route,r),fj(t,i.path,n),hj(t,i.route,n))),Cr(i=>i!==!0,!0))}function uj(t,e){return t!==null&&e&&e(new p_(t)),Se(!0)}function dj(t,e){return t!==null&&e&&e(new h_(t)),Se(!0)}function hj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Se(!0);let i=r.map(o=>Yh(()=>{let s=Qu(e)??n,a=$l(o,s),l=rj(a)?a.canActivate(e,t):Qr(s,()=>a(e,t));return Go(l).pipe(Cr())}));return Se(i).pipe(Ul())}function fj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Z6(s)).filter(s=>s!==null).map(s=>Yh(()=>{let a=s.guards.map(l=>{let u=Qu(s.node)??n,d=$l(l,u),f=ij(d)?d.canActivateChild(r,t):Qr(u,()=>d(r,t));return Go(f).pipe(Cr())});return Se(a).pipe(Ul())}));return Se(o).pipe(Ul())}function pj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Se(!0);let s=o.map(a=>{let l=Qu(e)??i,u=$l(a,l),d=oj(u)?u.canDeactivate(t,e,n,r):Qr(l,()=>u(t,e,n,r));return Go(d).pipe(Cr())});return Se(s).pipe(Ul())}function mj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Se(!0);let o=i.map(s=>{let a=$l(s,t),l=nj(a)?a.canLoad(e,n):Qr(t,()=>a(e,n));return Go(l)});return Se(o).pipe(Ul(),vT(r))}function vT(t){return Iy(tn(e=>{if(Bl(e))throw pT(t,e)}),xe(e=>e===!0))}function gj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Se(!0);let o=i.map(s=>{let a=$l(s,t),l=sj(a)?a.canMatch(e,n):Qr(t,()=>a(e,n));return Go(l)});return Se(o).pipe(Ul(),vT(r))}var Gu=class{constructor(e){this.segmentGroup=e||null}},Bp=class extends Error{constructor(e){super(),this.urlTree=e}};function Nl(t){return rl(new Gu(t))}function yj(t){return rl(new te(4e3,!1))}function vj(t){return rl(mT(!1,dr.GuardRejected))}var x_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Se(r);if(i.numberOfChildren>1||!i.children[qe])return yj(e.redirectTo);i=i.children[qe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Bp(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $o(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new yt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},C_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _j(t,e,n,r,i){let o=F_(t,e,n);return o.matched?(r=K6(e,r),gj(r,e,n,i).pipe(xe(s=>s===!0?o:de({},C_)))):Se(o)}function F_(t,e,n){if(e.path==="**")return Ej(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?de({},C_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||g6)(n,t,e);if(!i)return de({},C_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?de(de({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ej(t){return{matched:!0,parameters:t.length>0?JS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function WS(t,e,n,r){return n.length>0&&Cj(t,n,r)?{segmentGroup:new yt(e,xj(r,new yt(n,t.children))),slicedSegments:[]}:n.length===0&&bj(t,n,r)?{segmentGroup:new yt(t.segments,wj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new yt(t.segments,t.children),slicedSegments:n}}function wj(t,e,n,r){let i={};for(let o of n)if(qp(t,e,o)&&!r[Si(o)]){let s=new yt([],{});i[Si(o)]=s}return de(de({},r),i)}function xj(t,e){let n={};n[qe]=e;for(let r of t)if(r.path===""&&Si(r)!==qe){let i=new yt([],{});n[Si(r)]=i}return n}function Cj(t,e,n){return n.some(r=>qp(t,e,r)&&Si(r)!==qe)}function bj(t,e,n){return n.some(r=>qp(t,e,r))}function qp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Dj(t,e,n,r){return Si(t)!==r&&(r===qe||!qp(e,n,t))?!1:F_(e,t,n).matched}function Ij(t,e,n){return e.length===0&&!t.children[n]}var b_=class{};function Aj(t,e,n,r,i,o,s="emptyOnly"){return new D_(t,e,n,r,i,s,o).recognize()}var Sj=31,D_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=WS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(n=>{let r=new qu([],Object.freeze({}),Object.freeze(de({},this.urlTree.queryParams)),this.urlTree.fragment,{},qe,this.rootComponentType,null,{}),i=new ur(r,n),o=new Vp("",i),s=O6(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,qe).pipe(So(r=>{if(r instanceof Bp)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gu?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=A_(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(xe(o=>o instanceof ur?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $e(i).pipe(Hi(o=>{let s=r.children[o],a=Q6(n,o);return this.processSegmentGroup(e,a,s,o)}),Os((o,s)=>(o.push(...s),o)),To(null),Vy(),Vt(o=>{if(o===null)return Nl(r);let s=_T(o);return Tj(s),Se(s)}))}processSegment(e,n,r,i,o,s){return $e(n).pipe(Hi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(So(l=>{if(l instanceof Gu)return Se(null);throw l}))),Cr(a=>!!a),So(a=>{if(yT(a))return Ij(r,i,o)?Se(new b_):Nl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return Dj(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Nl(i):Nl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:d}=F_(n,i,o);if(!a)return Nl(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sj&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,f).pipe(Vt(g=>this.processSegment(e,r,n,g.concat(d),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=_j(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Nt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let u=r._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:g}=a,x=new qu(d,g,Object.freeze(de({},this.urlTree.queryParams)),this.urlTree.fragment,Fj(r),Si(r),r.component??r._loadedComponent??null,r,Pj(r)),{segmentGroup:P,slicedSegments:N}=WS(n,d,f,l);if(N.length===0&&P.hasChildren())return this.processChildren(u,l,P).pipe(xe(z=>z===null?null:new ur(x,z)));if(l.length===0&&N.length===0)return Se(new ur(x,[]));let V=Si(r)===o;return this.processSegment(u,l,P,N,V?qe:o,!0).pipe(xe(z=>new ur(x,z instanceof ur?[z]:[])))}))):Nl(n)))}getChildConfig(e,n,r){return n.children?Se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Se({routes:n._loadedRoutes,injector:n._loadedInjector}):mj(e,n,r,this.urlSerializer).pipe(Vt(i=>i?this.configLoader.loadChildren(e,n).pipe(tn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):vj(n))):Se({routes:[],injector:e})}};function Tj(t){t.sort((e,n)=>e.value.outlet===qe?-1:n.value.outlet===qe?1:e.value.outlet.localeCompare(n.value.outlet))}function Mj(t){let e=t.value.routeConfig;return e&&e.path===""}function _T(t){let e=[],n=new Set;for(let r of t){if(!Mj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_T(r.children);e.push(new ur(r.value,i))}return e.filter(r=>!n.has(r))}function Fj(t){return t.data||{}}function Pj(t){return t.resolve||{}}function Rj(t,e,n,r,i,o){return Vt(s=>Aj(t,e,n,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:l})=>vt(de({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Nj(t,e){return Vt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Se(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of ET(l))s.add(u);let a=0;return $e(s).pipe(Hi(l=>o.has(l)?Oj(l,r,t,e):(l.data=A_(l,l.parent,t).resolve,Se(void 0))),tn(()=>a++),ol(1),Vt(l=>a===s.size?Se(n):Gn))})}function ET(t){let e=t.children.map(n=>ET(n)).flat();return[t,...e]}function Oj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hT(i)&&(o[Hu]=i.title),kj(o,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=A_(t,t.parent,n).resolve,null)))}function kj(t,e,n,r){let i=n_(t);if(i.length===0)return Se({});let o={};return $e(i).pipe(Vt(s=>Vj(t[s],e,n,r).pipe(Cr(),tn(a=>{o[s]=a}))),ol(1),Oy(o),So(s=>yT(s)?Gn:rl(s)))}function Vj(t,e,n,r){let i=Qu(e)??r,o=$l(t,i),s=o.resolve?o.resolve(e,n):Qr(i,()=>o(e,n));return Go(s)}function e_(t){return Nt(e=>{let n=t(e);return n?$e(n).pipe(xe(()=>e)):Se(e)})}var wT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===qe);return i}getResolvedTitleForRoute(r){return r.data[Hu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Lj),providedIn:"root"});let t=e;return t})(),Lj=(()=>{let e=class e extends wT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(X(jS))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ju=new he("",{providedIn:"root",factory:()=>({})}),jp=new he(""),P_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(hp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Go(r.loadComponent()).pipe(xe(xT),tn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Mo(()=>{this.componentLoaders.delete(r)})),o=new Xa(i,()=>new qt).pipe(Za());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Bj(i,this.compiler,r,this.onLoadEndListener).pipe(Mo(()=>{this.childrenLoaders.delete(i)})),a=new Xa(s,()=>new qt).pipe(Za());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bj(t,e,n,r){return Go(t.loadChildren()).pipe(xe(xT),Vt(i=>i instanceof yu||Array.isArray(i)?Se(i):$e(e.compileModuleAsync(i))),xe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(jp,[],{optional:!0,self:!0}).flat()),{routes:s.map(M_),injector:o}}))}function jj(t){return t&&typeof t=="object"&&"default"in t}function xT(t){return jj(t)?t.default:t}var R_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Uj),providedIn:"root"});let t=e;return t})(),Uj=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CT=new he(""),bT=new he("");function $j(t,e,n){let r=t.get(bT),i=t.get(vn);return t.get(et).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),qj(t))),{onViewTransitionCreated:l}=r;return l&&Qr(t,()=>l({transition:a,from:e,to:n})),s})}function qj(t){return new Promise(e=>{np(e,{injector:t})})}var N_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qt,this.transitionAbortSubject=new qt,this.configLoader=oe(P_),this.environmentInjector=oe(Mn),this.urlSerializer=oe(Wu),this.rootContexts=oe(Ku),this.location=oe(Pl),this.inputBindingEnabled=oe($p,{optional:!0})!==null,this.titleStrategy=oe(wT),this.options=oe(Ju,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(R_),this.createViewTransition=oe(CT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null;let r=o=>this.events.next(new u_(o)),i=o=>this.events.next(new d_(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(vt(de(de({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Cn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ku,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dn(s=>s.id!==0),xe(s=>vt(de({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Nt(s=>{let a=!1,l=!1;return Se(s).pipe(Nt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",dr.SupersededByNewNavigation),Gn;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?vt(de({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new zo(u.id,this.urlSerializer.serialize(u.rawUrl),g,Pp.IgnoredSameUrlNavigation)),u.resolve(null),Gn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Se(u).pipe(Nt(g=>{let x=this.transitions?.getValue();return this.events.next(new jl(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),x!==this.transitions?.getValue()?Gn:Promise.resolve(g)}),Rj(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),tn(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=vt(de({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let x=new Rp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(x)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:x,source:P,restoredState:N,extras:V}=u,z=new jl(g,this.urlSerializer.serialize(x),P,N);this.events.next(z);let ee=uT(this.rootComponentType).snapshot;return this.currentTransition=s=vt(de({},u),{targetSnapshot:ee,urlAfterRedirects:x,extras:vt(de({},V),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=x,Se(s)}else{let g="";return this.events.next(new zo(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Pp.IgnoredByUrlHandlingStrategy)),u.resolve(null),Gn}}),tn(u=>{let d=new s_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xe(u=>(this.currentTransition=s=vt(de({},u),{guards:J6(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),aj(this.environmentInjector,u=>this.events.next(u)),tn(u=>{if(s.guardsResult=u.guardsResult,Bl(u.guardsResult))throw pT(this.urlSerializer,u.guardsResult);let d=new a_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),dn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",dr.GuardRejected),!1)),e_(u=>{if(u.guards.canActivateChecks.length)return Se(u).pipe(tn(d=>{let f=new l_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Nt(d=>{let f=!1;return Se(d).pipe(Nj(this.paramsInheritanceStrategy,this.environmentInjector),tn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",dr.NoDataFromResolver)}}))}),tn(d=>{let f=new c_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),e_(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(tn(x=>{f.component=x}),xe(()=>{})));for(let x of f.children)g.push(...d(x));return g};return su(d(u.targetSnapshot.root)).pipe(To(null),Wi(1))}),e_(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?$e(f).pipe(xe(()=>s)):Se(s)}),xe(u=>{let d=q6(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=vt(de({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),tn(()=>{this.events.next(new Uu)}),Y6(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Wi(1),tn({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),By(this.transitionAbortSubject.pipe(tn(u=>{throw u}))),Mo(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",dr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),So(u=>{if(l=!0,gT(u))this.events.next(new qo(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),H6(u)?this.events.next(new $u(u.url)):s.resolve(!1);else{this.events.next(new ju(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Gn}))}))}cancelNavigationTransition(r,i,o){let s=new qo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zj(t){return t!==ku}var Gj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Hj),providedIn:"root"});let t=e;return t})(),I_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Hj=(()=>{let e=class e extends I_{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ks(e)))(o||e)}})(),e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Wj),providedIn:"root"});let t=e;return t})(),Wj=(()=>{let e=class e extends DT{constructor(){super(...arguments),this.location=oe(Pl),this.urlSerializer=oe(Wu),this.options=oe(Ju,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(R_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof jl)this.stateMemento=this.createStateMemento();else if(r instanceof zo)this.rawUrlTree=i.initialUrl;else if(r instanceof Rp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Uu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof qo&&(r.code===dr.GuardRejected||r.code===dr.NoDataFromResolver)?this.restoreHistory(i):r instanceof ju?this.restoreHistory(i,!0):r instanceof Ai&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=de(de({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=de(de({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ks(e)))(o||e)}})(),e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Nu||{});function IT(t,e){t.events.pipe(dn(n=>n instanceof Ai||n instanceof qo||n instanceof ju||n instanceof zo),xe(n=>n instanceof Ai||n instanceof zo?Nu.COMPLETE:(n instanceof qo?n.code===dr.Redirect||n.code===dr.SupersededByNewNavigation:!1)?Nu.REDIRECTING:Nu.FAILED),dn(n=>n!==Nu.REDIRECTING),Wi(1)).subscribe(()=>{e()})}function Kj(t){throw t}var Qj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=oe(ap),this.stateManager=oe(DT),this.options=oe(Ju,{optional:!0})||{},this.pendingTasks=oe(Ys),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(N_),this.urlSerializer=oe(Wu),this.location=oe(Pl),this.urlHandlingStrategy=oe(R_),this._events=new qt,this.errorHandler=this.options.errorHandler||Kj,this.navigated=!1,this.routeReuseStrategy=oe(Gj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(jp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe($p,{optional:!0}),this.eventsSubscription=new Kt,this.isNgZoneEnabled=oe(et)instanceof et&&et.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof qo&&i.code!==dr.Redirect&&i.code!==dr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ai)this.navigated=!0;else if(i instanceof $u){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zj(o.source)};this.scheduleNavigation(a,ku,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Zj(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ku,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=de({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(M_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(l){case"merge":f=de(de({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let x=o?o.snapshot:this.routerState.snapshot.root;g=sT(x)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return aT(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Bl(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ku,null,i)}navigate(r,i={skipLocationChange:!1}){return Jj(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=de({},Qj):i===!1?o=de({},Yj):o=i,Bl(r))return $S(this.currentUrlTree,r,o);let s=this.parseUrl(r);return $S(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((g,x)=>{l=g,u=x});let f=this.pendingTasks.add();return IT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new te(4008,!1)}function Zj(t){return!(t instanceof Uu)&&!(t instanceof $u)}var Ho=(()=>{let e=class e{constructor(r,i,o,s,a,l){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new qt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:yA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Ie(On),Ie(Xr),nv("tabindex"),Ie(Zi),Ie(xi),Ie(eo))},e.\u0275dir=hn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&xt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ip("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Tn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ml],skipLocationChange:[Tn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ml],replaceUrl:[Tn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ml],routerLink:"routerLink"},standalone:!0,features:[xv,Lo]});let t=e;return t})();var Up=class{};var Xj=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(dn(r=>r instanceof Ai),Hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=rp(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return $e(o).pipe(Ao())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Se(null);let s=o.pipe(Vt(a=>a===null?Se(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return $e([s,a]).pipe(Ao())}else return s})}};e.\u0275fac=function(i){return new(i||e)(X(On),X(hp),X(Mn),X(Up),X(P_))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AT=new he(""),e8=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=oe(Mn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof jl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ai?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof zo&&r.code===Pp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Np&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>G(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),np(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Np(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){TA()},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function t8(t){return t.routerState.root}function Zu(t,e){return{\u0275kind:t,\u0275providers:e}}function n8(){let t=oe(Jr);return e=>{let n=t.get(Zs);if(e!==n.components[0])return;let r=t.get(On),i=t.get(ST);t.get(O_)===1&&r.initialNavigation(),t.get(TT,null,Ye.Optional)?.setUpPreloading(),t.get(AT,null,Ye.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ST=new he("",{factory:()=>new qt}),O_=new he("",{providedIn:"root",factory:()=>1});function r8(){return Zu(2,[{provide:O_,useValue:0},{provide:up,multi:!0,deps:[Jr],useFactory:e=>{let n=e.get(yS,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(On),o=e.get(ST);IT(i,()=>{r(!0)}),e.get(N_).afterPreactivation=()=>(r(!0),o.closed?Se(void 0):o),i.initialNavigation()}))}}])}function i8(){return Zu(3,[{provide:up,multi:!0,useFactory:()=>{let e=oe(On);return()=>{e.setUpLocationChangeListener()}}},{provide:O_,useValue:2}])}var TT=new he("");function o8(t){return Zu(0,[{provide:TT,useExisting:Xj},{provide:Up,useExisting:t}])}function s8(){return Zu(8,[HS,{provide:$p,useExisting:HS}])}function a8(t){let e=[{provide:CT,useValue:$j},{provide:bT,useValue:de({skipNextTransition:!!t?.skipInitialTransition},t)}];return Zu(9,e)}var KS=new he("ROUTER_FORROOT_GUARD"),l8=[Pl,{provide:Wu,useClass:Lu},On,Ku,{provide:Xr,useFactory:t8,deps:[On]},P_,[]],k_=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[l8,[],{provide:jp,multi:!0,useValue:r},{provide:KS,useFactory:h8,deps:[[On,new xl,new U0]]},{provide:Ju,useValue:i||{}},i?.useHash?u8():d8(),c8(),i?.preloadingStrategy?o8(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?f8(i):[],i?.bindToComponentInputs?s8().\u0275providers:[],i?.enableViewTransitions?a8().\u0275providers:[],p8()]}}static forChild(r){return{ngModule:e,providers:[{provide:jp,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(X(KS,8))},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({});let t=e;return t})();function c8(){return{provide:AT,useFactory:()=>{let t=oe(wS),e=oe(et),n=oe(Ju),r=oe(N_),i=oe(Wu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new e8(i,r,t,e,n)}}}function u8(){return{provide:eo,useClass:_S}}function d8(){return{provide:eo,useClass:Ov}}function h8(t){return"guarded"}function f8(t){return[t.initialNavigation==="disabled"?i8().\u0275providers:[],t.initialNavigation==="enabledBlocking"?r8().\u0275providers:[]]}var QS=new he("");function p8(){return[{provide:QS,useFactory:n8},{provide:dp,multi:!0,useExisting:QS}]}var m8="firebase",g8="10.12.2";Io(m8,g8,"app");var Xu=new Qi("ANGULARFIRE2_VERSION");var y8=(t,e)=>{let n=e?[e]:Ub(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ta=class{constructor(){return y8(v8)}},v8="app-check";function V_(){}var zp=class{zone;delegate;constructor(e,n=My){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},L_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",V_,{},V_,V_)),n.pipe(tn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gp=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new zp(Zone.current)),this.insideAngular=n.run(()=>new zp(Zone.current,ou)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(et))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _8(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ir(t){return E8(_8())(t)}function E8(t){return function(n){return n=n.lift(new L_(t.ngZone)),n.pipe(qr(t.outsideAngular),xr(t.insideAngular))}}var C8=new Map,b8={activated:!1,tokenObservers:[]},D8={initialized:!1,enabled:!1};function ei(t){return C8.get(t)||Object.assign({},b8)}function OT(){return D8}var I8="https://content-firebaseappcheck.googleapis.com/v1";var A8="exchangeDebugToken",FT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ite=24*60*60*1e3;var j_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return G(this,null,function*(){this.stop();try{this.pending=new py,this.pending.promise.catch(n=>{}),yield S8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new py,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function S8(t){return new Promise(e=>{setTimeout(e,t)})}var T8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Wo=new Bb("appCheck","AppCheck",T8);function kT(t){if(!ei(t).activated)throw Wo.create("use-before-activation",{appName:t.name})}function VT(r,i){return G(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let x=yield s.getHeartbeatsHeader();x&&(o["X-Firebase-Client"]=x)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(x){throw Wo.create("fetch-network-error",{originalErrorMessage:x?.message})}if(l.status!==200)throw Wo.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(x){throw Wo.create("fetch-parse-error",{originalErrorMessage:x?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function LT(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${I8}/projects/${n}/apps/${r}:${A8}?key=${i}`,body:{debug_token:e}}}var M8="firebase-app-check-database",F8=1,U_="firebase-app-check-store";var Hp=null;function P8(){return Hp||(Hp=new Promise((t,e)=>{try{let n=indexedDB.open(M8,F8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Wo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(U_,{keyPath:"compositeKey"})}}}catch(n){e(Wo.create("storage-open",{originalErrorMessage:n?.message}))}}),Hp)}function R8(t,e){return N8(O8(t),e)}function N8(t,e){return G(this,null,function*(){let r=(yield P8()).transaction(U_,"readwrite"),o=r.objectStore(U_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Wo.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function O8(t){return`${t.options.appId}-${t.name}`}var $_=new Dh("@firebase/app-check");function B_(t,e){return bh()?R8(t,e).catch(n=>{$_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function BT(){return OT().enabled}function jT(){return G(this,null,function*(){let t=OT();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var k8={error:"UNKNOWN_ERROR"};function V8(t){return kb.encodeString(JSON.stringify(t),!1)}function q_(t,e=!1){return G(this,null,function*(){let n=t.app;kT(n);let r=ei(n),i=r.token,o;if(i&&!ed(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(ed(l)?i=l:yield B_(n,void 0))}if(!e&&i&&ed(i))return{token:i.token};let s=!1;if(BT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=VT(LT(n,yield jT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield B_(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ei(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?$_.warn(l.message):$_.error(l),o=l}let a;return i?o?ed(i)?a={token:i.token,internalError:o}:a=RT(o):(a={token:i.token},r.token=i,yield B_(n,i)):a=RT(o),s&&U8(n,a),a})}function L8(t){return G(this,null,function*(){let e=t.app;kT(e);let{provider:n}=ei(e);if(BT()){let r=yield jT(),{token:i}=yield VT(LT(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function B8(t,e,n,r){let{app:i}=t,o=ei(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ed(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),PT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>PT(t))}function UT(t,e){let n=ei(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function PT(t){let{app:e}=t,n=ei(e),r=n.tokenRefresher;r||(r=j8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function j8(t){let{app:e}=t;return new j_(()=>G(this,null,function*(){let n=ei(e),r;if(n.token?r=yield q_(t,!0):r=yield q_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ei(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},FT.RETRIAL_MIN_WAIT,FT.RETRIAL_MAX_WAIT)}function U8(t,e){let n=ei(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ed(t){return t.expireTimeMillis-Date.now()>0}function RT(t){return{token:V8(k8),error:t}}var z_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ei(this.app);for(let n of e)UT(this.app,n.next);return Promise.resolve()}};function $8(t,e){return new z_(t,e)}function q8(t){return{getToken:e=>q_(t,e),getLimitedUseToken:()=>L8(t),addTokenListener:e=>B8(t,"INTERNAL",e),removeTokenListener:e=>UT(t.app,e)}}var z8="@firebase/app-check",G8="0.8.4";var H8="app-check",NT="app-check-internal";function W8(){tu(new Fs(H8,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(NT).initialize()})),tu(new Fs(NT,t=>{let e=t.getProvider("app-check").getImmediate();return q8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Io(z8,G8)}W8();var K8=["localhost","0.0.0.0","127.0.0.1"],gte=typeof window<"u"&&K8.includes(window.location.hostname);var Q8="firebase",Y8="10.12.2";cr.registerVersion(Q8,Y8,"app-compat");var J8=["ngOnDestroy"],zT=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(J8.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(u=>n.run(()=>u)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,u)=>s.then(d=>{let f=d?.(...u);return r?.spy?.apply&&r.spy.apply(o,u,f),f})})})});var Wp=class{constructor(e){return e}},ql=new he("angularfire2.app.options"),zl=new he("angularfire2.app.name");function td(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=cr.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>cr.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;Z8("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Wp(s)}var Z8=(t,...e)=>{Av()&&typeof console<"u"&&console[t](...e)},X8={provide:Wp,useFactory:td,deps:[ql,et,[new xl,zl]]},GT=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:ql,useValue:n},{provide:zl,useValue:r}]}}constructor(n){cr.registerVersion("angularfire",Xu.full,"core"),cr.registerVersion("angularfire",Xu.full,"app-compat"),cr.registerVersion("angular",eS.full,n.toString())}static \u0275fac=function(r){return new(r||t)(X(Nn))};static \u0275mod=Bt({type:t});static \u0275inj=Lt({providers:[X8]})}return t})();function Kp(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return e9(i,s)||(qT("error",`${e} was already initialized on the ${n} Firebase App with different settings.${t9?" You may need to reload as Firebase is not HMR aware.":""}`),qT("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function e9(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var t9=typeof module<"u"&&!!module.hot,qT=(t,...e)=>{Av()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var G_=new he("angularfire2.auth.use-emulator"),H_=new he("angularfire2.auth.settings"),W_=new he("angularfire2.auth.tenant-id"),K_=new he("angularfire2.auth.langugage-code"),Q_=new he("angularfire2.auth.use-device-language"),Y_=new he("angularfire.auth.persistence"),J_=(t,e,n,r,i,o,s,a)=>Kp(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))l.settings[u]=d;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),HT=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,u,d,f,g,x){let P=new qt,N=Se(void 0).pipe(xr(s.outsideAngular),Nt(()=>o.runOutsideAngular(()=>import("./chunk-7OBTBBOP.js"))),xe(()=>td(n,o,r)),xe(V=>J_(V,o,a,u,d,f,l,g)),Zh({bufferSize:1,refCount:!1}));if(jo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Se(null);else{N.pipe(Cr()).subscribe();let V=N.pipe(Nt(R=>R.getRedirectResult().then(Z=>Z,()=>null)),ir,Zh({bufferSize:1,refCount:!1})),z=N.pipe(Nt(R=>new Ke(Z=>({unsubscribe:o.runOutsideAngular(()=>R.onAuthStateChanged(Ee=>Z.next(Ee),Ee=>Z.error(Ee),()=>Z.complete()))})))),ee=N.pipe(Nt(R=>new Ke(Z=>({unsubscribe:o.runOutsideAngular(()=>R.onIdTokenChanged(Ee=>Z.next(Ee),Ee=>Z.error(Ee),()=>Z.complete()))}))));this.authState=V.pipe(Xh(z),qr(s.outsideAngular),xr(s.insideAngular)),this.user=V.pipe(Xh(ee),qr(s.outsideAngular),xr(s.insideAngular)),this.idToken=this.user.pipe(Nt(R=>R?$e(R.getIdToken()):Se(null))),this.idTokenResult=this.user.pipe(Nt(R=>R?$e(R.getIdTokenResult()):Se(null))),this.credential=Ny(V,P,this.authState.pipe(dn(R=>!R))).pipe(xe(R=>R?.user?R:null),qr(s.outsideAngular),xr(s.insideAngular))}return zT(this,N,o,{spy:{apply:(V,z,ee)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&ee.then(R=>P.next(R))}}})}static \u0275fac=function(r){return new(r||t)(X(ql),X(zl,8),X(Nn),X(et),X(Gp),X(G_,8),X(H_,8),X(W_,8),X(K_,8),X(Q_,8),X(Y_,8),X(ta,8))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KT={};var Ko,Z_;(function(){var t;function e(S,D){function T(){}T.prototype=D.prototype,S.D=D.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(O,L,B){for(var M=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)M[pn-2]=arguments[pn];return D.prototype[L].apply(O,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,D,T){T||(T=0);var O=Array(16);if(typeof D=="string")for(var L=0;16>L;++L)O[L]=D.charCodeAt(T++)|D.charCodeAt(T++)<<8|D.charCodeAt(T++)<<16|D.charCodeAt(T++)<<24;else for(L=0;16>L;++L)O[L]=D[T++]|D[T++]<<8|D[T++]<<16|D[T++]<<24;D=S.g[0],T=S.g[1],L=S.g[2];var B=S.g[3],M=D+(B^T&(L^B))+O[0]+3614090360&4294967295;D=T+(M<<7&4294967295|M>>>25),M=B+(L^D&(T^L))+O[1]+3905402710&4294967295,B=D+(M<<12&4294967295|M>>>20),M=L+(T^B&(D^T))+O[2]+606105819&4294967295,L=B+(M<<17&4294967295|M>>>15),M=T+(D^L&(B^D))+O[3]+3250441966&4294967295,T=L+(M<<22&4294967295|M>>>10),M=D+(B^T&(L^B))+O[4]+4118548399&4294967295,D=T+(M<<7&4294967295|M>>>25),M=B+(L^D&(T^L))+O[5]+1200080426&4294967295,B=D+(M<<12&4294967295|M>>>20),M=L+(T^B&(D^T))+O[6]+2821735955&4294967295,L=B+(M<<17&4294967295|M>>>15),M=T+(D^L&(B^D))+O[7]+4249261313&4294967295,T=L+(M<<22&4294967295|M>>>10),M=D+(B^T&(L^B))+O[8]+1770035416&4294967295,D=T+(M<<7&4294967295|M>>>25),M=B+(L^D&(T^L))+O[9]+2336552879&4294967295,B=D+(M<<12&4294967295|M>>>20),M=L+(T^B&(D^T))+O[10]+4294925233&4294967295,L=B+(M<<17&4294967295|M>>>15),M=T+(D^L&(B^D))+O[11]+2304563134&4294967295,T=L+(M<<22&4294967295|M>>>10),M=D+(B^T&(L^B))+O[12]+1804603682&4294967295,D=T+(M<<7&4294967295|M>>>25),M=B+(L^D&(T^L))+O[13]+4254626195&4294967295,B=D+(M<<12&4294967295|M>>>20),M=L+(T^B&(D^T))+O[14]+2792965006&4294967295,L=B+(M<<17&4294967295|M>>>15),M=T+(D^L&(B^D))+O[15]+1236535329&4294967295,T=L+(M<<22&4294967295|M>>>10),M=D+(L^B&(T^L))+O[1]+4129170786&4294967295,D=T+(M<<5&4294967295|M>>>27),M=B+(T^L&(D^T))+O[6]+3225465664&4294967295,B=D+(M<<9&4294967295|M>>>23),M=L+(D^T&(B^D))+O[11]+643717713&4294967295,L=B+(M<<14&4294967295|M>>>18),M=T+(B^D&(L^B))+O[0]+3921069994&4294967295,T=L+(M<<20&4294967295|M>>>12),M=D+(L^B&(T^L))+O[5]+3593408605&4294967295,D=T+(M<<5&4294967295|M>>>27),M=B+(T^L&(D^T))+O[10]+38016083&4294967295,B=D+(M<<9&4294967295|M>>>23),M=L+(D^T&(B^D))+O[15]+3634488961&4294967295,L=B+(M<<14&4294967295|M>>>18),M=T+(B^D&(L^B))+O[4]+3889429448&4294967295,T=L+(M<<20&4294967295|M>>>12),M=D+(L^B&(T^L))+O[9]+568446438&4294967295,D=T+(M<<5&4294967295|M>>>27),M=B+(T^L&(D^T))+O[14]+3275163606&4294967295,B=D+(M<<9&4294967295|M>>>23),M=L+(D^T&(B^D))+O[3]+4107603335&4294967295,L=B+(M<<14&4294967295|M>>>18),M=T+(B^D&(L^B))+O[8]+1163531501&4294967295,T=L+(M<<20&4294967295|M>>>12),M=D+(L^B&(T^L))+O[13]+2850285829&4294967295,D=T+(M<<5&4294967295|M>>>27),M=B+(T^L&(D^T))+O[2]+4243563512&4294967295,B=D+(M<<9&4294967295|M>>>23),M=L+(D^T&(B^D))+O[7]+1735328473&4294967295,L=B+(M<<14&4294967295|M>>>18),M=T+(B^D&(L^B))+O[12]+2368359562&4294967295,T=L+(M<<20&4294967295|M>>>12),M=D+(T^L^B)+O[5]+4294588738&4294967295,D=T+(M<<4&4294967295|M>>>28),M=B+(D^T^L)+O[8]+2272392833&4294967295,B=D+(M<<11&4294967295|M>>>21),M=L+(B^D^T)+O[11]+1839030562&4294967295,L=B+(M<<16&4294967295|M>>>16),M=T+(L^B^D)+O[14]+4259657740&4294967295,T=L+(M<<23&4294967295|M>>>9),M=D+(T^L^B)+O[1]+2763975236&4294967295,D=T+(M<<4&4294967295|M>>>28),M=B+(D^T^L)+O[4]+1272893353&4294967295,B=D+(M<<11&4294967295|M>>>21),M=L+(B^D^T)+O[7]+4139469664&4294967295,L=B+(M<<16&4294967295|M>>>16),M=T+(L^B^D)+O[10]+3200236656&4294967295,T=L+(M<<23&4294967295|M>>>9),M=D+(T^L^B)+O[13]+681279174&4294967295,D=T+(M<<4&4294967295|M>>>28),M=B+(D^T^L)+O[0]+3936430074&4294967295,B=D+(M<<11&4294967295|M>>>21),M=L+(B^D^T)+O[3]+3572445317&4294967295,L=B+(M<<16&4294967295|M>>>16),M=T+(L^B^D)+O[6]+76029189&4294967295,T=L+(M<<23&4294967295|M>>>9),M=D+(T^L^B)+O[9]+3654602809&4294967295,D=T+(M<<4&4294967295|M>>>28),M=B+(D^T^L)+O[12]+3873151461&4294967295,B=D+(M<<11&4294967295|M>>>21),M=L+(B^D^T)+O[15]+530742520&4294967295,L=B+(M<<16&4294967295|M>>>16),M=T+(L^B^D)+O[2]+3299628645&4294967295,T=L+(M<<23&4294967295|M>>>9),M=D+(L^(T|~B))+O[0]+4096336452&4294967295,D=T+(M<<6&4294967295|M>>>26),M=B+(T^(D|~L))+O[7]+1126891415&4294967295,B=D+(M<<10&4294967295|M>>>22),M=L+(D^(B|~T))+O[14]+2878612391&4294967295,L=B+(M<<15&4294967295|M>>>17),M=T+(B^(L|~D))+O[5]+4237533241&4294967295,T=L+(M<<21&4294967295|M>>>11),M=D+(L^(T|~B))+O[12]+1700485571&4294967295,D=T+(M<<6&4294967295|M>>>26),M=B+(T^(D|~L))+O[3]+2399980690&4294967295,B=D+(M<<10&4294967295|M>>>22),M=L+(D^(B|~T))+O[10]+4293915773&4294967295,L=B+(M<<15&4294967295|M>>>17),M=T+(B^(L|~D))+O[1]+2240044497&4294967295,T=L+(M<<21&4294967295|M>>>11),M=D+(L^(T|~B))+O[8]+1873313359&4294967295,D=T+(M<<6&4294967295|M>>>26),M=B+(T^(D|~L))+O[15]+4264355552&4294967295,B=D+(M<<10&4294967295|M>>>22),M=L+(D^(B|~T))+O[6]+2734768916&4294967295,L=B+(M<<15&4294967295|M>>>17),M=T+(B^(L|~D))+O[13]+1309151649&4294967295,T=L+(M<<21&4294967295|M>>>11),M=D+(L^(T|~B))+O[4]+4149444226&4294967295,D=T+(M<<6&4294967295|M>>>26),M=B+(T^(D|~L))+O[11]+3174756917&4294967295,B=D+(M<<10&4294967295|M>>>22),M=L+(D^(B|~T))+O[2]+718787259&4294967295,L=B+(M<<15&4294967295|M>>>17),M=T+(B^(L|~D))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+D&4294967295,S.g[1]=S.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+B&4294967295}r.prototype.u=function(S,D){D===void 0&&(D=S.length);for(var T=D-this.blockSize,O=this.B,L=this.h,B=0;B<D;){if(L==0)for(;B<=T;)i(this,S,B),B+=this.blockSize;if(typeof S=="string"){for(;B<D;)if(O[L++]=S.charCodeAt(B++),L==this.blockSize){i(this,O),L=0;break}}else for(;B<D;)if(O[L++]=S[B++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=D},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var D=1;D<S.length-8;++D)S[D]=0;var T=8*this.o;for(D=S.length-8;D<S.length;++D)S[D]=T&255,T/=256;for(this.u(S),S=Array(16),D=T=0;4>D;++D)for(var O=0;32>O;O+=8)S[T++]=this.g[D]>>>O&255;return S};function o(S,D){var T=a;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=D(S)}function s(S,D){this.h=D;for(var T=[],O=!0,L=S.length-1;0<=L;L--){var B=S[L]|0;O&&B==D||(T[L]=B,O=!1)}this.g=T}var a={};function l(S){return-128<=S&&128>S?o(S,function(D){return new s([D|0],0>D?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return V(u(-S));for(var D=[],T=1,O=0;S>=T;O++)D[O]=S/T|0,T*=4294967296;return new s(D,0)}function d(S,D){if(S.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S.charAt(0)=="-")return V(d(S.substring(1),D));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(D,8)),O=f,L=0;L<S.length;L+=8){var B=Math.min(8,S.length-L),M=parseInt(S.substring(L,L+B),D);8>B?(B=u(Math.pow(D,B)),O=O.j(B).add(u(M))):(O=O.j(T),O=O.add(u(M)))}return O}var f=l(0),g=l(1),x=l(16777216);t=s.prototype,t.m=function(){if(N(this))return-V(this).m();for(var S=0,D=1,T=0;T<this.g.length;T++){var O=this.i(T);S+=(0<=O?O:4294967296+O)*D,D*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(N(this))return"-"+V(this).toString(S);for(var D=u(Math.pow(S,6)),T=this,O="";;){var L=Z(T,D).g;T=z(T,L.j(D));var B=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=L,P(T))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var D=0;D<S.g.length;D++)if(S.g[D]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=z(this,S),N(S)?-1:P(S)?0:1};function V(S){for(var D=S.g.length,T=[],O=0;O<D;O++)T[O]=~S.g[O];return new s(T,~S.h).add(g)}t.abs=function(){return N(this)?V(this):this},t.add=function(S){for(var D=Math.max(this.g.length,S.g.length),T=[],O=0,L=0;L<=D;L++){var B=O+(this.i(L)&65535)+(S.i(L)&65535),M=(B>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);O=M>>>16,B&=65535,M&=65535,T[L]=M<<16|B}return new s(T,T[T.length-1]&-2147483648?-1:0)};function z(S,D){return S.add(V(D))}t.j=function(S){if(P(this)||P(S))return f;if(N(this))return N(S)?V(this).j(V(S)):V(V(this).j(S));if(N(S))return V(this.j(V(S)));if(0>this.l(x)&&0>S.l(x))return u(this.m()*S.m());for(var D=this.g.length+S.g.length,T=[],O=0;O<2*D;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<S.g.length;L++){var B=this.i(O)>>>16,M=this.i(O)&65535,pn=S.i(L)>>>16,Or=S.i(L)&65535;T[2*O+2*L]+=M*Or,ee(T,2*O+2*L),T[2*O+2*L+1]+=B*Or,ee(T,2*O+2*L+1),T[2*O+2*L+1]+=M*pn,ee(T,2*O+2*L+1),T[2*O+2*L+2]+=B*pn,ee(T,2*O+2*L+2)}for(O=0;O<D;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=D;O<2*D;O++)T[O]=0;return new s(T,0)};function ee(S,D){for(;(S[D]&65535)!=S[D];)S[D+1]+=S[D]>>>16,S[D]&=65535,D++}function R(S,D){this.g=S,this.h=D}function Z(S,D){if(P(D))throw Error("division by zero");if(P(S))return new R(f,f);if(N(S))return D=Z(V(S),D),new R(V(D.g),V(D.h));if(N(D))return D=Z(S,V(D)),new R(V(D.g),D.h);if(30<S.g.length){if(N(S)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var T=g,O=D;0>=O.l(S);)T=Ee(T),O=Ee(O);var L=fe(T,1),B=fe(O,1);for(O=fe(O,2),T=fe(T,2);!P(O);){var M=B.add(O);0>=M.l(S)&&(L=L.add(T),B=M),O=fe(O,1),T=fe(T,1)}return D=z(S,L.j(D)),new R(L,D)}for(L=f;0<=S.l(D);){for(T=Math.max(1,Math.floor(S.m()/D.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=u(T),M=B.j(D);N(M)||0<M.l(S);)T-=O,B=u(T),M=B.j(D);P(B)&&(B=g),L=L.add(B),S=z(S,M)}return new R(L,S)}t.A=function(S){return Z(this,S).h},t.and=function(S){for(var D=Math.max(this.g.length,S.g.length),T=[],O=0;O<D;O++)T[O]=this.i(O)&S.i(O);return new s(T,this.h&S.h)},t.or=function(S){for(var D=Math.max(this.g.length,S.g.length),T=[],O=0;O<D;O++)T[O]=this.i(O)|S.i(O);return new s(T,this.h|S.h)},t.xor=function(S){for(var D=Math.max(this.g.length,S.g.length),T=[],O=0;O<D;O++)T[O]=this.i(O)^S.i(O);return new s(T,this.h^S.h)};function Ee(S){for(var D=S.g.length+1,T=[],O=0;O<D;O++)T[O]=S.i(O)<<1|S.i(O-1)>>>31;return new s(T,S.h)}function fe(S,D){var T=D>>5;D%=32;for(var O=S.g.length-T,L=[],B=0;B<O;B++)L[B]=0<D?S.i(B+T)>>>D|S.i(B+T+1)<<32-D:S.i(B+T);return new s(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z_=KT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ko=KT.Integer=s}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={};var X_,eE,Gl,tE,nd,Yp,nE,rE,iE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,m){return c==Array.prototype||c==Object.prototype||(c[h]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var h=0;h<c.length;++h){var m=c[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var m=r;c=c.split(".");for(var E=0;E<c.length-1;E++){var j=c[E];if(!(j in m))break e;m=m[j]}c=c[c.length-1],E=m[c],h=h(E),h!=E&&h!=null&&e(m,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var m=0,E=!1,j={next:function(){if(!E&&m<c.length){var $=m++;return{value:h($,c[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return o(this,function(h,m){return m})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,m){return c.call.apply(c.bind,arguments)}function f(c,h,m){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),c.apply(h,j)}}return function(){return c.apply(h,arguments)}}function g(c,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function x(c,h){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function P(c,h){function m(){}m.prototype=h.prototype,c.aa=h.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(E,j,$){for(var ae=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ae[bt-2]=arguments[bt];return h.prototype[j].apply(E,ae)}}function N(c){let h=c.length;if(0<h){let m=Array(h);for(let E=0;E<h;E++)m[E]=c[E];return m}return[]}function V(c,h){for(let m=1;m<arguments.length;m++){let E=arguments[m];if(l(E)){let j=c.length||0,$=E.length||0;c.length=j+$;for(let ae=0;ae<$;ae++)c[j+ae]=E[ae]}else c.push(E)}}class z{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function ee(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var Ee=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function fe(c,h,m){for(let E in c)h.call(m,c[E],E,c)}function S(c,h){for(let m in c)h.call(void 0,c[m],m,c)}function D(c){let h={};for(let m in c)h[m]=c[m];return h}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,h){let m,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(m in E)c[m]=E[m];for(let $=0;$<T.length;$++)m=T[$],Object.prototype.hasOwnProperty.call(E,m)&&(c[m]=E[m])}}function L(c){var h=1;c=c.split(":");let m=[];for(;0<h&&c.length;)m.push(c.shift()),h--;return c.length&&m.push(c.join(":")),m}function B(c){a.setTimeout(()=>{throw c},0)}function M(){var c=Le;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class pn{constructor(){this.h=this.g=null}add(h,m){let E=Or.get();E.set(h,m),this.h?this.h.next=E:this.g=E,this.h=E}}var Or=new z(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let we,be=!1,Le=new pn,Rt=()=>{let c=a.Promise.resolve(void 0);we=()=>{c.then(Bn)}};var Bn=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(m){B(m)}var h=Or;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}be=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return c}();function kr(c,h){if(Et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(Ee){e:{try{Z(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else m=="mouseover"?h=c.fromElement:m=="mouseout"&&(h=c.toElement);this.relatedTarget=h,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xs[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&kr.aa.h.call(this)}}P(kr,Et);var xs={2:"touch",3:"pen",4:"mouse"};kr.prototype.h=function(){kr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),gr=0;function mn(c,h,m,E,j){this.listener=c,this.proxy=null,this.src=h,this.type=m,this.capture=!!E,this.ha=j,this.key=++gr,this.da=this.fa=!1}function yr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ar(c){this.src=c,this.g={},this.h=0}ar.prototype.add=function(c,h,m,E,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=vo(c,h,E,j);return-1<ae?(h=c[ae],m||(h.fa=!1)):(h=new mn(h,this.src,$,!!E,j),h.fa=m,c.push(h)),h};function Vr(c,h){var m=h.type;if(m in c.g){var E=c.g[m],j=Array.prototype.indexOf.call(E,h,void 0),$;($=0<=j)&&Array.prototype.splice.call(E,j,1),$&&(yr(h),c.g[m].length==0&&(delete c.g[m],c.h--))}}function vo(c,h,m,E){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==h&&$.capture==!!m&&$.ha==E)return j}return-1}var Oa="closure_lm_"+(1e6*Math.random()|0),Ue={};function zc(c,h,m,E,j){if(E&&E.once)return Hc(c,h,m,E,j);if(Array.isArray(h)){for(var $=0;$<h.length;$++)zc(c,h[$],m,E,j);return null}return m=Ba(m),c&&c[Ct]?c.K(h,m,u(E)?!!E.capture:!!E,j):Gc(c,h,m,!1,E,j)}function Gc(c,h,m,E,j,$){if(!h)throw Error("Invalid event type");var ae=u(j)?!!j.capture:!!j,bt=Va(c);if(bt||(c[Oa]=bt=new ar(c)),m=bt.add(h,m,E,ae,$),m.proxy)return m;if(E=uh(),m.proxy=E,E.src=c,E.listener=m,c.addEventListener)wt||(j=ae),j===void 0&&(j=!1),c.addEventListener(h.toString(),E,j);else if(c.attachEvent)c.attachEvent(Wc(h.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function uh(){function c(m){return h.call(c.src,c.listener,m)}let h=dh;return c}function Hc(c,h,m,E,j){if(Array.isArray(h)){for(var $=0;$<h.length;$++)Hc(c,h[$],m,E,j);return null}return m=Ba(m),c&&c[Ct]?c.L(h,m,u(E)?!!E.capture:!!E,j):Gc(c,h,m,!0,E,j)}function Zt(c,h,m,E,j){if(Array.isArray(h))for(var $=0;$<h.length;$++)Zt(c,h[$],m,E,j);else E=u(E)?!!E.capture:!!E,m=Ba(m),c&&c[Ct]?(c=c.i,h=String(h).toString(),h in c.g&&($=c.g[h],m=vo($,m,E,j),-1<m&&(yr($[m]),Array.prototype.splice.call($,m,1),$.length==0&&(delete c.g[h],c.h--)))):c&&(c=Va(c))&&(h=c.g[h.toString()],c=-1,h&&(c=vo(h,m,E,j)),(m=-1<c?h[c]:null)&&ka(m))}function ka(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Ct])Vr(h.i,c);else{var m=c.type,E=c.proxy;h.removeEventListener?h.removeEventListener(m,E,c.capture):h.detachEvent?h.detachEvent(Wc(m),E):h.addListener&&h.removeListener&&h.removeListener(E),(m=Va(h))?(Vr(m,c),m.h==0&&(m.src=null,h[Oa]=null)):yr(c)}}}function Wc(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function dh(c,h){if(c.da)c=!0;else{h=new kr(h,this);var m=c.listener,E=c.ha||c.src;c.fa&&ka(c),c=m.call(E,h)}return c}function Va(c){return c=c[Oa],c instanceof ar?c:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ba(c){return typeof c=="function"?c:(c[La]||(c[La]=function(h){return c.handleEvent(h)}),c[La])}function cn(){Tt.call(this),this.i=new ar(this),this.M=this,this.F=null}P(cn,Tt),cn.prototype[Ct]=!0,cn.prototype.removeEventListener=function(c,h,m,E){Zt(this,c,h,m,E)};function un(c,h){var m,E=c.F;if(E)for(m=[];E;E=E.F)m.push(E);if(c=c.M,E=h.type||h,typeof h=="string")h=new Et(h,c);else if(h instanceof Et)h.target=h.target||c;else{var j=h;h=new Et(E,c),O(h,j)}if(j=!0,m)for(var $=m.length-1;0<=$;$--){var ae=h.g=m[$];j=_o(ae,E,!0,h)&&j}if(ae=h.g=c,j=_o(ae,E,!0,h)&&j,j=_o(ae,E,!1,h)&&j,m)for($=0;$<m.length;$++)ae=h.g=m[$],j=_o(ae,E,!1,h)&&j}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var m=c.g[h],E=0;E<m.length;E++)yr(m[E]);delete c.g[h],c.h--}}this.F=null},cn.prototype.K=function(c,h,m,E){return this.i.add(String(c),h,!1,m,E)},cn.prototype.L=function(c,h,m,E){return this.i.add(String(c),h,!0,m,E)};function _o(c,h,m,E){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,$=0;$<h.length;++$){var ae=h[$];if(ae&&!ae.da&&ae.capture==m){var bt=ae.listener,xn=ae.ha||ae.src;ae.fa&&Vr(c.i,ae),j=bt.call(xn,E)!==!1&&j}}return j&&!E.defaultPrevented}function ja(c,h,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function Kc(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,Kc(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class hh extends Tt{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(c){Tt.call(this),this.h=c,this.g={}}P(Eo,Tt);var Cs=[];function bs(c){fe(c.g,function(h,m){this.g.hasOwnProperty(m)&&ka(h)},c),c.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),bs(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=a.JSON.stringify,jn=a.JSON.parse,fh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function Un(c){return c.h||(c.h=c.i())}function $a(){}var tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ft(){Et.call(this,"d")}P(ft,Et);function vr(){Et.call(this,"c")}P(vr,Et);var _r={},Ds=null;function Dn(){return Ds=Ds||new cn}_r.La="serverreachability";function p(c){Et.call(this,_r.La,c)}P(p,Et);function y(c){let h=Dn();un(h,new p(h))}_r.STAT_EVENT="statevent";function v(c,h){Et.call(this,_r.STAT_EVENT,c),this.stat=h}P(v,Et);function _(c){let h=Dn();un(h,new v(h,c))}_r.Ma="timingevent";function w(c,h){Et.call(this,_r.Ma,c),this.size=h}P(w,Et);function I(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function A(){this.g=!0}A.prototype.xa=function(){this.g=!1};function k(c,h,m,E,j,$){c.info(function(){if(c.g)if($)for(var ae="",bt=$.split("&"),xn=0;xn<bt.length;xn++){var pt=bt[xn].split("=");if(1<pt.length){var An=pt[0];pt=pt[1];var Sn=An.split("_");ae=2<=Sn.length&&Sn[1]=="type"?ae+(An+"="+pt+"&"):ae+(An+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+h+`
`+m+`
`+ae})}function H(c,h,m,E,j,$,ae){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+h+`
`+m+`
`+$+" "+ae})}function K(c,h,m,E){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+Te(c,m)+(E?" "+E:"")})}function ne(c,h){c.info(function(){return"TIMEOUT: "+h})}A.prototype.info=function(){};function Te(c,h){if(!c.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var E=m[c];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Ua(m)}catch{return h}}var re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ye;function _e(){}P(_e,$i),_e.prototype.g=function(){return new XMLHttpRequest},_e.prototype.i=function(){return{}},ye=new _e;function De(c,h,m,E){this.j=c,this.i=h,this.l=m,this.R=E||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var Ut={},Ae={};function $n(c,h,m){c.L=1,c.v=hi(qn(h)),c.m=m,c.P=!0,In(c,null)}function In(c,h){c.F=Date.now(),Xt(c),c.A=qn(c.v);var m=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),db(m.i,"t",E),c.C=0,m=c.j.J,c.h=new Xe,c.g=Tb(c.j,m?h:null,!c.m),0<c.O&&(c.M=new hh(g(c.Y,c,c.g),c.O)),h=c.U,m=c.g,E=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Cs[0]=j.toString()),j=Cs);for(var $=0;$<j.length;$++){var ae=zc(m,j[$],E||h.handleEvent,!1,h.h||h);if(!ae)break;h.g[ae.key]=ae}h=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),y(),k(c.i,c.u,c.A,c.l,c.R,c.m)}De.prototype.ca=function(c){c=c.target;let h=this.M;h&&qi(c)==3?h.j():this.Y(c)},De.prototype.Y=function(c){try{if(c==this.g)e:{let Sn=qi(this.g);var h=this.g.Ba();let Wa=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||vb(this.g)))){this.J||Sn!=4||h==7||(h==8||0>=Wa?y(3):y(2)),ve(this);var m=this.g.Z();this.X=m;t:if(Be(this)){var E=vb(this.g);c="";var j=E.length,$=qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Re(this),Pe(this);var ae="";break t}this.h.i=new a.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,c+=this.h.i.decode(E[h],{stream:!($&&h==j-1)});E.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=m==200,H(this.i,this.u,this.A,this.l,this.R,Sn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,xn=this.g;if((bt=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(bt)){var pt=bt;break t}}pt=null}if(m=pt)K(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ne(this,m);else{this.o=!1,this.s=3,_(12),Re(this),Pe(this);break e}}if(this.P){m=!0;let Ur;for(;!this.J&&this.C<ae.length;)if(Ur=nt(this,ae),Ur==Ae){Sn==4&&(this.s=4,_(14),m=!1),K(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Ut){this.s=4,_(15),K(this.i,this.l,ae,"[Invalid Chunk]"),m=!1;break}else K(this.i,this.l,Ur,null),Ne(this,Ur);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||ae.length!=0||this.h.h||(this.s=1,_(16),m=!1),this.o=this.o&&m,!m)K(this.i,this.l,ae,"[Invalid Chunked Response]"),Re(this),Pe(this);else if(0<ae.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),uy(An),An.M=!0,_(11))}}else K(this.i,this.l,ae,null),Ne(this,ae);Sn==4&&Re(this),this.o&&!this.J&&(Sn==4?Db(this.j,this):(this.o=!1,Xt(this)))}else w2(this.g),m==400&&0<ae.indexOf("Unknown SID")?(this.s=3,_(12)):(this.s=0,_(13)),Re(this),Pe(this)}}}catch{}finally{}};function Be(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nt(c,h){var m=c.C,E=h.indexOf(`
`,m);return E==-1?Ae:(m=Number(h.substring(m,E)),isNaN(m)?Ut:(E+=1,E+m>h.length?Ae:(h=h.slice(E,E+m),c.C=E+m,h)))}De.prototype.cancel=function(){this.J=!0,Re(this)};function Xt(c){c.S=Date.now()+c.I,W(c,c.I)}function W(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=I(g(c.ba,c),h)}function ve(c){c.B&&(a.clearTimeout(c.B),c.B=null)}De.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ne(this.i,this.A),this.L!=2&&(y(),_(17)),Re(this),this.s=2,Pe(this)):W(this,this.S-c)};function Pe(c){c.j.G==0||c.J||Db(c.j,c)}function Re(c){ve(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,bs(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Ne(c,h){try{var m=c.j;if(m.G!=0&&(m.g==c||We(m.h,c))){if(!c.K&&We(m.h,c)&&m.G==3){try{var E=m.Da.g.parse(h)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Eh(m),vh(m);else break e;cy(m),_(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=I(g(m.Za,m),6e3));if(1>=Wt(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ms(m,11)}else if((c.K||m.g==c)&&Eh(m),!ee(h))for(j=m.Da.g.parse(h),h=0;h<j.length;h++){let pt=j[h];if(m.T=pt[0],pt=pt[1],m.G==2)if(pt[0]=="c"){m.K=pt[1],m.ia=pt[2];let An=pt[3];An!=null&&(m.la=An,m.j.info("VER="+m.la));let Sn=pt[4];Sn!=null&&(m.Aa=Sn,m.j.info("SVER="+m.Aa));let Wa=pt[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(E=1.5*Wa,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;let Ur=c.g;if(Ur){let xh=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var $=E.h;$.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(en($,$.h),$.h=null))}if(E.D){let dy=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;dy&&(E.ya=dy,mt(E.I,E.D,dy))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var ae=c;if(E.qa=Sb(E,E.J?E.ia:null,E.W),ae.K){gn(E.h,ae);var bt=ae,xn=E.L;xn&&(bt.I=xn),bt.B&&(ve(bt),Xt(bt)),E.g=ae}else Cb(E);0<m.i.length&&_h(m)}else pt[0]!="stop"&&pt[0]!="close"||Ms(m,7);else m.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Ms(m,7):ly(m):pt[0]!="noop"&&m.l&&m.l.ta(pt),m.v=0)}}y(4)}catch{}}var Qe=class{constructor(c,h){this.g=c,this.map=h}};function at(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wt(c){return c.h?1:c.g?c.g.size:0}function We(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function en(c,h){c.g?c.g.add(h):c.h=h}function gn(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}at.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let m of c.g.values())h=h.concat(m.D);return h}return N(c.i)}function Is(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],m=c.length,E=0;E<m;E++)h.push(c[E]);return h}h=[],m=0;for(E in c)h[m++]=c[E];return h}function As(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var m=0;m<c;m++)h.push(m);return h}h=[],m=0;for(let E in c)h[m++]=E;return h}}}function xo(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var m=As(c),E=Is(c),j=E.length,$=0;$<j;$++)h.call(void 0,E[$],m&&m[$],c)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ss(c,h){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var E=c[m].indexOf("="),j=null;if(0<=E){var $=c[m].substring(0,E);j=c[m].substring(E+1)}else $=c[m];h($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ci){this.h=c.h,ui(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var h=c.i,m=new jr;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),bo(this,m),this.m=c.m}else c&&(h=String(c).match(Co))?(this.h=!1,ui(this,h[1]||"",!0),this.o=Lr(h[2]||""),this.g=Lr(h[3]||"",!0),di(this,h[4]),this.l=Lr(h[5]||"",!0),bo(this,h[6]||"",!0),this.m=Lr(h[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}ci.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Br(h,ph,!0),":");var m=this.g;return(m||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Br(h,ph,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Br(m,m.charAt(0)=="/"?qa:fi,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Br(m,Er)),c.join("")};function qn(c){return new ci(c)}function ui(c,h,m){c.j=m?Lr(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function bo(c,h,m){h instanceof jr?(c.i=h,p2(c.i,c.h)):(m||(h=Br(h,mh)),c.i=new jr(h,c.h))}function mt(c,h,m){c.i.set(h,m)}function hi(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Lr(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Br(c,h,m){return typeof c=="string"?(c=encodeURI(c).replace(h,Ts),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ts(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ph=/[#\/\?@]/g,fi=/[#\?:]/g,qa=/[#\?]/g,mh=/[#\?@]/g,Er=/#/g;function jr(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ss(c.i,function(h,m){c.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=jr.prototype,t.add=function(c,h){wr(this),this.i=null,c=Ga(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(h),this.h+=1,this};function za(c,h){wr(c),h=Ga(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function ub(c,h){return wr(c),h=Ga(c,h),c.g.has(h)}t.forEach=function(c,h){wr(this),this.g.forEach(function(m,E){m.forEach(function(j){c.call(h,j,E,this)},this)},this)},t.na=function(){wr(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let E=0;E<h.length;E++){let j=c[E];for(let $=0;$<j.length;$++)m.push(h[E])}return m},t.V=function(c){wr(this);let h=[];if(typeof c=="string")ub(this,c)&&(h=h.concat(this.g.get(Ga(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)h=h.concat(c[m])}return h},t.set=function(c,h){return wr(this),this.i=null,c=Ga(this,c),ub(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function db(c,h,m){za(c,h),0<m.length&&(c.i=null,c.g.set(Ga(c,h),N(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var E=h[m];let $=encodeURIComponent(String(E)),ae=this.V(E);for(E=0;E<ae.length;E++){var j=$;ae[E]!==""&&(j+="="+encodeURIComponent(String(ae[E]))),c.push(j)}}return this.i=c.join("&")};function Ga(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function p2(c,h){h&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(m,E){var j=E.toLowerCase();E!=j&&(za(this,E),db(this,j,m))},c)),c.j=h}function m2(c,h){let m=new A;if(a.Image){let E=new Image;E.onload=x(Do,m,"TestLoadImage: loaded",!0,h,E),E.onerror=x(Do,m,"TestLoadImage: error",!1,h,E),E.onabort=x(Do,m,"TestLoadImage: abort",!1,h,E),E.ontimeout=x(Do,m,"TestLoadImage: timeout",!1,h,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else h(!1)}function g2(c,h){let m=new A,E=new AbortController,j=setTimeout(()=>{E.abort(),Do(m,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:E.signal}).then($=>{clearTimeout(j),$.ok?Do(m,"TestPingServer: ok",!0,h):Do(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),Do(m,"TestPingServer: error",!1,h)})}function Do(c,h,m,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(m)}catch{}}function y2(){this.g=new fh}function v2(c,h,m){let E=m||"";try{xo(c,function(j,$){let ae=j;u(j)&&(ae=Ua(j)),h.push(E+$+"="+encodeURIComponent(ae))})}catch(j){throw h.push(E+"type="+encodeURIComponent("_badmap")),j}}function Qc(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Qc,$i),Qc.prototype.g=function(){return new gh(this.l,this.j)},Qc.prototype.i=function(c){return function(){return c}}({});function gh(c,h){cn.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(gh,cn),t=gh.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Jc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Yc(this):Jc(this),this.readyState==3&&hb(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yc(this))},t.Qa=function(c){this.g&&(this.response=c,Yc(this))},t.ga=function(){this.g&&Yc(this)};function Yc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jc(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=h.next();return c.join(`\r
`)};function Jc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fb(c){let h="";return fe(c,function(m,E){h+=E,h+=":",h+=m,h+=`\r
`}),h}function ay(c,h,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=fb(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):mt(c,h,m))}function $t(c){cn.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($t,cn);var _2=/^https?$/i,E2=["POST","PUT"];t=$t.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ye.g(),this.v=this.o?Un(this.o):Un(ye),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch($){pb(this,$);return}if(c=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)m.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(let $ of E.keys())m.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find($=>$.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(E2,h,void 0))||E||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[$,ae]of m)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yb(this),this.u=!0,this.g.send(c),this.u=!1}catch($){pb(this,$)}};function pb(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,mb(c),yh(c)}function mb(c){c.A||(c.A=!0,un(c,"complete"),un(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,un(this,"complete"),un(this,"abort"),yh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yh(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gb(this):this.bb())},t.bb=function(){gb(this)};function gb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||qi(c)!=4||c.Z()!=2)){if(c.u&&qi(c)==4)ja(c.Ea,0,c);else if(un(c,"readystatechange"),qi(c)==4){c.h=!1;try{let ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var E;if(E=ae===0){var j=String(c.D).match(Co)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),E=!_2.test(j?j.toLowerCase():"")}m=E}if(m)un(c,"complete"),un(c,"success");else{c.m=6;try{var $=2<qi(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",mb(c)}}finally{yh(c)}}}}function yh(c,h){if(c.g){yb(c);let m=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||un(c,"ready");try{m.onreadystatechange=E}catch{}}}function yb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),jn(h)}};function vb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function w2(c){let h={};c=(c.g&&2<=qi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(ee(c[E]))continue;var m=L(c[E]);let j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let $=h[j]||[];h[j]=$,$.push(m)}S(h,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(c,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||h}function _b(c){this.Aa=0,this.i=[],this.j=new A,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zc("baseRetryDelayMs",5e3,c),this.cb=Zc("retryDelaySeedMs",1e4,c),this.Wa=Zc("forwardChannelMaxRetries",2,c),this.wa=Zc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new at(c&&c.concurrentRequestLimit),this.Da=new y2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_b.prototype,t.la=8,t.G=1,t.connect=function(c,h,m,E){_(0),this.W=c,this.H=h||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Sb(this,null,this.W),_h(this)};function ly(c){if(Eb(c),c.G==3){var h=c.U++,m=qn(c.I);if(mt(m,"SID",c.K),mt(m,"RID",h),mt(m,"TYPE","terminate"),Xc(c,m),h=new De(c,c.j,h),h.L=2,h.v=hi(qn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=Tb(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Xt(h)}Ab(c)}function vh(c){c.g&&(uy(c),c.g.cancel(),c.g=null)}function Eb(c){vh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Eh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function _h(c){if(!rt(c.h)&&!c.s){c.s=!0;var h=c.Ga;we||Rt(),be||(we(),be=!0),Le.add(h,c),c.B=0}}function x2(c,h){return Wt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=I(g(c.Ga,c,h),Ib(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let j=new De(this,this.j,c),$=this.o;if(this.S&&($?($=D($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(h+=E,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=xb(this,j,h),m=qn(this.I),mt(m,"RID",c),mt(m,"CVER",22),this.D&&mt(m,"X-HTTP-Session-Id",this.D),Xc(this,m),$&&(this.O?h="headers="+encodeURIComponent(String(fb($)))+"&"+h:this.m&&ay(m,this.m,$)),en(this.h,j),this.Ua&&mt(m,"TYPE","init"),this.P?(mt(m,"$req",h),mt(m,"SID","null"),j.T=!0,$n(j,m,null)):$n(j,m,h),this.G=2}}else this.G==3&&(c?wb(this,c):this.i.length==0||rt(this.h)||wb(this))};function wb(c,h){var m;h?m=h.l:m=c.U++;let E=qn(c.I);mt(E,"SID",c.K),mt(E,"RID",m),mt(E,"AID",c.T),Xc(c,E),c.m&&c.o&&ay(E,c.m,c.o),m=new De(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),h&&(c.i=h.D.concat(c.i)),h=xb(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),en(c.h,m),$n(m,E,h)}function Xc(c,h){c.H&&fe(c.H,function(m,E){mt(h,E,m)}),c.l&&xo({},function(m,E){mt(h,E,m)})}function xb(c,h,m){m=Math.min(c.i.length,m);var E=c.l?g(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){let ae=["count="+m];$==-1?0<m?($=j[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let bt=!0;for(let xn=0;xn<m;xn++){let pt=j[xn].g,An=j[xn].map;if(pt-=$,0>pt)$=Math.max(0,j[xn].g-100),bt=!1;else try{v2(An,ae,"req"+pt+"_")}catch{E&&E(An)}}if(bt){E=ae.join("&");break e}}}return c=c.i.splice(0,m),h.D=c,E}function Cb(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;we||Rt(),be||(we(),be=!0),Le.add(h,c),c.v=0}}function cy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=I(g(c.Fa,c),Ib(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,bb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=I(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_(10),vh(this),bb(this))};function uy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function bb(c){c.g=new De(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=qn(c.qa);mt(h,"RID","rpc"),mt(h,"SID",c.K),mt(h,"AID",c.T),mt(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(h,"TO",c.ja),mt(h,"TYPE","xmlhttp"),Xc(c,h),c.m&&c.o&&ay(h,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=hi(qn(h)),m.m=null,m.P=!0,In(m,c)}t.Za=function(){this.C!=null&&(this.C=null,vh(this),cy(this),_(19))};function Eh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Db(c,h){var m=null;if(c.g==h){Eh(c),uy(c),c.g=null;var E=2}else if(We(c.h,h))m=h.D,gn(c.h,h),E=1;else return;if(c.G!=0){if(h.o)if(E==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var j=c.B;E=Dn(),un(E,new w(E,m)),_h(c)}else Cb(c);else if(j=h.s,j==3||j==0&&0<h.X||!(E==1&&x2(c,h)||E==2&&cy(c)))switch(m&&0<m.length&&(h=c.h,h.i=h.i.concat(m)),j){case 1:Ms(c,5);break;case 4:Ms(c,10);break;case 3:Ms(c,6);break;default:Ms(c,2)}}}function Ib(c,h){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*h}function Ms(c,h){if(c.j.info("Error code "+h),h==2){var m=g(c.fb,c),E=c.Xa;let j=!E;E=new ci(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ui(E,"https"),hi(E),j?m2(E.toString(),m):g2(E.toString(),m)}else _(2);c.G=0,c.l&&c.l.sa(h),Ab(c),Eb(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_(2)):(this.j.info("Failed to ping google.com"),_(1))};function Ab(c){if(c.G=0,c.ka=[],c.l){let h=wo(c.h);(h.length!=0||c.i.length!=0)&&(V(c.ka,h),V(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Sb(c,h,m){var E=m instanceof ci?qn(m):new ci(m);if(E.g!="")h&&(E.g=h+"."+E.g),di(E,E.s);else{var j=a.location;E=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var $=new ci(null);E&&ui($,E),h&&($.g=h),j&&di($,j),m&&($.l=m),E=$}return m=c.D,h=c.ya,m&&h&&mt(E,m,h),mt(E,"VER",c.la),Xc(c,E),E}function Tb(c,h,m){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new $t(new Qc({eb:m})):new $t(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mb(){}t=Mb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wh(){}wh.prototype.g=function(c,h){return new lr(c,h)};function lr(c,h){cn.call(this),this.g=new _b(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!ee(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!ee(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Ha(this)}P(lr,cn),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){ly(this.g)},lr.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Ua(c),c=m);h.i.push(new Qe(h.Ya++,c)),h.G==3&&_h(h)},lr.prototype.N=function(){this.g.l=null,delete this.j,ly(this.g),delete this.g,lr.aa.N.call(this)};function Fb(c){ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let m in h){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}P(Fb,ft);function Pb(){vr.call(this),this.status=1}P(Pb,vr);function Ha(c){this.g=c}P(Ha,Mb),Ha.prototype.ua=function(){un(this.g,"a")},Ha.prototype.ta=function(c){un(this.g,new Fb(c))},Ha.prototype.sa=function(c){un(this.g,new Pb)},Ha.prototype.ra=function(){un(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,iE=ro.createWebChannelTransport=function(){return new wh},rE=ro.getStatEventTarget=function(){return Dn()},nE=ro.Event=_r,Yp=ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,nd=ro.ErrorCode=re,Y.COMPLETE="complete",tE=ro.EventType=Y,$a.EventType=tt,tt.OPEN="a",tt.CLOSE="b",tt.ERROR="c",tt.MESSAGE="d",cn.prototype.listen=cn.prototype.K,Gl=ro.WebChannel=$a,eE=ro.FetchXmlHttpFactory=Qc,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,X_=ro.XhrIo=$t}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});var QT="@firebase/firestore";var sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");var xc="10.12.1";var ts=new Dh("@firebase/firestore");function Yl(){return ts.logLevel}function Q1(t){ts.setLogLevel(t)}function J(t,...e){if(ts.logLevel<=pi.DEBUG){let n=e.map(ax);ts.debug(`Firestore (${xc}): ${t}`,...n)}}function Qt(t,...e){if(ts.logLevel<=pi.ERROR){let n=e.map(ax);ts.error(`Firestore (${xc}): ${t}`,...n)}}function Fr(t,...e){if(ts.logLevel<=pi.WARN){let n=e.map(ax);ts.warn(`Firestore (${xc}): ${t}`,...n)}}function ax(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function me(t="Unexpected state"){let e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+t;throw Qt(e),new Error(e)}function Ce(t,e){t||me()}function Y1(t,e){t||me()}function ue(t,e){return t}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends Lb{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var an=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var am=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}},uE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},dE=class{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new an;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new an,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>G(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new an)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new sn(e)}},hE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function r9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=r9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ve(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function J1(t){return t+"\0"}var jt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new jt(0,0))}static max(){return new t(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ct=class t extends cm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},i9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends cm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return i9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ce=class t{constructor(e){this.path=e}static fromPath(e){return new t(ct.fromString(e))}static fromName(e){return new t(ct.fromString(e).popFirst(5))}static empty(){return new t(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ct(e.slice()))}};var sc=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function gE(t){return t.fields.find(e=>e.kind===2)}function ra(t){return t.fields.filter(e=>e.kind!==2)}sc.UNKNOWN_ID=-1;var nc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var pd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Pr.min())}};function Z1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Pr(i,ce.empty(),e)}function X1(t){return new Pr(t.readTime,t.key,-1)}var Pr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),ce.empty(),-1)}static max(){return new t(Me.max(),ce.empty(),-1)}};function lx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}var eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",um=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ds(t){return G(this,null,function*(){if(t.code!==q.FAILED_PRECONDITION||t.message!==eM)throw t;J("LocalStore","Unexpectedly lost primary lease")})}var U=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var dm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new an,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ca(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=cx(r.target.error);this.V.reject(new ca(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new ca(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new vE(n)}},ns=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(eu())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return J("SimpleDb","Removing database:",e),ia(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bh())return!1;if(t.C())return!0;let e=eu(),n=t.S(e),r=0<n&&n<10,i=tM(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return G(this,null,function*(){return this.db||(J("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new ca(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new Q(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new Q(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ca(e,s))},i.onupgradeneeded=o=>{J("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{J("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return G(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=dm.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),U.reject(u))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,u=l.name!=="FirebaseError"&&s<3;if(J("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function tM(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var yE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ia(this.B.delete())}},ca=class extends Q{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function hs(t){return t.name==="IndexedDbTransactionError"}var vE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ia(r)}add(e){return J("SimpleDb","ADD",this.store.name,e,e),ia(this.store.add(e))}get(e){return ia(this.store.get(e)).next(n=>(n===void 0&&(n=null),J("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return J("SimpleDb","DELETE",this.store.name,e),ia(this.store.delete(e))}count(){return J("SimpleDb","COUNT",this.store.name),ia(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new U((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new U((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){J("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new U((r,i)=>{n.onerror=o=>{let s=cx(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){let r=[];return new U((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let l=new yE(a),u=n(a.primaryKey,a.value,l);if(u instanceof U){let d=u.catch(f=>(l.done(),U.reject(f)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ia(t){return new U((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=cx(r.target.error);n(i)}})}var YT=!1;function cx(t){let e=ns.S(eu());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YT||(YT=!0,setTimeout(()=>{throw r},0)),r}}return t}var _E=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){J("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>G(this,null,function*(){this.task=null;try{J("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){hs(n)?J("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield ds(n)}yield this.X(6e4)}))}},EE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return G(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,o=!0;return U.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return J("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(J("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=X1(o);lx(s,r)>0&&(r=s)}),new Pr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var hr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function kd(t){return t==null}function md(t){return t===0&&1/t==-1/0}function nM(t){return typeof t=="number"&&Number.isInteger(t)&&!md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JT(e)),e=o9(t.get(n),e);return JT(e)}function o9(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function JT(t){return t+""}function Ti(t){let e=t.length;if(Ce(e>=2),e===2)return Ce(t.charAt(0)===""&&t.charAt(1)===""),ct.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&me(),t.charAt(s+1)){case"":let a=t.substring(o,s),l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:me()}o=s+2}return new ct(r)}var ZT=["userId","batchId"];function tm(t,e){return[t,Qn(e)]}function rM(t,e,n){return[t,Qn(e),n]}var s9={},a9=["prefixPath","collectionGroup","readTime","documentId"],l9=["prefixPath","collectionGroup","documentId"],c9=["collectionGroup","readTime","prefixPath","documentId"],u9=["canonicalId","targetId"],d9=["targetId","path"],h9=["path","targetId"],f9=["collectionId","parent"],p9=["indexId","uid"],m9=["uid","sequenceNumber"],g9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y9=["indexId","uid","orderedDocumentKey"],v9=["userId","collectionPath","documentId"],_9=["userId","collectionPath","largestBatchId"],E9=["userId","collectionGroup","largestBatchId"],iM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w9=[...iM,"documentOverlays"],oM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sM=oM,aM=[...sM,"indexConfiguration","indexState","indexEntries"],x9=aM;var gd=class extends um{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function wn(t,e){let n=ue(t);return ns.F(n._e,e)}function XT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pt=class t{constructor(e,n){this.comparator=e,this.root=n||Fi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}},tc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fi=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();let e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}};Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class t{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hm(this.data.getIterator())}getIteratorFrom(e){return new hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Hl(t){return t.hasNext()?t.getNext():void 0}var fr=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new At(Yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function cM(){return typeof atob<"u"}var En=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fm("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};En.EMPTY_BYTE_STRING=new En("");var C9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(Ce(!!t),typeof t=="string"){let e=0,n=C9.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}function rg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ux(t){let e=t.mapValue.fields.__previous_value__;return rg(e)?ux(e):e}function yd(t){let e=so(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}var wE=class{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},is=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nm={nullValue:"NULL_VALUE"};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:uM(t)?9007199254740991:10:me()}function Ni(t,e){if(t===e)return!0;let n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yd(t).isEqual(yd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=so(i.timestampValue),a=so(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return rs(i.bytesValue).isEqual(rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return zt(i.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return zt(i.integerValue)===zt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=zt(i.doubleValue),a=zt(o.doubleValue);return s===a?md(s)===md(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XT(s)!==XT(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ni(s[l],a[l])))return!1;return!0}(t,e);default:return me()}}function vd(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function os(t,e){if(t===e)return 0;let n=ua(t),r=ua(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=zt(o.integerValue||o.doubleValue),l=zt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(yd(t),yd(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(o,s){let a=rs(o),l=rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=Ve(a[u],l[u]);if(d!==0)return d}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ve(zt(o.latitude),zt(s.latitude));return a!==0?a:Ve(zt(o.longitude),zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){let d=os(a[u],l[u]);if(d)return d}return Ve(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Xo.mapValue&&s===Xo.mapValue)return 0;if(o===Xo.mapValue)return 1;if(s===Xo.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let g=Ve(l[f],d[f]);if(g!==0)return g;let x=os(a[l[f]],u[d[f]]);if(x!==0)return x}return Ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);let n=so(t),r=so(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function ac(t){return xE(t)}function xE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=so(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=xE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${xE(n.fields[s])}`;return i+"}"}(t.mapValue):me()}function da(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CE(t){return!!t&&"integerValue"in t}function _d(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cd(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function b9(t){return"nullValue"in t?nm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?da(is.empty(),ce.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:me()}function D9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?da(is.empty(),ce.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xo:me()}function r1(t,e){let n=os(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function i1(t,e){let n=os(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(cd(this.value))}};function dM(t){let e=[];return wa(t.fields,(n,r)=>{let i=new Yt([n]);if(rm(r)){let o=dM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fr(e)}var ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Oi=class{constructor(e,n){this.position=e,this.inclusive=n}};function o1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=os(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}var ha=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function I9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pm=class{},st=class t extends pm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IE(e,n,r):n==="array-contains"?new TE(e,r):n==="in"?new mm(e,r):n==="not-in"?new ME(e,r):n==="array-contains-any"?new FE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AE(e,r):new SE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_t=class t extends pm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return lc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lc(t){return t.op==="and"}function bE(t){return t.op==="or"}function dx(t){return hM(t)&&lc(t)}function hM(t){for(let e of t.filters)if(e instanceof _t)return!1;return!0}function DE(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+ac(t.value);if(dx(t))return t.filters.map(e=>DE(e)).join(",");{let e=t.filters.map(n=>DE(n)).join(",");return`${t.op}(${e})`}}function fM(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)}(t,e):t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&fM(s,i.filters[a]),!0):!1}(t,e):void me()}function pM(t,e){let n=t.filters.concat(e);return _t.create(n,t.op)}function mM(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${ac(n.value)}`}(t):t instanceof _t?function(n){return n.op.toString()+" {"+n.getFilters().map(mM).join(" ,")+"}"}(t):"Filter"}var IE=class extends st{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){let n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}},AE=class extends st{constructor(e,n){super(e,"in",n),this.keys=gM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},SE=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=gM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}var TE=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return _d(n)&&vd(n.arrayValue,this.value)}},mm=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vd(this.value.arrayValue,n)}},ME=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!vd(this.value.arrayValue,n)}},FE=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!_d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vd(this.value.arrayValue,r))}};var PE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function RE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new PE(t,e,n,r,i,o,s)}function fa(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>DE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ac(r)).join(",")),e.ue=n}return e.ue}function Vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function gm(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ym(t,e){return t.filters.filter(n=>n instanceof st&&n.field.isEqual(e))}function a1(t,e,n){let r=nm,i=!0;for(let o of ym(t,e)){let s=nm,a=!0;switch(o.op){case"<":case"<=":s=b9(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=nm}r1({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];r1({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function l1(t,e,n){let r=Xo,i=!0;for(let o of ym(t,e)){let s=Xo,a=!0;switch(o.op){case">=":case">":s=D9(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Xo}i1({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];i1({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var ti=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function yM(t,e,n,r,i,o,s,a){return new ti(t,e,n,r,i,o,s,a)}function Cc(t){return new ti(t)}function c1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hx(t){return t.collectionGroup!==null}function rc(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ha(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new ha(Yt.keyField(),r))}return e.ce}function Yn(t){let e=ue(t);return e.le||(e.le=A9(e,rc(t))),e.le}function A9(t,e){if(t.limitType==="F")return RE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ha(i.field,o)});let n=t.endAt?new Oi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oi(t.startAt.position,t.startAt.inclusive):null;return RE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function NE(t,e){let n=t.filters.concat([e]);return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return Vd(Yn(t),Yn(e))&&t.limitType===e.limitType}function vM(t){return`${fa(Yn(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mM(i)).join(", ")}]`),kd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ac(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ac(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=o1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,rc(r),i)||r.endAt&&!function(s,a,l){let u=o1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,rc(r),i))}(t,e)}function _M(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EM(t){return(e,n)=>{let r=!1;for(let i of rc(t)){let o=S9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function S9(t,e,n){let r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?os(l,u):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}var ki=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return lM(this.inner)}size(){return this.innerSize}};var T9=new Pt(ce.comparator);function or(){return T9}var wM=new Pt(ce.comparator);function ad(...t){let e=wM;for(let n of t)e=e.insert(n.key,n);return e}function xM(t){let e=wM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return ud()}function CM(){return ud()}function ud(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}var M9=new Pt(ce.comparator),F9=new At(ce.comparator);function je(...t){let e=F9;for(let n of t)e=e.add(n);return e}var P9=new At(Ve);function fx(){return P9}function bM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(e)?"-0":e}}function DM(t){return{integerValue:""+t}}function IM(t,e){return nM(e)?DM(e):bM(t,e)}var cc=class{constructor(){this._=void 0}};function R9(t,e,n){return t instanceof ss?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rg(o)&&(o=ux(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ao?SM(t,e):t instanceof lo?TM(t,e):function(i,o){let s=AM(i,o),a=u1(s)+u1(i.Pe);return CE(s)&&CE(i.Pe)?DM(a):bM(i.serializer,a)}(t,e)}function N9(t,e,n){return t instanceof ao?SM(t,e):t instanceof lo?TM(t,e):n}function AM(t,e){return t instanceof as?function(r){return CE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ss=class extends cc{},ao=class extends cc{constructor(e){super(),this.elements=e}};function SM(t,e){let n=MM(e);for(let r of t.elements)n.some(i=>Ni(i,r))||n.push(r);return{arrayValue:{values:n}}}var lo=class extends cc{constructor(e){super(),this.elements=e}};function TM(t,e){let n=MM(e);for(let r of t.elements)n=n.filter(i=>!Ni(i,r));return{arrayValue:{values:n}}}var as=class extends cc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function u1(t){return zt(t.integerValue||t.doubleValue)}function MM(t){return _d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var pa=class{constructor(e,n){this.field=e,this.transform=n}};function O9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ao&&i instanceof ao||r instanceof lo&&i instanceof lo?oc(r.elements,i.elements,Ni):r instanceof as&&i instanceof as?Ni(r.Pe,i.Pe):r instanceof ss&&i instanceof ss}(t.transform,e.transform)}var OE=class{constructor(e,n){this.version=e,this.transformResults=n}},Gt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var uc=class{};function FM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cs(t.key,Gt.none()):new ls(t.key,t.data,Gt.none());{let n=t.data,r=Vn.empty(),i=new At(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ni(t.key,r,new fr(i.toArray()),Gt.none())}}function k9(t,e,n){t instanceof ls?function(i,o,s){let a=i.value.clone(),l=h1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ni?function(i,o,s){if(!im(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=h1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(PM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function dd(t,e,n,r){return t instanceof ls?function(o,s,a,l){if(!im(o.precondition,s))return a;let u=o.value.clone(),d=f1(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ni?function(o,s,a,l){if(!im(o.precondition,s))return a;let u=f1(o.fieldTransforms,l,s),d=s.data;return d.setAll(PM(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return im(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function V9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=AM(r.transform,i||null);o!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,o))}return n||null}function d1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(o,s)=>O9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ls=class extends uc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ni=class extends uc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function PM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function h1(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,N9(s,a,n[i]))}return r}function f1(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,R9(o,s,e))}return r}var cs=class extends uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ed=class extends uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wd=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&k9(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let l=FM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,r)=>d1(n,r))&&oc(this.baseMutations,e.baseMutations,(n,r)=>d1(n,r))}},kE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return M9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var xd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var VE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rn,lt;function RM(t){switch(t){default:return me();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function NM(t){if(t===void 0)return Qt("GRPC error has no .code"),q.UNKNOWN;switch(t){case rn.OK:return q.OK;case rn.CANCELLED:return q.CANCELLED;case rn.UNKNOWN:return q.UNKNOWN;case rn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case rn.INTERNAL:return q.INTERNAL;case rn.UNAVAILABLE:return q.UNAVAILABLE;case rn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case rn.NOT_FOUND:return q.NOT_FOUND;case rn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case rn.ABORTED:return q.ABORTED;case rn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case rn.DATA_LOSS:return q.DATA_LOSS;default:return me()}}(lt=rn||(rn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";var p1=null;function OM(){return new TextEncoder}var L9=new Ko([4294967295,4294967295],0);function m1(t){let e=OM().encode(t),n=new Z_;return n.update(e),new Uint8Array(n.digest())}function g1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ko([n,r],0),new Ko([i,o],0)]}var LE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new la(`Invalid padding: ${n}`);if(r<0)throw new la(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new la(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new la(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ko.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ko.fromNumber(r)));return i.compare(L9)===1&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=m1(e),[r,i]=g1(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=m1(e),[r,i]=g1(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},la=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Me.min(),i,new Pt(Ve),or(),je())}},bd=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,je(),je(),je())}};var ic=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},_m=class{constructor(e,n){this.targetId=e,this.me=n}},Em=class{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},wm=class{constructor(){this.fe=0,this.ge=v1(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=je(),n=je(),r=je();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new bd(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=v1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},BE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=y1(),this.Qe=new Pt(Ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(gm(o))if(r===0){let s=new ce(o.path);this.Ue(n,s,ln.newNoDocument(s,Me.min()))}else Ce(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}p1?.et(function(d,f,g,x,P){var N,V,z,ee,R,Z;let Ee={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},fe=f.unchangedNames;return fe&&(Ee.bloomFilter={applied:P===0,hashCount:(N=fe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(ee=(z=(V=fe?.bits)===null||V===void 0?void 0:V.bitmap)===null||z===void 0?void 0:z.length)!==null&&ee!==void 0?ee:0,padding:(Z=(R=fe?.bits)===null||R===void 0?void 0:R.padding)!==null&&Z!==void 0?Z:0,mightContain:S=>{var D;return(D=x?.mightContain(S))!==null&&D!==void 0&&D}}),Ee}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=rs(r).toUint8Array()}catch(l){if(l instanceof fm)return Fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new LE(s,i,o)}catch(l){return Fr(l instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&gm(a.target)){let l=new ce(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,ln.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=je();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Cd(e,n,this.Qe,this.ke,r);return this.ke=or(),this.qe=y1(),this.Qe=new Pt(Ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new wm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function y1(){return new Pt(ce.comparator)}function v1(){return new Pt(ce.comparator)}var B9={asc:"ASCENDING",desc:"DESCENDING"},j9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U9={and:"AND",or:"OR"},jE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function UE(t,e){return t.useProto3Json||kd(e)?e:{value:e}}function dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $9(t,e){return dc(t,e.toTimestamp())}function Jt(t){return Ce(!!t),Me.fromTimestamp(function(n){let r=so(n);return new jt(r.seconds,r.nanos)}(t))}function px(t,e){return $E(t,e).canonicalString()}function $E(t,e){let n=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VM(t){let e=ct.fromString(t);return Ce(WM(e)),e}function Dd(t,e){return px(t.databaseId,e.path)}function Pi(t,e){let n=VM(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(jM(n))}function LM(t,e){return px(t.databaseId,e)}function BM(t){let e=VM(t);return e.length===4?ct.emptyPath():jM(e)}function qE(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jM(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _1(t,e,n){return{name:Dd(t,e),fields:n.value.mapValue.fields}}function UM(t,e,n){let r=Pi(t,e.name),i=Jt(e.updateTime),o=e.createTime?Jt(e.createTime):Me.min(),s=new Vn({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function q9(t,e){return"found"in e?function(r,i){Ce(!!i.found),i.found.name,i.found.updateTime;let o=Pi(r,i.found.name),s=Jt(i.found.updateTime),a=i.found.createTime?Jt(i.found.createTime):Me.min(),l=new Vn({mapValue:{fields:i.found.fields}});return ln.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Ce(!!i.missing),Ce(!!i.readTime);let o=Pi(r,i.missing),s=Jt(i.readTime);return ln.newNoDocument(o,s)}(t,e):me()}function z9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string"),En.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),En.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?q.UNKNOWN:NM(u.code);return new Q(d,u.message||"")}(s);n=new Em(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Pi(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):Me.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=ln.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ic(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Pi(t,r.document),o=r.readTime?Jt(r.readTime):Me.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ic([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Pi(t,r.document),o=r.removedTargetIds||[];n=new ic([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new VE(i,o),a=r.targetId;n=new _m(a,s)}}return n}function Id(t,e){let n;if(e instanceof ls)n={update:_1(t,e.key,e.value)};else if(e instanceof cs)n={delete:Dd(t,e.key)};else if(e instanceof ni)n={update:_1(t,e.key,e.data),updateMask:Y9(e.fieldMask)};else{if(!(e instanceof Ed))return me();n={verify:Dd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ss)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me()}(t,e.precondition)),n}function zE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?Gt.updateTime(Jt(o.updateTime)):o.exists!==void 0?Gt.exists(o.exists):Gt.none()}(e.currentDocument):Gt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)Ce(a.setToServerValue==="REQUEST_TIME"),l=new ss;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new ao(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new lo(d)}else"increment"in a?l=new as(s,a.increment):me();let u=Yt.fromServerFormat(a.fieldPath);return new pa(u,l)}(t,i)):[];if(e.update){e.update.name;let i=Pi(t,e.update.name),o=new Vn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(l){let u=l.fieldPaths||[];return new fr(u.map(d=>Yt.fromServerFormat(d)))}(e.updateMask);return new ni(i,o,s,n,r)}return new ls(i,o,n,r)}if(e.delete){let i=Pi(t,e.delete);return new cs(i,n)}if(e.verify){let i=Pi(t,e.verify);return new Ed(i,n)}return me()}function G9(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jt(i.updateTime):Jt(o);return s.isEqual(Me.min())&&(s=Jt(o)),new OE(s,i.transformResults||[])}(n,e))):[]}function $M(t,e){return{documents:[LM(t,e.path)]}}function qM(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LM(t,i);let o=function(u){if(u.length!==0)return HM(_t.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Zl(g.field),direction:W9(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=UE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function zM(t){let e=BM(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){let g=GM(f);return g instanceof _t&&dx(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(g=>function(P){return new ha(Xl(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,kd(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){let g=!!f.before,x=f.values||[];return new Oi(x,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let g=!f.before,x=f.values||[];return new Oi(x,g)}(n.endAt)),yM(e,i,s,o,a,"F",l,u)}function H9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xl(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xl(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xl(n.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xl(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return st.create(Xl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _t.create(n.compositeFilter.filters.map(r=>GM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function W9(t){return B9[t]}function K9(t){return j9[t]}function Q9(t){return U9[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Yt.fromServerFormat(t.fieldPath)}function HM(t){return t instanceof st?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:K9(n.op),value:n.value}}}(t):t instanceof _t?function(n){let r=n.getFilters().map(i=>HM(i));return r.length===1?r[0]:{compositeFilter:{op:Q9(n.op),filters:r}}}(t):me()}function Y9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var hc=class t{constructor(e,n,r,i,o=Me.min(),s=Me.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xm=class{constructor(e){this.ct=e}};function J9(t,e){let n;if(e.document)n=UM(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=ce.fromSegments(e.noDocument.path),i=ga(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return me();{let r=ce.fromSegments(e.unknownDocument.path),i=ga(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new jt(i[0],i[1]);return Me.fromTimestamp(o)}(e.readTime)),n}function E1(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Dd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:dc(o,s.version.toTimestamp()),createTime:dc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ma(e.version)};else{if(!e.isUnknownDocument())return me();r.unknownDocument={path:n.path.toArray(),version:ma(e.version)}}return r}function Cm(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ma(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ga(t){let e=new jt(t.seconds,t.nanoseconds);return Me.fromTimestamp(e)}function oa(t,e){let n=(e.baseMutations||[]).map(o=>zE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>zE(t.ct,o)),i=jt.fromMillis(e.localWriteTimeMs);return new wd(e.batchId,i,n,r)}function ld(t){let e=ga(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ga(t.lastLimboFreeSnapshotVersion):Me.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return Ce(o.documents.length===1),Yn(Cc(BM(o.documents[0])))}(t.query):function(o){return Yn(zM(o))}(t.query),new hc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,En.fromBase64String(t.resumeToken))}function KM(t,e){let n=ma(e.snapshotVersion),r=ma(e.lastLimboFreeSnapshotVersion),i;i=gm(e.target)?$M(t.ct,e.target):qM(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mx(t){let e=zM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}function oE(t,e){return new xd(e.largestBatchId,zE(t.ct,e.overlayMutation))}function w1(t,e){let n=e.path.lastSegment();return[t,Qn(e.path.popLast()),n]}function x1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ma(r.readTime),documentKey:Qn(r.documentKey.path),largestBatchId:r.largestBatchId}}var GE=class{getBundleMetadata(e,n){return C1(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ga(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return C1(e).put(function(i){return{bundleId:i.id,createTime:ma(Jt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return b1(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:mx(o.bundledQuery),readTime:ga(o.readTime)}}(r)})}saveNamedQuery(e,n){return b1(e).put(function(i){return{name:i.name,readTime:ma(Jt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function C1(t){return wn(t,"bundles")}function b1(t){return wn(t,"namedQueries")}var bm=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return rd(e).get(w1(this.userId,n)).next(r=>r?oE(this.serializer,r):null)}getOverlays(e,n){let r=Mi();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new xd(n,s);i.push(this.ht(e,a))}),U.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(Qn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(rd(e).j("collectionPathOverlayIndex",a))}),U.waitFor(o)}getOverlaysForCollection(e,n,r){let i=Mi(),o=Qn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return rd(e).U("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let u=oE(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=Mi(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return rd(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{let f=oE(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return rd(e).put(function(i,o,s){let[a,l,u]=w1(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Id(i.ct,s.mutation)}}(this.serializer,this.userId,n))}};function rd(t){return wn(t,"documentOverlays")}var io=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(zt(e.integerValue));else if("doubleValue"in e){let r=zt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),md(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=so(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(rs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?uM(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):me()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ce.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};io.bt=new io;function Z9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function D1(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=Z9(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var HE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=D1(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=D1(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},WE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},KE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},sa=class{constructor(){this.Gt=new HE,this.zt=new WE(this.Gt),this.jt=new KE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var aa=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Qo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=I1(t.arrayValue,e.arrayValue),n!==0?n:(n=I1(t.directionalValue,e.directionalValue),n!==0?n:ce.comparator(t.documentKey,e.documentKey)))}function I1(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Dm=class{constructor(e){this.Yt=new At((n,r)=>Yt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ce(e.collectionGroup===this.collectionId),this.en)return!1;let n=gE(e);if(n!==void 0&&!this.nn(n))return!1;let r=ra(e),i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new At(Yt.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new nc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new nc(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new nc(r.field,r.dir==="asc"?0:1)));return new sc(sc.UNKNOWN_ID,this.collectionId,n,pd.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function QM(t){var e,n;if(Ce(t instanceof st||t instanceof _t),t instanceof st){if(t instanceof mm){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>st.create(t.field,"==",o)))||[];return _t.create(i,"or")}return t}let r=t.filters.map(i=>QM(i));return _t.create(r,t.op)}function X9(t){if(t.getFilters().length===0)return[];let e=JE(QM(t));return Ce(YM(e)),QE(e)||YE(e)?[e]:e.getFilters()}function QE(t){return t instanceof st}function YE(t){return t instanceof _t&&dx(t)}function YM(t){return QE(t)||YE(t)||function(n){if(n instanceof _t&&bE(n)){for(let r of n.getFilters())if(!QE(r)&&!YE(r))return!1;return!0}return!1}(t)}function JE(t){if(Ce(t instanceof st||t instanceof _t),t instanceof st)return t;if(t.filters.length===1)return JE(t.filters[0]);let e=t.filters.map(r=>JE(r)),n=_t.create(e,t.op);return n=Im(n),YM(n)?n:(Ce(n instanceof _t),Ce(lc(n)),Ce(n.filters.length>1),n.filters.reduce((r,i)=>gx(r,i)))}function gx(t,e){let n;return Ce(t instanceof st||t instanceof _t),Ce(e instanceof st||e instanceof _t),n=t instanceof st?e instanceof st?function(i,o){return _t.create([i,o],"and")}(t,e):A1(t,e):e instanceof st?A1(e,t):function(i,o){if(Ce(i.filters.length>0&&o.filters.length>0),lc(i)&&lc(o))return pM(i,o.getFilters());let s=bE(i)?i:o,a=bE(i)?o:i,l=s.filters.map(u=>gx(u,a));return _t.create(l,"or")}(t,e),Im(n)}function A1(t,e){if(lc(e))return pM(e,t.getFilters());{let n=e.filters.map(r=>gx(t,r));return _t.create(n,"or")}}function Im(t){if(Ce(t instanceof st||t instanceof _t),t instanceof st)return t;let e=t.getFilters();if(e.length===1)return Im(e[0]);if(hM(t))return t;let n=e.map(i=>Im(i)),r=[];return n.forEach(i=>{i instanceof st?r.push(i):i instanceof _t&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:_t.create(r,t.op)}var ZE=class{constructor(){this._n=new Ad}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Pr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}},Ad=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(ct.comparator)).toArray()}};var Jp=new Uint8Array(0),XE=class{constructor(e,n){this.databaseId=n,this.an=new Ad,this.un=new ki(r=>fa(r),(r,i)=>Vd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:r,parent:Qn(i)};return S1(e).put(o)}return U.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[J1(n),""],!1,!0);return S1(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(Ti(s.parent))}return r})}addFieldIndex(e,n){let r=id(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=Kl(e);return o.next(a=>{s.put(x1(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=id(e),i=Kl(e),o=Wl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=id(e),r=Wl(e),i=Kl(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return U.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Dm(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=Wl(e),i=!0,o=new Map;return U.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=je(),a=[];return U.forEach(o,(l,u)=>{J("IndexedDbIndexManager",`Using index ${function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Z=>`${Z.fieldPath}:${Z.kind}`).join(",")}`}(l)} to execute ${fa(n)}`);let d=function(R,Z){let Ee=gE(Z);if(Ee===void 0)return null;for(let fe of ym(R,Ee.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null}(u,l),f=function(R,Z){let Ee=new Map;for(let fe of ra(Z))for(let S of ym(R,fe.fieldPath))switch(S.op){case"==":case"in":Ee.set(fe.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return Ee.set(fe.fieldPath.canonicalString(),S.value),Array.from(Ee.values())}return null}(u,l),g=function(R,Z){let Ee=[],fe=!0;for(let S of ra(Z)){let D=S.kind===0?a1(R,S.fieldPath,R.startAt):l1(R,S.fieldPath,R.startAt);Ee.push(D.value),fe&&(fe=D.inclusive)}return new Oi(Ee,fe)}(u,l),x=function(R,Z){let Ee=[],fe=!0;for(let S of ra(Z)){let D=S.kind===0?l1(R,S.fieldPath,R.endAt):a1(R,S.fieldPath,R.endAt);Ee.push(D.value),fe&&(fe=D.inclusive)}return new Oi(Ee,fe)}(u,l),P=this.hn(l,u,g),N=this.hn(l,u,x),V=this.Pn(l,u,f),z=this.In(l.indexId,d,P,g.inclusive,N,x.inclusive,V);return U.forEach(z,ee=>r.G(ee,n.limit).next(R=>{R.forEach(Z=>{let Ee=ce.fromSegments(Z.documentKey);s.has(Ee)||(s=s.add(Ee),a.push(Ee))})}))}).next(()=>a)}return U.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=X9(_t.create(e.filters,"and")).map(r=>RE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){let l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){let g=n?this.Tn(n[f/u]):Jp,x=this.En(e,g,r[f%u],i),P=this.dn(e,g,o[f%u],s),N=a.map(V=>this.En(e,g,V,!0));d.push(...this.createRange(x,P,N))}return d}En(e,n,r,i){let o=new aa(e,ce.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){let o=new aa(e,ce.empty(),n,r);return i?o.Jt():o}ln(e,n){let r=new Dm(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.cn(n);return U.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new At(Yt.comparator),d=!1;for(let f of l.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(let f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new sa;for(let i of ra(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.Ht(i.kind);io.bt.Pt(o,s)}return r.Wt()}Tn(e){let n=new sa;return io.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new sa;return io.bt.Pt(da(this.databaseId,n),r.Ht(function(o){let s=ra(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new sa);let o=0;for(let s of ra(e)){let a=r[o++];for(let l of i)if(this.Vn(n,s.fieldPath)&&_d(a))i=this.mn(i,s,a);else{let u=l.Ht(s.kind);io.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let l=new sa;l.seed(a.Wt()),io.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof st&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=id(e),i=Kl(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{let s=[];return U.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,f){let g=f?new pd(f.sequenceNumber,new Pr(ga(f.readTime),new ce(Ti(f.documentKey)),f.largestBatchId)):pd.empty(),x=d.fields.map(([P,N])=>new nc(Yt.fromServerFormat(P),N));return new sc(d.indexId,d.collectionGroup,x,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ve(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=id(e),o=Kl(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>U.forEach(a,l=>o.put(x1(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){let r=new Map;return U.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?U.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),U.forEach(a,l=>this.pn(e,i,l).next(u=>{let d=this.yn(o,l);return u.isEqual(d)?U.resolve():this.wn(e,o,l,u,d)}))))})}Sn(e,n,r,i){return Wl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Wl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Wl(e),o=new At(Qo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new aa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new At(Qo),i=this.An(n,e);if(i==null)return r;let o=gE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(_d(s))for(let a of s.arrayValue.values||[])r=r.add(new aa(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new aa(n.indexId,e.key,Jp,i));return r}wn(e,n,r,i,o){J("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(l,u,d,f,g){let x=l.getIterator(),P=u.getIterator(),N=Hl(x),V=Hl(P);for(;N||V;){let z=!1,ee=!1;if(N&&V){let R=d(N,V);R<0?ee=!0:R>0&&(z=!0)}else N!=null?ee=!0:z=!0;z?(f(V),V=Hl(P)):ee?(g(N),N=Hl(x)):(N=Hl(x),V=Hl(P))}}(i,o,Qo,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),U.waitFor(s)}gn(e){let n=1;return Kl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Qo(s,a)).filter((s,a,l)=>!a||Qo(s,l[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Qo(s,e),l=Qo(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Jp,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Jp,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,n){return Qo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(T1)}getMinOffset(e,n){return U.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||me())).next(T1)}};function S1(t){return wn(t,"collectionParents")}function Wl(t){return wn(t,"indexEntries")}function id(t){return wn(t,"indexConfiguration")}function Kl(t){return wn(t,"indexState")}function T1(t){Ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;lx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,n)}var M1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function JM(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.J({range:s},(d,f,g)=>(a++,g.delete()));o.push(l.next(()=>{Ce(a===1)}));let u=[];for(let d of n.mutations){let f=rM(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return U.waitFor(o).next(()=>u)}function Am(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw me();e=t.noDocument}return JSON.stringify(e).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var Sm=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Ce(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=ec(e),s=Yo(e);return s.add({}).next(a=>{Ce(typeof a=="number");let l=new wd(a,n,r,i),u=function(x,P,N){let V=N.baseMutations.map(ee=>Id(x.ct,ee)),z=N.mutations.map(ee=>Id(x.ct,ee));return{userId:P,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:V,mutations:z}}(this.serializer,this.userId,l),d=[],f=new At((g,x)=>Ve(g.canonicalString(),x.canonicalString()));for(let g of i){let x=rM(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(s.put(u)),d.push(o.put(x,s9))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),U.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Yo(e).get(n).next(r=>r?(Ce(r.userId===this.userId),oa(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?U.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yo(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Ce(a.batchId>=r),o=oa(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Yo(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).U("userMutationsIndex",n).next(r=>r.map(i=>oa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=tm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ec(e).J({range:i},(s,a,l)=>{let[u,d,f]=s,g=Ti(d);if(u===this.userId&&n.path.isEqual(g))return Yo(e).get(f).next(x=>{if(!x)throw me();Ce(x.userId===this.userId),o.push(oa(this.serializer,x))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ve),i=[];return n.forEach(o=>{let s=tm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ec(e).J({range:a},(u,d,f)=>{let[g,x,P]=u,N=Ti(x);g===this.userId&&o.path.isEqual(N)?r=r.add(P):f.done()});i.push(l)}),U.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=tm(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new At(Ve);return ec(e).J({range:s},(l,u,d)=>{let[f,g,x]=l,P=Ti(g);f===this.userId&&r.isPrefixOf(P)?P.length===i&&(a=a.add(x)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(Yo(e).get(o).next(s=>{if(s===null)throw me();Ce(s.userId===this.userId),r.push(oa(this.serializer,s))}))}),U.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JM(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),U.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ec(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let l=Ti(o[1]);i.push(l)}else a.done()}).next(()=>{Ce(i.length===0)})})}containsKey(e,n){return ZM(e,this.userId,n)}xn(e){return XM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function ZM(t,e,n){let r=tm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ec(t).J({range:o,H:!0},(a,l,u)=>{let[d,f,g]=a;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Yo(t){return wn(t,"mutations")}function ec(t){return wn(t,"documentMutations")}function XM(t){return wn(t,"mutationQueues")}var fc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var ew=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new fc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Me.fromTimestamp(new jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ql(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ce(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,o=[];return Ql(e).J((s,a)=>{let l=ld(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>U.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Ql(e).J((r,i)=>{let o=ld(i);n(o)})}Bn(e){return F1(e).get("targetGlobalKey").next(n=>(Ce(n!==null),n))}kn(e,n){return F1(e).put("targetGlobalKey",n)}qn(e,n){return Ql(e).put(KM(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=fa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ql(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{let u=ld(a);Vd(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=Jo(e);return n.forEach(s=>{let a=Qn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),U.waitFor(i)}removeMatchingKeys(e,n,r){let i=Jo(e);return U.forEach(n,o=>{let s=Qn(o.path);return U.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=Jo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Jo(e),o=je();return i.J({range:r,H:!0},(s,a,l)=>{let u=Ti(s[1]),d=new ce(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){let r=Qn(n.path),i=IDBKeyRange.bound([r],[J1(r)],!1,!0),o=0;return Jo(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return Ql(e).get(n).next(r=>r?ld(r):null)}};function Ql(t){return wn(t,"targets")}function F1(t){return wn(t,"targetGlobal")}function Jo(t){return wn(t,"targetDocuments")}function P1([t,e],[n,r]){let i=Ve(t,n);return i===0?Ve(e,r):i}var tw=class{constructor(e){this.Kn=e,this.buffer=new At(P1),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();P1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},nw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){J("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>G(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){hs(n)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield ds(n)}yield this.zn(3e5)}))}},rw=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(hr.oe);let r=new tw(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(M1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M1):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Yl()<=pi.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function eU(t,e){return new rw(t,e)}var iw=class{constructor(e,n){this.db=e,this.garbageCollector=eU(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Zp(e,r)}removeReference(e,n,r){return Zp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zp(e,n)}er(e,n){return function(i,o){let s=!1;return XM(i).Y(a=>ZM(i,a,o).next(l=>(l&&(s=!0),U.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Me.min()),Jo(e).delete(function(f){return[0,Qn(f.path)]}(s))))});i.push(l)}}).next(()=>U.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zp(e,n)}Xn(e,n){let r=Jo(e),i,o=hr.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==hr.oe&&n(new ce(Ti(i)),o),o=u,i=l):o=hr.oe}).next(()=>{o!==hr.oe&&n(new ce(Ti(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Zp(t,e){return Jo(t).put(function(r,i){return{targetId:0,path:Qn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Tm=class{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ow=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return na(e).put(r)}removeEntry(e,n,r){return na(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Cm(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=ln.newInvalidDocument(n);return na(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(od(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return na(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(od(n))},(i,o)=>{r={document:this.nr(n,o),size:Am(o)}}).next(()=>r)}getEntries(e,n){let r=or();return this.ir(e,n,(i,o)=>{let s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=or(),i=new Pt(ce.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,Am(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return U.resolve();let i=new At(O1);n.forEach(l=>i=i.add(l));let o=IDBKeyRange.bound(od(i.first()),od(i.last())),s=i.getIterator(),a=s.getNext();return na(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{let f=ce.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&O1(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(od(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Cm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return na(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=or();for(let f of u){let g=this.nr(ce.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Bd(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=or(),s=N1(n,r),a=N1(n,Pr.max());return na(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{let f=this.nr(ce.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new sw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return R1(e).get("remoteDocumentGlobalKey").next(n=>(Ce(!!n),n))}tr(e,n){return R1(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=J9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Me.min())))return r}return ln.newInvalidDocument(e)}};function eF(t){return new ow(t)}var sw=class extends Tm{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new ki(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new At((o,s)=>Ve(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=E1(this.ar.serializer,s);i=i.add(o.path.popLast());let u=Am(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){let l=E1(this.ar.serializer,s.convertToNoDocument(Me.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),U.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function R1(t){return wn(t,"remoteDocumentGlobal")}function na(t){return wn(t,"remoteDocumentsV14")}function od(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function N1(t,e){let n=e.documentKey.path.toArray();return[t,Cm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function O1(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ve(n[o],r[o]),i)return i;return i=Ve(n.length,r.length),i||(i=Ve(n[n.length-2],r[r.length-2]),i||Ve(n[n.length-1],r[r.length-1]))}var aw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Mm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dd(r.mutation,i,fr.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){let i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ad();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=or(),s=ud(),a=function(){return ud()}();return n.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ni)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),dd(d.mutation,u,d.mutation.getFieldMask(),jt.now())):s.set(u.key,fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new aw(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ud(),i=new Pt((s,a)=>s-a),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||fr.empty();d=a.applyToLocalView(u,d),r.set(l,d);let f=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=CM();d.forEach(g=>{if(!o.has(g)){let x=FM(n.get(g),r.get(g));x!==null&&f.set(g,x),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Mi()),a=-1,l=o;return s.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,je())).next(d=>({batchId:a,changes:xM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ad();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,l=>{let u=function(f,g){return new ti(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,ln.newInvalidDocument(d)))});let a=ad();return s.forEach((l,u)=>{let d=o.get(l);d!==void 0&&dd(d.mutation,u,fr.empty(),jt.now()),Bd(n,u)&&(a=a.insert(l,u))}),a})}};var lw=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:mx(i.bundledQuery),readTime:Jt(i.readTime)}}(n)),U.resolve()}};var cw=class{constructor(){this.overlays=new Pt(ce.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mi();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){let i=Mi(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Mi(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Mi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xd(n,r));let o=this.hr.get(n);o===void 0&&(o=je(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Sd=class{constructor(){this.Pr=new At(on.Ir),this.Tr=new At(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new ce(new ct([])),r=new on(n,e),i=new on(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new ce(new ct([])),r=new on(n,e),i=new on(n,e+1),o=je();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},on=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ce.comparator(e.key,n.key)||Ve(e.pr,n.pr)}static Er(e,n){return Ve(e.pr,n.pr)||ce.comparator(e.key,n.key)}};var uw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new At(on.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new wd(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new on(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ve);return n.forEach(i=>{let o=new on(i,0),s=new on(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ce.isDocumentKey(o)||(o=o.child(""));let s=new on(new ce(o),0),a=new At(Ve);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),U.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{let o=new on(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new on(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var dw=class{constructor(e){this.vr=e,this.docs=function(){return new Pt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=or(),s=n.path,a=new ce(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||lx(X1(d),r)<=0||(i.has(d.key)||Bd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){me()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hw(this)}getSize(e){return U.resolve(this.size)}},hw=class extends Tm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var fw=class{constructor(e){this.persistence=e,this.Mr=new ki(n=>fa(n),Vd),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Sd,this.targetCount=0,this.Lr=fc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}};var Fm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new hr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new fw(this),this.indexManager=new ZE,this.remoteDocumentCache=function(i){return new dw(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new xm(n),this.$r=new lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new uw(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);let i=new pw(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},pw=class extends um{constructor(e){super(),this.currentSequenceNumber=e}},Pm=class t{constructor(e){this.persistence=e,this.zr=new Sd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw me()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{let i=ce.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var mw=class{constructor(e){this.serializer=e}O(e,n,r,i){let o=new dm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZT,{unique:!0}),l.createObjectStore("documentMutations")}(e),k1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=U.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),k1(e)),s=s.next(()=>function(l){let u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZT,{unique:!0});let f=u.store("mutations"),g=d.map(x=>f.put(x));return U.waitFor(g)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){let u=l.createObjectStore("documentOverlays",{keyPath:v9});u.createIndex("collectionPathOverlayIndex",_9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",E9,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){let u=l.createObjectStore("remoteDocumentsV14",{keyPath:a9});u.createIndex("documentKeyIndex",l9),u.createIndex("collectionGroupIndex",c9)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:p9}).createIndex("sequenceNumberIndex",m9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:g9}).createIndex("documentKeyIndex",y9,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Am(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>U.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>U.forEach(a,l=>{Ce(l.userId===o.userId);let u=oa(this.serializer,l);return JM(e,o.userId,u).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let l=new ct(s),u=function(f){return[0,Qn(f)]}(l);o.push(n.get(u).next(d=>d?U.resolve():(f=>n.put({targetId:0,path:Qn(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>U.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:f9});let r=n.store("collectionParents"),i=new Ad,o=s=>{if(i.add(s)){let a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Qn(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let l=new ct(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],u)=>{let d=Ti(a);return o(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let o=ld(i),s=KM(this.serializer,o);return n.put(s)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new ce(ct.fromString(f.document.name).popFirst(5)):f.noDocument?ce.fromSegments(f.noDocument.path):f.unknownDocument?ce.fromSegments(f.unknownDocument.path):me()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>U.waitFor(i))}si(e,n){let r=n.store("mutations"),i=eF(this.serializer),o=new Fm(Pm.Hr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:je();oa(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),U.forEach(a,(l,u)=>{let d=new sn(u),f=bm.lt(this.serializer,d),g=o.getIndexManager(d),x=Sm.lt(d,this.serializer,g,o.referenceDelegate);return new Mm(i,x,f,g).recalculateAndSaveOverlaysForDocumentKeys(new gd(n,hr.oe),l).next()})})}};function k1(t){t.createObjectStore("targetDocuments",{keyPath:d9}).createIndex("documentTargetsIndex",h9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u9,{unique:!0}),t.createObjectStore("targetGlobal")}var sE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gw=class t{constructor(e,n,r,i,o,s,a,l,u,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new Q(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iw(this,i),this.Ti=n+"main",this.serializer=new xm(l),this.Ei=new ns(this.Ti,this.ui,new mw(this.serializer)),this.Qr=new ew(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eF(this.serializer),this.$r=new GE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&Qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(q.FAILED_PRECONDITION,sE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new hr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>G(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>G(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>G(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(hs(e))return J("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return sd(e).get("owner").next(n=>U.resolve(this.Si(n)))}bi(e){return Xp(e).delete(this.clientId)}Di(){return G(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=wn(n,"clientMetadata");return r.U().next(i=>{let o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return U.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?U.resolve(!0):sd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Q(q.FAILED_PRECONDITION,sE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return G(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new gd(e,hr.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Sm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new XE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return bm.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){J("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===16?x9:l===15?aM:l===14?sM:l===13?oM:l===12?w9:l===11?iM:void me()}(this.ui),s;return this.Ei.runTransaction(e,i,o,a=>(s=new gd(a,this.kr?this.kr.next():hr.oe),n==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Q(q.FAILED_PRECONDITION,eM);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return sd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q(q.FAILED_PRECONDITION,sE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sd(e).put("owner",n)}static D(){return ns.D()}yi(e){let n=sd(e);return n.get("owner").next(r=>this.Si(r)?(J("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):U.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;my()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return J("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function sd(t){return wn(t,"owner")}function Xp(t){return wn(t,"clientMetadata")}function yx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var yw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=je(),i=je();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var vw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return my()?8:tM(eu())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vw;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Yl()<=pi.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Yl()<=pi.DEBUG&&J("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Yl()<=pi.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):U.resolve())}ji(e,n){if(c1(n))return U.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vm(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=je(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,vm(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return c1(n)||i.isEqual(Me.min())?U.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?U.resolve(null):(Yl()<=pi.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.es(e,s,n,Z1(i,-1)).next(a=>a))})}Zi(e,n){let r=new At(EM(e));return n.forEach((i,o)=>{Bd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Yl()<=pi.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.zi.getDocumentsMatchingQuery(e,n,Pr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _w=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pt(Ve),this.rs=new ki(o=>fa(o),Vd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function tF(t,e,n,r){return new _w(t,e,n,r)}function nF(t,e){return G(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=je();for(let u of i){s.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function tU(t,e){let n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let f=u.batch,g=f.keys(),x=U.resolve();return g.forEach(P=>{x=x.next(()=>d.getEntry(l,P)).next(N=>{let V=u.docVersions.get(P);Ce(V!==null),N.version.compareTo(V)<0&&(f.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),d.addEntry(N)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=je();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rF(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function nU(t,e){let n=ue(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,f)));let x=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(En.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(f,x),function(N,V,z){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(g,x,d)&&a.push(n.Qr.updateTargetData(o,x))});let l=or(),u=je();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(iF(o,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(Me.min())){let d=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function iF(t,e,n){let r=je(),i=je();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=or();return n.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function rU(t,e){let n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new hc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function mc(t,e,n){return G(this,null,function*(){let r=ue(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hs(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function Nm(t,e,n){let r=ue(t),i=Me.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){let f=ue(l),g=f.rs.get(d);return g!==void 0?U.resolve(f.ns.get(g)):f.Qr.getTargetData(u,d)}(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Me.min(),n?o:je())).next(a=>(aF(r,_M(e),a),{documents:a,hs:o})))}function oF(t,e){let n=ue(t),r=ue(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function sF(t,e){let n=ue(t),r=n.ss.get(e)||Me.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Z1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(aF(n,e,i),i))}function aF(t,e,n){let r=t.ss.get(e)||Me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function iU(t,e,n,r){return G(this,null,function*(){let i=ue(t),o=je(),s=or();for(let u of n){let d=e.Ps(u.metadata.name);u.document&&(o=o.add(d));let f=e.Is(u);f.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(d,f)}let a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield pc(i,function(d){return Yn(Cc(ct.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>iF(u,a,s).next(d=>(a.apply(u),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.cs,d.ls)).next(()=>d.cs)))})}function oU(r,i){return G(this,arguments,function*(t,e,n=je()){let o=yield pc(t,Yn(mx(e.bundledQuery))),s=ue(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=Jt(e.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.$r.saveNamedQuery(a,e);let u=o.withResumeToken(En.EMPTY_BYTE_STRING,l);return s.ns=s.ns.insert(u.targetId,u),s.Qr.updateTargetData(a,u).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function V1(t,e){return`firestore_clients_${t}_${e}`}function L1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aE(t,e){return`firestore_targets_${t}_${e}`}var Om=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new Q(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(Qt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},hd=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Q(r.error.code,r.error.message))),o?new t(e,r.state,i):(Qt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},km=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fx();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=nM(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Qt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Ew=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Qt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Td=class{constructor(){this.activeTargetIds=fx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},fd=class{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pt(Ve),this.started=!1,this.ys=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=V1(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Td),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return G(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(V1(this.persistenceKey,r));if(i){let o=km.Es(r,i);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(aE(this.persistenceKey,e));if(r){let i=hd.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aE(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n}setItem(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(J("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>G(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(o){let s=hr.oe;if(o!=null)try{let a=JSON.parse(o);Ce(typeof a=="number"),s=a}catch(a){Qt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==hr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new Om(this.currentUser,e,n,r),o=L1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){let n=L1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=aE(this.persistenceKey,e),o=new hd(e,n,r);this.setItem(i,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return km.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Om.Es(new sn(o),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return hd.Es(i,n)}xs(e){return Ew.Es(e)}Js(e){return JSON.parse(e)}zs(e){return G(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);J("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=fx();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Vm=class{constructor(){this.no=new Td,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Td,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ww=class{io(e){}shutdown(){}};var Lm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var em=null;function lE(){return em===null?em=function(){return 268435456+Math.round(2147483648*Math.random())}():em++,"0x"+em.toString(16)}var sU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xw=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var kn="WebChannelConnection",Cw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=lE(),l=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(n,l,u,i).then(d=>(J("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=sU[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=lE();return new Promise((s,a)=>{let l=new X_;l.setWithCredentials(!0),l.listenOnce(tE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:let d=l.getResponseJson();J(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case nd.TIMEOUT:J(kn,`RPC '${e}' ${o} timed out`),a(new Q(q.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:let f=l.getStatus();if(J(kn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let x=g?.error;if(x&&x.status&&x.message){let P=function(V){let z=V.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(z)>=0?z:q.UNKNOWN}(x.status);a(new Q(P,x.message))}else a(new Q(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(q.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{J(kn,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);J(kn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){let i=lE(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iE(),a=rE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new eE({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=o.join("");J(kn,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=s.createWebChannel(d,l),g=!1,x=!1,P=new xw({lo:V=>{x?J(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(g||(J(kn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),J(kn,`RPC '${e}' stream ${i} sending:`,V),f.send(V))},ho:()=>f.close()}),N=(V,z,ee)=>{V.listen(z,R=>{try{ee(R)}catch(Z){setTimeout(()=>{throw Z},0)}})};return N(f,Gl.EventType.OPEN,()=>{x||(J(kn,`RPC '${e}' stream ${i} transport opened.`),P.mo())}),N(f,Gl.EventType.CLOSE,()=>{x||(x=!0,J(kn,`RPC '${e}' stream ${i} transport closed`),P.po())}),N(f,Gl.EventType.ERROR,V=>{x||(x=!0,Fr(kn,`RPC '${e}' stream ${i} transport errored:`,V),P.po(new Q(q.UNAVAILABLE,"The operation could not be completed")))}),N(f,Gl.EventType.MESSAGE,V=>{var z;if(!x){let ee=V.data[0];Ce(!!ee);let R=ee,Z=R.error||((z=R[0])===null||z===void 0?void 0:z.error);if(Z){J(kn,`RPC '${e}' stream ${i} received error:`,Z);let Ee=Z.status,fe=function(T){let O=rn[T];if(O!==void 0)return NM(O)}(Ee),S=Z.message;fe===void 0&&(fe=q.INTERNAL,S="Unknown error status: "+Ee+" with message "+Z.message),x=!0,P.po(new Q(fe,S)),f.close()}else J(kn,`RPC '${e}' stream ${i} received:`,ee),P.yo(ee)}}),N(a,nE.STAT_EVENT,V=>{V.stat===Yp.PROXY?J(kn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Yp.NOPROXY&&J(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}};function lF(){return typeof window<"u"?window:null}function om(){return typeof document<"u"?document:null}function jd(t){return new jE(t,!0)}var Md=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Bm=class{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Md(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return G(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return G(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return G(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Qt(n.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new Q(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>G(this,null,function*(){this.state=0,this.start()}))}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},bw=class extends Bm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=z9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Me.min():s.readTime?Jt(s.readTime):Me.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=qE(this.serializer),n.addTarget=function(o,s){let a,l=s.target;if(a=gm(l)?{documents:$M(o,l)}:{query:qM(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kM(o,s.resumeToken);let u=UE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Me.min())>0){a.readTime=dc(o,s.snapshotVersion.toTimestamp());let u=UE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=H9(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=qE(this.serializer),n.removeTarget=e,this.i_(n)}},Dw=class extends Bm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=G9(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.A_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=qE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Id(this.serializer,r))};this.i_(n)}};var Iw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Q(q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,$E(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(q.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,$E(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(q.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Aw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Qt(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Sw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>G(this,null,function*(){fs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(l){return G(this,null,function*(){let u=ue(l);u.M_.add(4),yield bc(u),u.N_.set("Unknown"),u.M_.delete(4),yield Ud(u)})}(this))}))}),this.N_=new Aw(r,i)}};function Ud(t){return G(this,null,function*(){if(fs(t))for(let e of t.x_)yield e(!0)})}function bc(t){return G(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ig(t,e){let n=ue(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Ex(n)?_x(n):Ic(n).Xo()&&vx(n,e))}function gc(t,e){let n=ue(t),r=Ic(n);n.F_.delete(e),r.Xo()&&cF(n,e),n.F_.size===0&&(r.Xo()?r.n_():fs(n)&&n.N_.set("Unknown"))}function vx(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).P_(e)}function cF(t,e){t.L_.xe(e),Ic(t).I_(e)}function _x(t){t.L_=new BE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.N_.w_()}function Ex(t){return fs(t)&&!Ic(t).Zo()&&t.F_.size>0}function fs(t){return ue(t).M_.size===0}function uF(t){t.L_=void 0}function aU(t){return G(this,null,function*(){t.N_.set("Online")})}function lU(t){return G(this,null,function*(){t.F_.forEach((e,n)=>{vx(t,e)})})}function cU(t,e){return G(this,null,function*(){uF(t),Ex(t)?(t.N_.D_(e),_x(t)):t.N_.set("Unknown")})}function uU(t,e,n){return G(this,null,function*(){if(t.N_.set("Online"),e instanceof Em&&e.state===2&&e.cause)try{yield function(i,o){return G(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jm(t,r)}else if(e instanceof ic?t.L_.Ke(e):e instanceof _m?t.L_.He(e):t.L_.We(e),!n.isEqual(Me.min()))try{let r=yield rF(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.F_.get(u);d&&o.F_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),cF(o,l);let f=new hc(d.target,l,u,d.sequenceNumber);vx(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){J("RemoteStore","Failed to raise snapshot:",r),yield jm(t,r)}})}function jm(t,e,n){return G(this,null,function*(){if(!hs(e))throw e;t.M_.add(1),yield bc(t),t.N_.set("Offline"),n||(n=()=>rF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>G(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ud(t)}))})}function dF(t,e){return e().catch(n=>jm(t,n,e))}function Dc(t){return G(this,null,function*(){let e=ue(t),n=us(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;dU(e);)try{let i=yield rU(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,hU(e,i)}catch(i){yield jm(e,i)}hF(e)&&fF(e)})}function dU(t){return fs(t)&&t.v_.length<10}function hU(t,e){t.v_.push(e);let n=us(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function hF(t){return fs(t)&&!us(t).Zo()&&t.v_.length>0}function fF(t){us(t).start()}function fU(t){return G(this,null,function*(){us(t).V_()})}function pU(t){return G(this,null,function*(){let e=us(t);for(let n of t.v_)e.d_(n.mutations)})}function mU(t,e,n){return G(this,null,function*(){let r=t.v_.shift(),i=kE.from(r,e,n);yield dF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Dc(t)})}function gU(t,e){return G(this,null,function*(){e&&us(t).E_&&(yield function(r,i){return G(this,null,function*(){if(function(s){return RM(s)&&s!==q.ABORTED}(i.code)){let o=r.v_.shift();us(r).t_(),yield dF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Dc(r)}})}(t,e)),hF(t)&&fF(t)})}function B1(t,e){return G(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let r=fs(n);n.M_.add(3),yield bc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ud(n)})}function Tw(t,e){return G(this,null,function*(){let n=ue(t);e?(n.M_.delete(2),yield Ud(n)):e||(n.M_.add(2),yield bc(n),n.N_.set("Unknown"))})}function Ic(t){return t.B_||(t.B_=function(n,r,i){let o=ue(n);return o.f_(),new bw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:aU.bind(null,t),To:lU.bind(null,t),Ao:cU.bind(null,t),h_:uU.bind(null,t)}),t.x_.push(e=>G(this,null,function*(){e?(t.B_.t_(),Ex(t)?_x(t):t.N_.set("Unknown")):(yield t.B_.stop(),uF(t))}))),t.B_}function us(t){return t.k_||(t.k_=function(n,r,i){let o=ue(n);return o.f_(),new Dw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:fU.bind(null,t),Ao:gU.bind(null,t),R_:pU.bind(null,t),A_:mU.bind(null,t)}),t.x_.push(e=>G(this,null,function*(){e?(t.k_.t_(),yield Dc(t)):(yield t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Mw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ac(t,e){if(Qt("AsyncQueue",`${e}: ${t}`),hs(t))return new Q(q.UNAVAILABLE,`${e}: ${t}`);throw t}var Um=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var $m=class{constructor(){this.q_=new Pt(ce.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},yc=class t{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Um.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Fw=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Pw=class{constructor(){this.queries=new ki(e=>vM(e),Ld),this.onlineState="Unknown",this.z_=new Set}};function wx(t,e){return G(this,null,function*(){let n=ue(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Fw,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Ac(s,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Cx(n)})}function xx(t,e){return G(this,null,function*(){let n=ue(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function yU(t,e){let n=ue(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Cx(n)}function vU(t,e,n){let r=ue(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function Cx(t){t.z_.forEach(e=>{e.next()})}var Rw,j1;(j1=Rw||(Rw={})).J_="default",j1.Cache="cache";var Fd=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Rw.Cache}};var Nw=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var qm=class{constructor(e){this.serializer=e}Ps(e){return Pi(this.serializer,e)}Is(e){return e.metadata.exists?UM(this.serializer,e.document,!1):ln.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Jt(e)}},Ow=class{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pF(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let r=ct.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,r=new qm(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Ps(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||je()).add(o);n.set(s,a)}}return n}complete(){return G(this,null,function*(){let e=yield iU(this.localStore,new qm(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let r of this.queries)yield oU(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function pF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var zm=class{constructor(e){this.key=e}},Gm=class{constructor(e){this.key=e}},Hm=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=je(),this.mutatedKeys=je(),this.Ia=EM(e),this.Ta=new Um(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new $m,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),x=Bd(this.query,f)?f:null,P=!!g&&this.mutatedKeys.has(g.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations),V=!1;g&&x?g.data.isEqual(x.data)?P!==N&&(r.track({type:3,doc:x}),V=!0):this.Ra(g,x)||(r.track({type:2,doc:x}),V=!0,(l&&this.Ia(x,l)>0||u&&this.Ia(x,u)<0)&&(a=!0)):!g&&x?(r.track({type:0,doc:x}),V=!0):g&&!x&&(r.track({type:1,doc:g}),V=!0,(l||u)&&(a=!0)),V&&(x?(s=s.add(x),o=N?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((d,f)=>function(x,P){let N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return N(x)-N(P)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new yc(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new $m,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=je(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Gm(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new zm(r))}),n}pa(e){this.la=e.hs,this.Pa=je();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return yc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},kw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Vw=class{constructor(e){this.key=e,this.wa=!1}},Lw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new ki(a=>vM(a),Ld),this.Da=new Map,this.Ca=new Set,this.va=new Pt(ce.comparator),this.Fa=new Map,this.Ma=new Sd,this.xa={},this.Oa=new Map,this.Na=fc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function _U(t,e,n=!0){return G(this,null,function*(){let r=og(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield mF(r,e,n,!0),i})}function EU(t,e){return G(this,null,function*(){let n=og(t);yield mF(n,e,!0,!1)})}function mF(t,e,n,r){return G(this,null,function*(){let i=yield pc(t.localStore,Yn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield bx(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ig(t.remoteStore,i),a})}function bx(t,e,n,r,i){return G(this,null,function*(){t.Ba=(f,g,x)=>function(N,V,z,ee){return G(this,null,function*(){let R=V.view.da(z);R.Xi&&(R=yield Nm(N.localStore,V.query,!1).then(({documents:S})=>V.view.da(S,R)));let Z=ee&&ee.targetChanges.get(V.targetId),Ee=ee&&ee.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(R,N.isPrimaryClient,Z,Ee);return Bw(N,V.targetId,fe.fa),fe.snapshot})}(t,f,g,x);let o=yield Nm(t.localStore,e,!0),s=new Hm(e,o.hs),a=s.da(o.documents),l=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);Bw(t,n,u.fa);let d=new kw(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function wU(t,e,n){return G(this,null,function*(){let r=ue(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Ld(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gc(r.remoteStore,i.targetId),vc(r,i.targetId)}).catch(ds))):(vc(r,i.targetId),yield mc(r.localStore,i.targetId,!0))})}function xU(t,e){return G(this,null,function*(){let n=ue(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gc(n.remoteStore,r.targetId))})}function CU(t,e,n){return G(this,null,function*(){let r=Sx(t);try{let i=yield function(s,a){let l=ue(s),u=jt.now(),d=a.reduce((x,P)=>x.add(P.key),je()),f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=or(),N=je();return l.os.getEntries(x,d).next(V=>{P=V,P.forEach((z,ee)=>{ee.isValidDocument()||(N=N.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,P)).next(V=>{f=V;let z=[];for(let ee of a){let R=V9(ee,f.get(ee.key).overlayedDocument);R!=null&&z.push(new ni(ee.key,R,dM(R.value.mapValue),Gt.exists(!0)))}return l.mutationQueue.addMutationBatch(x,u,z,a)}).next(V=>{g=V;let z=V.applyToLocalDocumentSet(f,N);return l.documentOverlayCache.saveOverlays(x,V.batchId,z)})}).then(()=>({batchId:g.batchId,changes:xM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Pt(Ve)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ho(r,i.changes),yield Dc(r.remoteStore)}catch(i){let o=Ac(i,"Failed to persist write");n.reject(o)}})}function gF(t,e){return G(this,null,function*(){let n=ue(t);try{let r=yield nU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Ce(s.wa):i.removedDocuments.size>0&&(Ce(s.wa),s.wa=!1))}),yield ho(n,r,e)}catch(r){yield ds(r)}})}function U1(t,e,n){let r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=ue(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(u=!0)}),u&&Cx(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bU(t,e,n){return G(this,null,function*(){let r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Pt(ce.comparator);s=s.insert(o,ln.newNoDocument(o,Me.min()));let a=je().add(o),l=new Cd(Me.min(),new Map,new Pt(Ve),s,a);yield gF(r,l),r.va=r.va.remove(o),r.Fa.delete(e),Ax(r)}else yield mc(r.localStore,e,!1).then(()=>vc(r,e,n)).catch(ds)})}function DU(t,e){return G(this,null,function*(){let n=ue(t),r=e.batch.batchId;try{let i=yield tU(n.localStore,e);Ix(n,r,null),Dx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ho(n,i)}catch(i){yield ds(i)}})}function IU(t,e,n){return G(this,null,function*(){let r=ue(t);try{let i=yield function(s,a){let l=ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ce(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Ix(r,e,n),Dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ho(r,i)}catch(i){yield ds(i)}})}function AU(t,e){return G(this,null,function*(){let n=ue(t);fs(n.remoteStore)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=ue(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();let i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){let i=Ac(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function Dx(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Ix(t,e,n){let r=ue(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function vc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||yF(t,r)})}function yF(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(gc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Ax(t))}function Bw(t,e,n){for(let r of n)r instanceof zm?(t.Ma.addReference(r.key,e),SU(t,r)):r instanceof Gm?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||yF(t,r.key)):me()}function SU(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Ax(t))}function Ax(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new ce(ct.fromString(e)),r=t.Na.next();t.Fa.set(r,new Vw(n)),t.va=t.va.insert(n,r),ig(t.remoteStore,new hc(Yn(Cc(n.path)),r,"TargetPurposeLimboResolution",hr.oe))}}function ho(t,e,n){return G(this,null,function*(){let r=ue(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let d=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);let d=yw.Ki(l.targetId,u);o.push(d)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(l,u){return G(this,null,function*(){let d=ue(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.qi,x=>d.persistence.referenceDelegate.addReference(f,g.targetId,x)).next(()=>U.forEach(g.Qi,x=>d.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))}catch(f){if(!hs(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let x=d.ns.get(g),P=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(P);d.ns=d.ns.insert(g,N)}}})}(r.localStore,o))})}function TU(t,e){return G(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let r=yield nF(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Q(q.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ho(n,r.us)}})}function MU(t,e){let n=ue(t),r=n.Fa.get(e);if(r&&r.wa)return je().add(r.key);{let i=je(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function FU(t,e){return G(this,null,function*(){let n=ue(t),r=yield Nm(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Bw(n,e.targetId,i.fa),i})}function PU(t,e){return G(this,null,function*(){let n=ue(t);return sF(n.localStore,e).then(r=>ho(n,r))})}function RU(t,e,n,r){return G(this,null,function*(){let i=ue(t),o=yield function(a,l){let u=ue(a),d=ue(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,l).next(g=>g?u.localDocuments.getDocuments(f,g):U.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield Dc(i.remoteStore):n==="acknowledged"||n==="rejected"?(Ix(i,e,r||null),Dx(i,e),function(a,l){ue(ue(a).mutationQueue).Mn(l)}(i.localStore,e)):me(),yield ho(i,o)):J("SyncEngine","Cannot apply mutation batch with id: "+e)})}function NU(t,e){return G(this,null,function*(){let n=ue(t);if(og(n),Sx(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield $1(n,r.toArray());n.La=!0,yield Tw(n.remoteStore,!0);for(let o of i)ig(n.remoteStore,o)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(vc(n,s),mc(n.localStore,s,!0))),gc(n.remoteStore,s)}),yield i,yield $1(n,r),function(s){let a=ue(s);a.Fa.forEach((l,u)=>{gc(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new Pt(ce.comparator)}(n),n.La=!1,yield Tw(n.remoteStore,!1)}})}function $1(t,e,n){return G(this,null,function*(){let r=ue(t),i=[],o=[];for(let s of e){let a,l=r.Da.get(s);if(l&&l.length!==0){a=yield pc(r.localStore,Yn(l[0]));for(let u of l){let d=r.ba.get(u),f=yield FU(r,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield oF(r.localStore,s);a=yield pc(r.localStore,u),yield bx(r,vF(u),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})}function vF(t){return yM(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function OU(t){return function(n){return ue(ue(n).persistence).Bi()}(ue(t).localStore)}function kU(t,e,n,r){return G(this,null,function*(){let i=ue(t);if(i.La)return void J("SyncEngine","Ignoring unexpected query state notification.");let o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield sF(i.localStore,_M(o[0])),a=Cd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",En.EMPTY_BYTE_STRING);yield ho(i,s,a);break}case"rejected":yield mc(i.localStore,e,!0),vc(i,e,r);break;default:me()}})}function VU(t,e,n){return G(this,null,function*(){let r=og(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){J("SyncEngine","Adding an already active target "+i);continue}let o=yield oF(r.localStore,i),s=yield pc(r.localStore,o);yield bx(r,vF(o),s.targetId,!1,s.resumeToken),ig(r.remoteStore,s)}for(let i of n)r.Da.has(i)&&(yield mc(r.localStore,i,!1).then(()=>{gc(r.remoteStore,i),vc(r,i)}).catch(ds))}})}function og(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bU.bind(null,e),e.Sa.h_=yU.bind(null,e.eventManager),e.Sa.ka=vU.bind(null,e.eventManager),e}function Sx(t){let e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IU.bind(null,e),e}function LU(t,e,n){let r=ue(t);(function(o,s,a){return G(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(x,P){let N=ue(x),V=Jt(P.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",z=>N.$r.getBundleMetadata(z,P.id)).then(z=>!!z&&z.createTime.compareTo(V)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(x){return{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(pF(l));let u=new Ow(l,o.localStore,s.serializer),d=yield s.qa();for(;d;){let g=yield u._a(d);g&&a._updateProgress(g),d=yield s.qa()}let f=yield u.complete();return yield ho(o,f.ca,void 0),yield function(x,P){let N=ue(x);return N.persistence.runTransaction("Save bundle","readwrite",V=>N.$r.saveBundleMetadata(V,P))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return Fr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Pd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return G(this,null,function*(){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tF(this.persistence,new Rm,e.initialUser,this.serializer)}createPersistence(e){return new Fm(Pm.Hr,this.serializer)}createSharedClientState(e){return new Vm}terminate(){return G(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Wm=class t extends Pd{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return G(this,null,function*(){yield fy(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield Sx(this.Qa.syncEngine),yield Dc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return tF(this.persistence,new Rm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new nw(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new EE(n,this.persistence);return new _E(e.asyncQueue,r)}createPersistence(e){let n=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new gw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,lF(),om(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vm}},jw=class t extends Wm{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return G(this,null,function*(){yield fy(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof fd&&(this.sharedClientState.syncEngine={Zs:RU.bind(null,n),Xs:kU.bind(null,n),eo:VU.bind(null,n),Bi:OU.bind(null,n),Ys:PU.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>G(this,null,function*(){yield NU(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=lF();if(!fd.D(n))throw new Q(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fd(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Rd=class{initialize(e,n){return G(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TU.bind(null,this.syncEngine),yield Tw(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Pw}()}createDatastore(e){let n=jd(e.databaseInfo.databaseId),r=function(o){return new Cw(o)}(e.databaseInfo);return function(o,s,a,l){return new Iw(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Sw(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>U1(this.syncEngine,n,0),function(){return Lm.D()?new Lm:new ww}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){let f=new Lw(i,o,s,a,l,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return G(this,null,function*(){var e;yield function(r){return G(this,null,function*(){let i=ue(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield bc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function q1(t,e=10240){let n=0;return{read(){return G(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return G(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var _c=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Uw=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new an,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){return G(this,null,function*(){return this.metadata.promise})}qa(){return G(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return G(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);let i=yield this.Ha(r);return new Nw(JSON.parse(i),e.length+r)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return G(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return G(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return G(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var $w=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return G(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,o){return G(this,null,function*(){let s=ue(i),a={documents:o.map(f=>Dd(s.serializer,f))},l=yield s.xo("BatchGetDocuments",s.serializer.databaseId,ct.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{let g=q9(s.serializer,f);u.set(g.key.toString(),g)});let d=[];return o.forEach(f=>{let g=u.get(f.toString());Ce(!!g),d.push(g)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return G(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=ce.fromPath(r);this.mutations.push(new Ed(i,this.precondition(i)))}),yield function(r,i){return G(this,null,function*(){let o=ue(r),s={writes:i.map(a=>Id(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,ct.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw me();n=Me.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Me.min())?Gt.exists(!1):Gt.updateTime(n):Gt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Me.min()))throw new Q(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gt.updateTime(n)}return Gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var qw=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new Md(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>G(this,null,function*(){let e=new $w(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})}))}tu(e){try{let n=this.updateFunction(e);return!kd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!RM(n)}return!1}};var zw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>G(this,null,function*(){J("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>G(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ac(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sm(t,e){return G(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>G(this,null,function*(){r.isEqual(i)||(yield nF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Gw(t,e){return G(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Tx(t);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B1(e.remoteStore,i)),t._onlineComponents=e})}function _F(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Tx(t){return G(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!_F(n))throw n;Fr("Error using user provided cache. Falling back to memory cache: "+n),yield sm(t,new Pd)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield sm(t,new Pd);return t._offlineComponents})}function sg(t){return G(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gw(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield Gw(t,new Rd))),t._onlineComponents})}function EF(t){return Tx(t).then(e=>e.persistence)}function Mx(t){return Tx(t).then(e=>e.localStore)}function wF(t){return sg(t).then(e=>e.remoteStore)}function Fx(t){return sg(t).then(e=>e.syncEngine)}function BU(t){return sg(t).then(e=>e.datastore)}function Ec(t){return G(this,null,function*(){let e=yield sg(t),n=e.eventManager;return n.onListen=_U.bind(null,e.syncEngine),n.onUnlisten=wU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xU.bind(null,e.syncEngine),n})}function jU(t){return t.asyncQueue.enqueue(()=>G(this,null,function*(){let e=yield EF(t),n=yield wF(t);return e.setNetworkEnabled(!0),function(i){let o=ue(i);return o.M_.delete(0),Ud(o)}(n)}))}function UU(t){return t.asyncQueue.enqueue(()=>G(this,null,function*(){let e=yield EF(t),n=yield wF(t);return e.setNetworkEnabled(!1),function(i){return G(this,null,function*(){let o=ue(i);o.M_.add(0),yield bc(o),o.N_.set("Offline")})}(n)}))}function $U(t,e){let n=new an;return t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(i,o,s){return G(this,null,function*(){try{let a=yield function(u,d){let f=ue(u);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new Q(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Ac(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield Mx(t),e,n)})),n.promise}function xF(t,e,n={}){let r=new an;return t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(o,s,a,l,u){let d=new _c({next:g=>{s.enqueueAndForget(()=>xx(o,f));let x=g.docs.has(a);!x&&g.fromCache?u.reject(new Q(q.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&l&&l.source==="server"?u.reject(new Q(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Fd(Cc(a.path),d,{includeMetadataChanges:!0,ra:!0});return wx(o,f)}(yield Ec(t),t.asyncQueue,e,n,r)})),r.promise}function qU(t,e){let n=new an;return t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(i,o,s){return G(this,null,function*(){try{let a=yield Nm(i,o,!0),l=new Hm(o,a.hs),u=l.da(a.documents),d=l.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let l=Ac(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield Mx(t),e,n)})),n.promise}function CF(t,e,n={}){let r=new an;return t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(o,s,a,l,u){let d=new _c({next:g=>{s.enqueueAndForget(()=>xx(o,f)),g.fromCache&&l.source==="server"?u.reject(new Q(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Fd(a,d,{includeMetadataChanges:!0,ra:!0});return wx(o,f)}(yield Ec(t),t.asyncQueue,e,n,r)})),r.promise}function zU(t,e){let n=new _c(e);return t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(i,o){ue(i).z_.add(o),o.next()}(yield Ec(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(i,o){ue(i).z_.delete(o)}(yield Ec(t),n)}))}}function GU(t,e,n,r){let i=function(s,a){let l;return l=typeof s=="string"?OM().encode(s):s,function(d,f){return new Uw(d,f)}(function(d,f){if(d instanceof Uint8Array)return q1(d,f);if(d instanceof ArrayBuffer)return q1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,jd(e));t.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){LU(yield Fx(t),i,r)}))}function HU(t,e){return t.asyncQueue.enqueue(()=>G(this,null,function*(){return function(r,i){let o=ue(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Mx(t),e)}))}function bF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var z1=new Map;function Px(t,e,n){if(!n)throw new Q(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rx(t,e,n,r){if(e===!0&&r===!0)throw new Q(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G1(t){if(!ce.isDocumentKey(t))throw new Q(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H1(t){if(ce.isDocumentKey(t))throw new Q(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function ut(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ag(t);throw new Q(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DF(t,e){if(e<=0)throw new Q(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Km=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ya=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cE;switch(r.type){case"firstParty":return new fE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=z1.get(n);r&&(J("ComponentProvider","Removing Datastore"),z1.delete(n),r.terminate())}(this),Promise.resolve()}};function IF(t,e,n,r={}){var i;let o=(t=ut(t,ya))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=sn.MOCK_USER;else{a=Vb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(u)}t._authCredentials=new uE(new am(a,l))}}var bn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},St=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ri=class t extends bn{constructor(e,n,r){super(e,n,Cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ce(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Nx(t,e,...n){if(t=kt(t),Px("collection","path",e),t instanceof ya){let r=ct.fromString(e,...n);return H1(r),new Ri(t,null,r)}{if(!(t instanceof St||t instanceof Ri))throw new Q(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ct.fromString(e,...n));return H1(r),new Ri(t.firestore,null,r)}}function AF(t,e){if(t=ut(t,ya),Px("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bn(t,null,function(r){return new ti(ct.emptyPath(),r)}(e))}function $d(t,e,...n){if(t=kt(t),arguments.length===1&&(e=lm.newId()),Px("doc","path",e),t instanceof ya){let r=ct.fromString(e,...n);return G1(r),new St(t,null,new ce(r))}{if(!(t instanceof St||t instanceof Ri))throw new Q(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ct.fromString(e,...n));return G1(r),new St(t.firestore,t instanceof Ri?t.converter:null,new ce(r))}}function Ox(t,e){return t=kt(t),e=kt(e),(t instanceof St||t instanceof Ri)&&(e instanceof St||e instanceof Ri)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function kx(t,e){return t=kt(t),e=kt(e),t instanceof bn&&e instanceof bn&&t.firestore===e.firestore&&Ld(t._query,e._query)&&t.converter===e.converter}var Hw=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Md(this,"async_queue_retry"),this.hu=()=>{let n=om();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new an;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return G(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!hs(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Mw.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&me()}verifyOperationInProgress(){}du(){return G(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Ww(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Kw=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new an,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var SF=-1,Ot=class extends ya{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Hw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||TF(this),this._firestoreClient.terminate()}};function fn(t){return t._firestoreClient||TF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TF(t){var e,n,r;let i=t._freezeSettings(),o=function(a,l,u,d){return new wE(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bF(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zw(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function MF(t,e){BF(t=ut(t,Ot));let n=fn(t);if(n._uninitializedComponentsProvider)throw new Q(q.FAILED_PRECONDITION,"SDK cache is already specified.");Fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new Rd;return PF(n,i,new Wm(i,r.cacheSizeBytes,e?.forceOwnership))}function FF(t){BF(t=ut(t,Ot));let e=fn(t);if(e._uninitializedComponentsProvider)throw new Q(q.FAILED_PRECONDITION,"SDK cache is already specified.");Fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new Rd;return PF(e,r,new jw(r,n.cacheSizeBytes))}function PF(t,e,n){let r=new an;return t.asyncQueue.enqueue(()=>G(this,null,function*(){try{yield sm(t,n),yield Gw(t,e),r.resolve()}catch(i){let o=i;if(!_F(o))throw o;Fr("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function RF(t){if(t._initialized&&!t._terminated)throw new Q(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new an;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>G(this,null,function*(){try{yield function(r){return G(this,null,function*(){if(!ns.D())return Promise.resolve();let i=r+"main";yield ns.delete(i)})}(yx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function NF(t){return function(n){let r=new an;return n.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return AU(yield Fx(n),r)})),r.promise}(fn(t=ut(t,Ot)))}function OF(t){return jU(fn(t=ut(t,Ot)))}function kF(t){return UU(fn(t=ut(t,Ot)))}function VF(t,e){let n=fn(t=ut(t,Ot)),r=new Kw;return GU(n,t._databaseId,e,r),r}function LF(t,e){return HU(fn(t=ut(t,Ot)),e).then(n=>n?new bn(t,null,n.query):null)}function BF(t){if(t._initialized||t._terminated)throw new Q(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(En.fromBase64String(e))}catch(n){throw new Q(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ri=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var co=class{constructor(e){this._methodName=e}};var va=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}};var WU=/^__.*__$/,Qw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new ls(e,this.data,n,this.fieldTransforms)}},Qm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function jF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}var Ym=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Jm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(jF(this.fu)&&WU.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Yw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}Fu(e,n,r,i=!1){return new Ym({fu:e,methodName:n,vu:r,path:Yt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xa(t){let e=t._freezeSettings(),n=jd(t._databaseId);return new Yw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lg(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Bx("Data must be an object, but it was:",s,r);let a=qF(r,s),l,u;if(o.merge)l=new fr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=tx(e,f,n);if(!s.contains(g))throw new Q(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);GF(d,g)||d.push(g)}l=new fr(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Qw(new Vn(a),l,u)}var Nd=class t extends co{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function UF(t,e,n){return new Ym({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Jw=class t extends co{_toFieldTransform(e){return new pa(e.path,new ss)}isEqual(e){return e instanceof t}},Zw=class t extends co{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=UF(this,e,!0),r=this.Mu.map(o=>Ca(o,n)),i=new ao(r);return new pa(e.path,i)}isEqual(e){return e instanceof t&&gy(this.Mu,e.Mu)}},Xw=class t extends co{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=UF(this,e,!0),r=this.Mu.map(o=>Ca(o,n)),i=new lo(r);return new pa(e.path,i)}isEqual(e){return e instanceof t&&gy(this.Mu,e.Mu)}},ex=class t extends co{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new as(e.serializer,IM(e.serializer,this.xu));return new pa(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function Vx(t,e,n,r){let i=t.Fu(1,e,n);Bx("Data must be an object, but it was:",i,r);let o=[],s=Vn.empty();wa(r,(l,u)=>{let d=jx(e,l,n);u=kt(u);let f=i.Su(d);if(u instanceof Nd)o.push(d);else{let g=Ca(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new fr(o);return new Qm(s,a,i.fieldTransforms)}function Lx(t,e,n,r,i,o){let s=t.Fu(1,e,n),a=[tx(e,r,n)],l=[i];if(o.length%2!=0)throw new Q(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(tx(e,o[g])),l.push(o[g+1]);let u=[],d=Vn.empty();for(let g=a.length-1;g>=0;--g)if(!GF(u,a[g])){let x=a[g],P=l[g];P=kt(P);let N=s.Su(x);if(P instanceof Nd)u.push(x);else{let V=Ca(P,N);V!=null&&(u.push(x),d.set(x,V))}}let f=new fr(u);return new Qm(d,f,s.fieldTransforms)}function $F(t,e,n,r=!1){return Ca(n,t.Fu(r?4:3,e))}function Ca(t,e){if(zF(t=kt(t)))return Bx("Unsupported field value:",e,t),qF(t,e);if(t instanceof co)return function(r,i){if(!jF(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Ca(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=jt.fromDate(r);return{timestampValue:dc(i.serializer,o)}}if(r instanceof jt){let o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(i.serializer,o)}}if(r instanceof va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vi)return{bytesValue:kM(i.serializer,r._byteString)};if(r instanceof St){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:px(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${ag(r)}`)}(t,e)}function qF(t,e){let n={};return lM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,i)=>{let o=Ca(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof va||t instanceof Vi||t instanceof St||t instanceof co)}function Bx(t,e,n){if(!zF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ag(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function tx(t,e,n){if((e=kt(e))instanceof ri)return e._internalPath;if(typeof e=="string")return jx(t,e);throw Jm("Field path arguments must be of type string or ",t,!1,void 0,n)}var KU=new RegExp("[~\\*/\\[\\]]");function jx(t,e,n){if(e.search(KU)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ri(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Q(q.INVALID_ARGUMENT,a+t+l)}function GF(t,e){return t.some(n=>n.isEqual(e))}var _a=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nx=class extends _a{data(){return super.data()}};function cg(t,e){return typeof e=="string"?jx(t,e):e instanceof ri?e._internalPath:e._delegate._internalPath}function HF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Od=class{},Ea=class extends Od{};function fo(t,e,...n){let r=[];e instanceof Od&&r.push(e),r=r.concat(n),function(o){let s=o.filter(l=>l instanceof rx).length,a=o.filter(l=>l instanceof Zm).length;if(s>1||s>0&&a>0)throw new Q(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Zm=class t extends Ea{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return nP(e._query,n),new bn(e.firestore,e.converter,NE(e._query,n))}_parse(e){let n=xa(e.firestore);return function(o,s,a,l,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){K1(f,d);let x=[];for(let P of f)x.push(W1(l,o,P));g={arrayValue:{values:x}}}else g=W1(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||K1(f,d),g=$F(a,s,f,d==="in"||d==="not-in");return st.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function WF(t,e,n){let r=e,i=cg("where",t);return Zm._create(i,r,n)}var rx=class t extends Od{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_t.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)nP(s,l),s=NE(s,l)}(e._query,n),new bn(e.firestore,e.converter,NE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ix=class t extends Ea{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new Q(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ha(o,s)}(e._query,this._field,this._direction);return new bn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ti(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function KF(t,e="asc"){let n=e,r=cg("orderBy",t);return ix._create(r,n)}var Xm=class t extends Ea{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new bn(e.firestore,e.converter,vm(e._query,this._limit,this._limitType))}};function QF(t){return DF("limit",t),Xm._create("limit",t,"F")}function YF(t){return DF("limitToLast",t),Xm._create("limitToLast",t,"L")}var eg=class t extends Ea{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=tP(e,this.type,this._docOrFields,this._inclusive);return new bn(e.firestore,e.converter,function(i,o){return new ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function JF(...t){return eg._create("startAt",t,!0)}function ZF(...t){return eg._create("startAfter",t,!1)}var tg=class t extends Ea{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=tP(e,this.type,this._docOrFields,this._inclusive);return new bn(e.firestore,e.converter,function(i,o){return new ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function XF(...t){return tg._create("endBefore",t,!1)}function eP(...t){return tg._create("endAt",t,!0)}function tP(t,e,n,r){if(n[0]=kt(n[0]),n[0]instanceof _a)return function(o,s,a,l,u){if(!l)throw new Q(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of rc(o))if(f.field.isKeyField())d.push(da(s,l.key));else{let g=l.data.field(f.field);if(rg(g))throw new Q(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let x=f.field.canonicalString();throw new Q(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(g)}return new Oi(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=xa(t.firestore);return function(s,a,l,u,d,f){let g=s.explicitOrderBy;if(d.length>g.length)throw new Q(q.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let x=[];for(let P=0;P<d.length;P++){let N=d[P];if(g[P].field.isKeyField()){if(typeof N!="string")throw new Q(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof N}`);if(!hx(s)&&N.indexOf("/")!==-1)throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${N}' contains a slash.`);let V=s.path.child(ct.fromString(N));if(!ce.isDocumentKey(V))throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);let z=new ce(V);x.push(da(a,z))}else{let V=$F(l,u,N);x.push(V)}}return new Oi(x,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function W1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new Q(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hx(e)&&n.indexOf("/")!==-1)throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ct.fromString(n));if(!ce.isDocumentKey(r))throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return da(t,new ce(r))}if(n instanceof St)return da(t,n._key);throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(n)}.`)}function K1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nP(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var wc=class{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return wa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new va(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ux(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){let n=so(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ct.fromString(e);Ce(WM(r));let i=new is(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||Qt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function ug(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ox=class extends wc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}};var oo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rr=class extends _a{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},es=class extends Rr{data(e={}){return super.data(e)}},ii=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new es(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:QU(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function QU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}function Ux(t,e){return t instanceof Rr&&e instanceof Rr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ii&&e instanceof ii&&t._firestore===e._firestore&&kx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function rP(t){t=ut(t,St);let e=ut(t.firestore,Ot);return xF(fn(e),t._key).then(n=>Gx(e,t,n))}var uo=class extends wc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}};function iP(t){t=ut(t,St);let e=ut(t.firestore,Ot),n=fn(e),r=new uo(e);return $U(n,t._key).then(i=>new Rr(e,r,t._key,i,new oo(i!==null&&i.hasLocalMutations,!0),t.converter))}function oP(t){t=ut(t,St);let e=ut(t.firestore,Ot);return xF(fn(e),t._key,{source:"server"}).then(n=>Gx(e,t,n))}function sP(t){t=ut(t,bn);let e=ut(t.firestore,Ot),n=fn(e),r=new uo(e);return HF(t._query),CF(n,t._query).then(i=>new ii(e,r,t,i))}function aP(t){t=ut(t,bn);let e=ut(t.firestore,Ot),n=fn(e),r=new uo(e);return qU(n,t._query).then(i=>new ii(e,r,t,i))}function lP(t){t=ut(t,bn);let e=ut(t.firestore,Ot),n=fn(e),r=new uo(e);return CF(n,t._query,{source:"server"}).then(i=>new ii(e,r,t,i))}function $x(t,e,n){t=ut(t,St);let r=ut(t.firestore,Ot),i=ug(t.converter,e,n);return Sc(r,[lg(xa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gt.none())])}function qx(t,e,n,...r){t=ut(t,St);let i=ut(t.firestore,Ot),o=xa(i),s;return s=typeof(e=kt(e))=="string"||e instanceof ri?Lx(o,"updateDoc",t._key,e,n,r):Vx(o,"updateDoc",t._key,e),Sc(i,[s.toMutation(t._key,Gt.exists(!0))])}function cP(t){return Sc(ut(t.firestore,Ot),[new cs(t._key,Gt.none())])}function uP(t,e){let n=ut(t.firestore,Ot),r=$d(t),i=ug(t.converter,e);return Sc(n,[lg(xa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gt.exists(!1))]).then(()=>r)}function zx(t,...e){var n,r,i;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ww(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ww(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof St)u=ut(t.firestore,Ot),d=Cc(t._key.path),l={next:f=>{e[s]&&e[s](Gx(u,t,f))},error:e[s+1],complete:e[s+2]};else{let f=ut(t,bn);u=ut(f.firestore,Ot),d=f._query;let g=new uo(u);l={next:x=>{e[s]&&e[s](new ii(u,g,f,x))},error:e[s+1],complete:e[s+2]},HF(t._query)}return function(g,x,P,N){let V=new _c(N),z=new Fd(x,V,P);return g.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return wx(yield Ec(g),z)})),()=>{V.$a(),g.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return xx(yield Ec(g),z)}))}}(fn(u),d,a,l)}function dP(t,e){return zU(fn(t=ut(t,Ot)),Ww(e)?e:{next:e})}function Sc(t,e){return function(r,i){let o=new an;return r.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return CU(yield Fx(r),i,o)})),o.promise}(fn(t),e)}function Gx(t,e,n){let r=n.docs.get(e._key),i=new uo(t);return new Rr(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}var YU={maxAttempts:5};var ng=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xa(e)}set(e,n,r){this._verifyNotCommitted();let i=Zo(e,this._firestore),o=ug(i.converter,n,r),s=lg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=Zo(e,this._firestore),s;return s=typeof(n=kt(n))=="string"||n instanceof ri?Lx(this._dataReader,"WriteBatch.update",o._key,n,r,i):Vx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Gt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Zo(e,this._firestore);return this._mutations=this._mutations.concat(new cs(n._key,Gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Zo(t,e){if((t=kt(t)).firestore!==e)throw new Q(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var sx=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=xa(n)}get(n){let r=Zo(n,this._firestore),i=new ox(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return me();let s=o[0];if(s.isFoundDocument())return new _a(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new _a(this._firestore,i,r._key,null,r.converter);throw me()})}set(n,r,i){let o=Zo(n,this._firestore),s=ug(o.converter,r,i),a=lg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=Zo(n,this._firestore),a;return a=typeof(r=kt(r))=="string"||r instanceof ri?Lx(this._dataReader,"Transaction.update",s._key,r,i,o):Vx(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=Zo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Zo(e,this._firestore),r=new uo(this._firestore);return super.get(e).then(i=>new Rr(this._firestore,r,n._key,i._document,new oo(!1,!1),n.converter))}};function hP(t,e,n){t=ut(t,Ot);let r=Object.assign(Object.assign({},YU),n);return function(o){if(o.maxAttempts<1)throw new Q(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let l=new an;return o.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){let u=yield BU(o);new qw(o.asyncQueue,u,a,s,l).Xa()})),l.promise}(fn(t),i=>e(new sx(t,i)),r)}function fP(){return new Nd("deleteField")}function pP(){return new Jw("serverTimestamp")}function mP(...t){return new Zw("arrayUnion",t)}function gP(...t){return new Xw("arrayRemove",t)}function yP(t){return new ex("increment",t)}(function(e,n=!0){(function(i){xc=i})(jb),tu(new Fs("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ot(new dE(r.getProvider("auth-internal")),new mE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Io(QT,"4.6.3",e),Io(QT,"4.6.3","esm2017")})();var JU="@firebase/firestore-compat",ZU="0.3.32";function Jx(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function vP(){if(typeof Uint8Array>"u")throw new Q("unimplemented","Uint8Arrays are not available in this environment.")}function _P(){if(!cM())throw new Q("unimplemented","Blobs are unavailable in Firestore in this environment.")}var dg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return _P(),new t(Vi.fromBase64String(e))}static fromUint8Array(e){return vP(),new t(Vi.fromUint8Array(e))}toBase64(){return _P(),this._delegate.toBase64()}toUint8Array(){return vP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Hx(t){return XU(t,["next","error","complete"])}function XU(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var Wx=class{enableIndexedDbPersistence(e,n){return MF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return FF(e._delegate)}clearIndexedDbPersistence(e){return RF(e._delegate)}},hg=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof is||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){IF(this._delegate,e,n,r)}enableNetwork(){return OF(this._delegate)}disableNetwork(){return kF(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Rx("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return NF(this._delegate)}onSnapshotsInSync(e){return dP(this._delegate,e)}get app(){if(!this._appCompat)throw new Q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fc(this,Nx(this._delegate,e))}catch(n){throw Jn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Li(this,$d(this._delegate,e))}catch(n){throw Jn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Aa(this,AF(this._delegate,e))}catch(n){throw Jn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return hP(this._delegate,n=>e(new fg(this,n)))}batch(){return fn(this._delegate),new pg(new ng(this._delegate,e=>Sc(this._delegate,e)))}loadBundle(e){return VF(this._delegate,e)}namedQuery(e){return LF(this._delegate,e).then(n=>n?new Aa(this,n):null)}},Tc=class extends wc{constructor(e){super(),this.firestore=e}convertBytes(e){return new dg(new Vi(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Li.forKey(n,this.firestore,null)}};function e7(t){Q1(t)}var fg=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Tc(e)}get(e){let n=ba(e);return this._delegate.get(n).then(r=>new Da(this._firestore,new Rr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=ba(e);return r?(Jx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=ba(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=ba(e);return this._delegate.delete(n),this}},pg=class{constructor(e){this._delegate=e}set(e,n,r){let i=ba(e);return r?(Jx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=ba(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=ba(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Mc=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new es(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ia(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new Tc(e),n),i.set(n,o)),o}};Mc.INSTANCES=new WeakMap;var Li=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tc(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new St(n._delegate,r,new ce(e)))}static forKey(e,n,r){return new t(n,new St(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fc(this.firestore,Nx(this._delegate,e))}catch(n){throw Jn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=kt(e),e instanceof St?Ox(this._delegate,e):!1}set(e,n){n=Jx("DocumentReference.set",n);try{return n?$x(this._delegate,e,n):$x(this._delegate,e)}catch(r){throw Jn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?qx(this._delegate,e):qx(this._delegate,e,n,...r)}catch(i){throw Jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return cP(this._delegate)}onSnapshot(...e){let n=EP(e),r=wP(e,i=>new Da(this.firestore,new Rr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zx(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=iP(this._delegate):e?.source==="server"?n=oP(this._delegate):n=rP(this._delegate),n.then(r=>new Da(this.firestore,new Rr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Jn(t,e,n){return t.message=t.message.replace(e,n),t}function EP(t){for(let e of t)if(typeof e=="object"&&!Hx(e))return e;return{}}function wP(t,e){var n,r;let i;return Hx(t[0])?i=t[0]:Hx(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Da=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Ux(this._delegate,e._delegate)}},Ia=class extends Da{data(e){let n=this._delegate.data(e);return this._delegate._converter||Y1(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Aa=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tc(e)}where(e,n,r){try{return new t(this.firestore,fo(this._delegate,WF(e,n,r)))}catch(i){throw Jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,fo(this._delegate,KF(e,n)))}catch(r){throw Jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,fo(this._delegate,QF(e)))}catch(n){throw Jn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,fo(this._delegate,YF(e)))}catch(n){throw Jn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,fo(this._delegate,JF(...e)))}catch(n){throw Jn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,fo(this._delegate,ZF(...e)))}catch(n){throw Jn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,fo(this._delegate,XF(...e)))}catch(n){throw Jn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,fo(this._delegate,eP(...e)))}catch(n){throw Jn(n,"endAt()","Query.endAt()")}}isEqual(e){return kx(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=aP(this._delegate):e?.source==="server"?n=lP(this._delegate):n=sP(this._delegate),n.then(r=>new qd(this.firestore,new ii(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=EP(e),r=wP(e,i=>new qd(this.firestore,new ii(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zx(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Kx=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ia(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},qd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ia(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Kx(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ia(this._firestore,r))})}isEqual(e){return Ux(this._delegate,e._delegate)}},Fc=class t extends Aa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Li(this.firestore,e):null}doc(e){try{return e===void 0?new Li(this.firestore,$d(this._delegate)):new Li(this.firestore,$d(this._delegate,e))}catch(n){throw Jn(n,"doc()","CollectionReference.doc()")}}add(e){return uP(this._delegate,e).then(n=>new Li(this.firestore,n))}isEqual(e){return Ox(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ba(t){return ut(t,St)}var Qx=class t{constructor(...e){this._delegate=new ri(...e)}static documentId(){return new t(Yt.keyField().canonicalString())}isEqual(e){return e=kt(e),e instanceof ri?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Yx=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=pP();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=fP();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=mP(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=gP(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=yP(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var t7={Firestore:hg,GeoPoint:va,Timestamp:jt,Blob:dg,Transaction:fg,WriteBatch:pg,DocumentReference:Li,DocumentSnapshot:Da,Query:Aa,QueryDocumentSnapshot:Ia,QuerySnapshot:qd,CollectionReference:Fc,FieldPath:Qx,FieldValue:Yx,setLogLevel:e7,CACHE_SIZE_UNLIMITED:SF};function n7(t,e){t.INTERNAL.registerComponent(new Fs("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},t7)))}function r7(t){n7(t,(e,n)=>new hg(e,n,new Wx)),t.registerVersion(JU,ZU)}r7(cr);function i7(t,e=ou){return new Ke(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function xP(t,e){return i7(t,e)}function o7(t,e){return xP(t,e).pipe(ks(void 0),au(),xe(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function eC(t,e){return xP(t,e).pipe(xe(n=>({payload:n,type:"query"})))}var mg=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=DP(r,n);return new yg(i,o,this.afs)}snapshotChanges(){return o7(this.ref,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return this.snapshotChanges().pipe(xe(({payload:n})=>e.idField?vt(de({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return $e(this.ref.get(e)).pipe(ir)}};function gg(t,e){return eC(t,e).pipe(ks(void 0),au(),xe(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function CP(t,e,n){return gg(t,n).pipe(Os((r,i)=>s7(r,i.map(o=>o.payload),e),[]),ky(),xe(r=>r.map(i=>({type:i.type,payload:i}))))}function s7(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=a7(t,r))}),t}function Zx(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function a7(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Zx(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return Zx(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zx(t,e.oldIndex,1);break}return t}function bP(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var yg=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=gg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(xe(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(ks(void 0),au(),dn(([r,i])=>i.length>0||!r),xe(([,r])=>r),ir)}auditTrail(e){return this.stateChanges(e).pipe(Os((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=bP(e);return CP(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return eC(this.query,this.afs.schedulers.outsideAngular).pipe(xe(n=>n.payload.docs.map(r=>e.idField?vt(de({},r.data()),{[e.idField]:r.id}):r.data())),ir)}get(e){return $e(this.query.get(e)).pipe(ir)}add(e){return this.ref.add(e)}doc(e){return new mg(this.ref.doc(e),this.afs)}},Xx=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?gg(this.query,this.afs.schedulers.outsideAngular).pipe(ir):gg(this.query,this.afs.schedulers.outsideAngular).pipe(xe(n=>n.filter(r=>e.indexOf(r.type)>-1)),dn(n=>n.length>0),ir)}auditTrail(e){return this.stateChanges(e).pipe(Os((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=bP(e);return CP(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return eC(this.query,this.afs.schedulers.outsideAngular).pipe(xe(r=>r.payload.docs.map(i=>e.idField?de({[e.idField]:i.id},i.data()):i.data())),ir)}get(e){return $e(this.query.get(e)).pipe(ir)}},l7=new he("angularfire2.enableFirestorePersistence"),c7=new he("angularfire2.firestore.persistenceSettings"),u7=new he("angularfire2.firestore.settings"),d7=new he("angularfire2.firestore.use-emulator");function DP(t,e=n=>n){return{query:e(t),ref:t}}var IP=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,l,u,d,f,g,x,P,N,V,z,ee){this.schedulers=l;let R=td(n,a,r),Z=d;f&&J_(R,a,g,P,N,V,x,z),[this.firestore,this.persistenceEnabled$]=Kp(`${R.name}.firestore`,"AngularFirestore",R.name,()=>{let Ee=a.runOutsideAngular(()=>R.firestore());if(o&&Ee.settings(o),Z&&Ee.useEmulator(...Z),i&&!jo(s)){let fe=()=>{try{return $e(Ee.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(S){return typeof console<"u"&&console.warn(S),Se(!1)}};return[Ee,a.runOutsideAngular(fe)]}else return[Ee,Se(!1)]},[o,Z,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=DP(i,r),a=this.schedulers.ngZone.run(()=>o);return new yg(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new Xx(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new mg(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(X(ql),X(zl,8),X(l7,8),X(u7,8),X(Nn),X(et),X(Gp),X(c7,8),X(d7,8),X(HT,8),X(G_,8),X(H_,8),X(W_,8),X(K_,8),X(Q_,8),X(Y_,8),X(ta,8))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var ps=(()=>{let e=class e{constructor(r){this.angularFirestore=r}add(r){let i=this.angularFirestore.createId();return $e(this.angularFirestore.collection("garments").doc(i).set(r))}addTopSellers(r){let i=this.angularFirestore.createId();return $e(this.angularFirestore.collection("topSellers").doc(i).set(r))}getAll(){return this.angularFirestore.collection("garments").valueChanges({idField:"id"})}getAllTopSellers(){return this.angularFirestore.collection("topSellers").valueChanges({idField:"id"})}getById(r){return this.angularFirestore.collection("garments").doc(r).valueChanges()}update(r,i){return $e(this.angularFirestore.collection("garments").doc(r).update(i))}delete(r){return $e(this.angularFirestore.collection("garments").doc(r).delete())}deleteAll(){return this.angularFirestore.collection("garments").get().pipe(xe(r=>r.docs.map(i=>i.id)),Vt(r=>{let i=r.map(o=>this.angularFirestore.collection("garments").doc(o).delete());return $e(Promise.all(i))}),xe(()=>{}))}};e.\u0275fac=function(i){return new(i||e)(X(IP))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-loader"]],decls:150,vars:0,consts:[[1,"loader"],[1,"socket"],[1,"gel","center-gel"],[1,"hex-brick","h1"],[1,"hex-brick","h2"],[1,"hex-brick","h3"],[1,"gel","c1","r1"],[1,"gel","c2","r1"],[1,"gel","c3","r1"],[1,"gel","c4","r1"],[1,"gel","c5","r1"],[1,"gel","c6","r1"],[1,"gel","c7","r2"],[1,"gel","c8","r2"],[1,"gel","c9","r2"],[1,"gel","c10","r2"],[1,"gel","c11","r2"],[1,"gel","c12","r2"],[1,"gel","c13","r2"],[1,"gel","c14","r2"],[1,"gel","c15","r2"],[1,"gel","c16","r2"],[1,"gel","c17","r2"],[1,"gel","c18","r2"],[1,"gel","c19","r3"],[1,"gel","c20","r3"],[1,"gel","c21","r3"],[1,"gel","c22","r3"],[1,"gel","c23","r3"],[1,"gel","c24","r3"],[1,"gel","c25","r3"],[1,"gel","c26","r3"],[1,"gel","c28","r3"],[1,"gel","c29","r3"],[1,"gel","c30","r3"],[1,"gel","c31","r3"],[1,"gel","c32","r3"],[1,"gel","c33","r3"],[1,"gel","c34","r3"],[1,"gel","c35","r3"],[1,"gel","c36","r3"],[1,"gel","c37","r3"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"div",3)(4,"div",4)(5,"div",5),C(),b(6,"div",6),ie(7,"div",3)(8,"div",4)(9,"div",5),C(),b(10,"div",7),ie(11,"div",3)(12,"div",4)(13,"div",5),C(),b(14,"div",8),ie(15,"div",3)(16,"div",4)(17,"div",5),C(),b(18,"div",9),ie(19,"div",3)(20,"div",4)(21,"div",5),C(),b(22,"div",10),ie(23,"div",3)(24,"div",4)(25,"div",5),C(),b(26,"div",11),ie(27,"div",3)(28,"div",4)(29,"div",5),C(),b(30,"div",12),ie(31,"div",3)(32,"div",4)(33,"div",5),C(),b(34,"div",13),ie(35,"div",3)(36,"div",4)(37,"div",5),C(),b(38,"div",14),ie(39,"div",3)(40,"div",4)(41,"div",5),C(),b(42,"div",15),ie(43,"div",3)(44,"div",4)(45,"div",5),C(),b(46,"div",16),ie(47,"div",3)(48,"div",4)(49,"div",5),C(),b(50,"div",17),ie(51,"div",3)(52,"div",4)(53,"div",5),C(),b(54,"div",18),ie(55,"div",3)(56,"div",4)(57,"div",5),C(),b(58,"div",19),ie(59,"div",3)(60,"div",4)(61,"div",5),C(),b(62,"div",20),ie(63,"div",3)(64,"div",4)(65,"div",5),C(),b(66,"div",21),ie(67,"div",3)(68,"div",4)(69,"div",5),C(),b(70,"div",22),ie(71,"div",3)(72,"div",4)(73,"div",5),C(),b(74,"div",23),ie(75,"div",3)(76,"div",4)(77,"div",5),C(),b(78,"div",24),ie(79,"div",3)(80,"div",4)(81,"div",5),C(),b(82,"div",25),ie(83,"div",3)(84,"div",4)(85,"div",5),C(),b(86,"div",26),ie(87,"div",3)(88,"div",4)(89,"div",5),C(),b(90,"div",27),ie(91,"div",3)(92,"div",4)(93,"div",5),C(),b(94,"div",28),ie(95,"div",3)(96,"div",4)(97,"div",5),C(),b(98,"div",29),ie(99,"div",3)(100,"div",4)(101,"div",5),C(),b(102,"div",30),ie(103,"div",3)(104,"div",4)(105,"div",5),C(),b(106,"div",31),ie(107,"div",3)(108,"div",4)(109,"div",5),C(),b(110,"div",32),ie(111,"div",3)(112,"div",4)(113,"div",5),C(),b(114,"div",33),ie(115,"div",3)(116,"div",4)(117,"div",5),C(),b(118,"div",34),ie(119,"div",3)(120,"div",4)(121,"div",5),C(),b(122,"div",35),ie(123,"div",3)(124,"div",4)(125,"div",5),C(),b(126,"div",36),ie(127,"div",3)(128,"div",4)(129,"div",5),C(),b(130,"div",37),ie(131,"div",3)(132,"div",4)(133,"div",5),C(),b(134,"div",38),ie(135,"div",3)(136,"div",4)(137,"div",5),C(),b(138,"div",39),ie(139,"div",3)(140,"div",4)(141,"div",5),C(),b(142,"div",40),ie(143,"div",3)(144,"div",4)(145,"div",5),C(),b(146,"div",41),ie(147,"div",3)(148,"div",4)(149,"div",5),C()()())},styles:[".socket[_ngcontent-%COMP%]{width:200px;height:200px;position:absolute;left:50%;margin-left:-100px;top:50%;margin-top:-100px}.hex-brick[_ngcontent-%COMP%]{background:#000;width:30px;height:17px;position:absolute;top:5px;animation-name:_ngcontent-%COMP%_fade00;animation-duration:2s;animation-iteration-count:infinite;-webkit-animation-name:_ngcontent-%COMP%_fade00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite}.h2[_ngcontent-%COMP%]{transform:rotate(60deg);-webkit-transform:rotate(60deg)}.h3[_ngcontent-%COMP%]{transform:rotate(-60deg);-webkit-transform:rotate(-60deg)}.gel[_ngcontent-%COMP%]{height:30px;width:30px;transition:all .3s;-webkit-transition:all .3s;position:absolute;top:50%;left:50%}.center-gel[_ngcontent-%COMP%]{margin-left:-15px;margin-top:-15px;animation-name:_ngcontent-%COMP%_pulse00;animation-duration:2s;animation-iteration-count:infinite;-webkit-animation-name:_ngcontent-%COMP%_pulse00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite}.c1[_ngcontent-%COMP%]{margin-left:-47px;margin-top:-15px}.c2[_ngcontent-%COMP%]{margin-left:-31px;margin-top:-43px}.c3[_ngcontent-%COMP%]{margin-left:1px;margin-top:-43px}.c4[_ngcontent-%COMP%]{margin-left:17px;margin-top:-15px}.c5[_ngcontent-%COMP%]{margin-left:-31px;margin-top:13px}.c6[_ngcontent-%COMP%]{margin-left:1px;margin-top:13px}.c7[_ngcontent-%COMP%]{margin-left:-63px;margin-top:-43px}.c8[_ngcontent-%COMP%]{margin-left:33px;margin-top:-43px}.c9[_ngcontent-%COMP%]{margin-left:-15px;margin-top:41px}.c10[_ngcontent-%COMP%]{margin-left:-63px;margin-top:13px}.c11[_ngcontent-%COMP%]{margin-left:33px;margin-top:13px}.c12[_ngcontent-%COMP%]{margin-left:-15px;margin-top:-71px}.c13[_ngcontent-%COMP%]{margin-left:-47px;margin-top:-71px}.c14[_ngcontent-%COMP%]{margin-left:17px;margin-top:-71px}.c15[_ngcontent-%COMP%]{margin-left:-47px;margin-top:41px}.c16[_ngcontent-%COMP%]{margin-left:17px;margin-top:41px}.c17[_ngcontent-%COMP%]{margin-left:-79px;margin-top:-15px}.c18[_ngcontent-%COMP%]{margin-left:49px;margin-top:-15px}.c19[_ngcontent-%COMP%]{margin-left:-63px;margin-top:-99px}.c20[_ngcontent-%COMP%]{margin-left:33px;margin-top:-99px}.c21[_ngcontent-%COMP%]{margin-left:1px;margin-top:-99px}.c22[_ngcontent-%COMP%]{margin-left:-31px;margin-top:-99px}.c23[_ngcontent-%COMP%]{margin-left:-63px;margin-top:69px}.c24[_ngcontent-%COMP%]{margin-left:33px;margin-top:69px}.c25[_ngcontent-%COMP%]{margin-left:1px;margin-top:69px}.c26[_ngcontent-%COMP%]{margin-left:-31px;margin-top:69px}.c27[_ngcontent-%COMP%]{margin-left:-79px;margin-top:-15px}.c28[_ngcontent-%COMP%]{margin-left:-95px;margin-top:-43px}.c29[_ngcontent-%COMP%]{margin-left:-95px;margin-top:13px}.c30[_ngcontent-%COMP%]{margin-left:49px;margin-top:41px}.c31[_ngcontent-%COMP%]{margin-left:-79px;margin-top:-71px}.c32[_ngcontent-%COMP%]{margin-left:-111px;margin-top:-15px}.c33[_ngcontent-%COMP%]{margin-left:65px;margin-top:-43px}.c34[_ngcontent-%COMP%]{margin-left:65px;margin-top:13px}.c35[_ngcontent-%COMP%]{margin-left:-79px;margin-top:41px}.c36[_ngcontent-%COMP%]{margin-left:49px;margin-top:-71px}.c37[_ngcontent-%COMP%]{margin-left:81px;margin-top:-15px}.r1[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_pulse00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.2s;-webkit-animation-name:_ngcontent-%COMP%_pulse00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.2s}.r2[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_pulse00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.4s;-webkit-animation-name:_ngcontent-%COMP%_pulse00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.4s}.r3[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_pulse00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.6s;-webkit-animation-name:_ngcontent-%COMP%_pulse00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.6s}.r1[_ngcontent-%COMP%] > .hex-brick[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.2s;-webkit-animation-name:_ngcontent-%COMP%_fade00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.2s}.r2[_ngcontent-%COMP%] > .hex-brick[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.4s;-webkit-animation-name:_ngcontent-%COMP%_fade00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.4s}.r3[_ngcontent-%COMP%] > .hex-brick[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade00;animation-duration:2s;animation-iteration-count:infinite;animation-delay:.6s;-webkit-animation-name:_ngcontent-%COMP%_fade00;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-delay:.6s}@keyframes _ngcontent-%COMP%_pulse00{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.01);transform:scale(.01)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _ngcontent-%COMP%_fade00{0%{background:#252525}50%{background:#000}to{background:#353535}}.loader[_ngcontent-%COMP%]{position:relative;height:70vh}"]});let t=e;return t})();var AP=(()=>{let e=class e{transform(r,...i){return r&&r.substring(0,20)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=z0({name:"substring",type:e,pure:!0});let t=e;return t})();var p7=t=>["/product",t],_g=(()=>{let e=class e{constructor(){}ngOnInit(){console.log("card ")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-card"]],inputs:{product:"product"},decls:19,vars:8,consts:[[1,"card",3,"routerLink"],[1,"card-img"],[1,"img",3,"src"],[1,"card-title"],[1,"card-subtitle"],[1,"card-divider"],[1,"card-footer"],[1,"card-price"],[1,"card-btn"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","m397.78 316h-205.13a15 15 0 0 1 -14.65-11.67l-34.54-150.48a15 15 0 0 1 14.62-18.36h274.27a15 15 0 0 1 14.65 18.36l-34.6 150.48a15 15 0 0 1 -14.62 11.67zm-193.19-30h181.25l27.67-120.48h-236.6z"],["d","m222 450a57.48 57.48 0 1 1 57.48-57.48 57.54 57.54 0 0 1 -57.48 57.48zm0-84.95a27.48 27.48 0 1 0 27.48 27.47 27.5 27.5 0 0 0 -27.48-27.47z"],["d","m368.42 450a57.48 57.48 0 1 1 57.48-57.48 57.54 57.54 0 0 1 -57.48 57.48zm0-84.95a27.48 27.48 0 1 0 27.48 27.47 27.5 27.5 0 0 0 -27.48-27.47z"],["d","m158.08 165.49a15 15 0 0 1 -14.23-10.26l-25.71-77.23h-47.44a15 15 0 1 1 0-30h58.3a15 15 0 0 1 14.23 10.26l29.13 87.49a15 15 0 0 1 -14.23 19.74z"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),ie(2,"img",2),C(),ie(3,"div",3),b(4,"div",4),F(5),ZA(6,"substring"),C(),ie(7,"hr",5),b(8,"div",6)(9,"div",7)(10,"span"),F(11,"$"),C(),F(12),C(),b(13,"button",8),QI(),b(14,"svg",9),ie(15,"path",10)(16,"path",11)(17,"path",12)(18,"path",13),C()()()()),i&2&&(Fe("routerLink",YA(6,p7,o.product.id)),se(2),Fe("src",o.product.imageUrl,Ar),se(3),bi(XA(6,4,o.product.description)),se(7),He(" ",o.product.price,""))},dependencies:[Ho,AP],styles:['.card[_ngcontent-%COMP%]{--font-color: #323232;--font-color-sub: #666;--bg-color: #fff;--main-color: #323232;--main-focus: #2d8cf0;width:230px;height:300px;background:var(--bg-color);border:2px solid var(--main-color);box-shadow:4px 4px var(--main-color);border-radius:5px;display:flex;flex-direction:column;justify-content:flex-start;padding:20px;gap:10px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.card[_ngcontent-%COMP%]:hover{background-color:#f0efef}.card[_ngcontent-%COMP%]:last-child{justify-content:flex-end}.card-img[_ngcontent-%COMP%]{transition:all .5s;display:flex;justify-content:center}.card-img[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{transform:scale(1);position:relative;box-sizing:border-box;width:150px;height:150px;border:2px solid black}.card-img[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:before{content:"";position:absolute;width:65px;height:110px;margin-left:-32.5px;left:50%;bottom:-4px;background-repeat:no-repeat;background-image:radial-gradient(ellipse at center,rgba(0,0,0,.7) 30%,transparent 30%),linear-gradient(to top,transparent 17px,rgba(0,0,0,.3) 17px,rgba(0,0,0,.3) 20px,transparent 20px),linear-gradient(to right,black 2px,transparent 2px),linear-gradient(to left,black 2px,transparent 2px),linear-gradient(to top,#000 2px,#228b22 2px);background-size:60% 10%,100% 100%,100% 65%,100% 65%,100% 50%;background-position:center 3px,center bottom,center bottom,center bottom,center bottom;border-radius:0 0 4px 4px;z-index:2}.card-img[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:after{content:"";position:absolute;box-sizing:border-box;width:28px;height:28px;margin-left:-14px;left:50%;top:-13px;background-repeat:no-repeat;background-image:linear-gradient(80deg,#ffc0cb 45%,transparent 45%),linear-gradient(-175deg,#ffc0cb 45%,transparent 45%),linear-gradient(80deg,#0003 51%,#0000 51%),linear-gradient(-175deg,#0003 51%,#0000 51%),radial-gradient(circle at center,#ffa6b6 45%,#0003 45% 52%,#0000 52%),linear-gradient(45deg,#0000 48%,#0003 48% 52%,#0000 52%),linear-gradient(65deg,#0000 48%,#0003 48% 52%,#0000 52%),linear-gradient(22deg,#0000 48%,#0003 48% 54%,#0000 54%);background-size:100% 100%,100% 100%,100% 100%,100% 100%,100% 100%,100% 75%,100% 95%,100% 60%;background-position:center center;border-radius:120px 10px 70px;border-top:2px solid black;border-left:2px solid black;transform:rotate(45deg);z-index:1}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;text-align:center;color:var(--font-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--font-color-sub)}.card-divider[_ngcontent-%COMP%]{width:100%;border:1px solid var(--main-color);border-radius:50px}.card-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.card-price[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--font-color)}.card-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--font-color-sub)}.card-btn[_ngcontent-%COMP%]{height:35px;background:var(--bg-color);border:2px solid var(--main-color);border-radius:5px;padding:0 15px;transition:all .3s}.card-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;fill:var(--main-color);transition:all .3s}.card-img[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.card-btn[_ngcontent-%COMP%]:hover{border:2px solid var(--main-focus)}.card-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--main-focus)}.card-btn[_ngcontent-%COMP%]:active{transform:translateY(3px)}']});let t=e;return t})();function m7(t,e){t&1&&ie(0,"app-loader")}function g7(t,e){if(t&1){let n=Sr();b(0,"div",27),xt("click",function(){let i=Pn(n).$implicit,o=Ft();return Rn(o.navigate(i.id))}),ie(1,"app-card",28),C()}if(t&2){let n=e.$implicit;se(),Fe("product",n)}}function y7(t,e){if(t&1&&(b(0,"div",29),ie(1,"img",30),b(2,"div",31)(3,"div",32),F(4),C(),b(5,"div",33),F(6),C()()()),t&2){let n=e.$implicit;se(),Fe("src",n.img,Ar),se(3),He(" ",n.title," "),se(2),He(" ",n.description," ")}}function v7(t,e){if(t&1&&(b(0,"div",34),ie(1,"app-card",28),C()),t&2){let n=e.$implicit;se(),Fe("product",n)}}var TP=(()=>{let e=class e{constructor(r,i){this.router=r,this.productService=i,this.products=[],this.isLoading=!1,this.topSellers=[],this.services=[{title:"24/7 Customer Support",img:"../../assets/images/services/service1.png",description:"Our dedicated support team is available around the clock to assist you with any inquiries."},{title:"Free Local Shipping",img:"../../assets/images/services/service2.png",description:"Enjoy free shipping on all orders within Lebanon above $50."},{title:"100% Secure Payments",img:"../../assets/images/services/service3.png",description:"Your transactions are protected with advanced 256-bit encryption technology."},{title:"30-Day Return Policy",img:"../../assets/images/services/service4.png",description:"Return any item within 30 days for a hassle-free exchange or refund."}]}ngOnInit(){this.preloadImage("../../assets/images/img_1.png"),this.isLoading=!0,this.productService.getAll().subscribe(r=>{this.products=r,console.log(this.products),this.isLoading=!1,this.products=this.products.slice(0,5)},r=>{console.error("Error fetching products: ",r)}),this.productService.getAll().subscribe(r=>{let i=Math.floor(Math.random()*26);this.topSellers=r.slice(i,i+4)},r=>{console.error("Error fetching top sellers: ",r)})}navigate(r){this.router.navigate(["/product",r])}preloadImage(r){let i=new Image;i.src=r}};e.\u0275fac=function(i){return new(i||e)(Ie(On),Ie(ps))},e.\u0275cmp=ot({type:e,selectors:[["app-home"]],decls:39,vars:4,consts:[[1,"home-container"],[1,"home-background-container"],["src","../../assets/images/background.webp","alt","Description of image","loading","lazy",1,"home-img"],[1,"headline-group"],["routerLink","products",1,"shopNow-button"],[1,"body-container"],[1,"heading"],[1,"home-heading"],[1,"home-subHeading"],[1,"products"],[4,"ngIf"],["class","product-group",3,"click",4,"ngFor","ngForOf"],["routerLink","products",1,"viewMore"],[1,"services"],["class","service-group",4,"ngFor","ngForOf"],[1,"promo"],[1,"promo-group"],[1,"promo-title"],[1,"promo-description"],["routerLink","products",1,"promo-button"],[1,"topSellers-container"],[1,"topSellers-title"],[1,"topSellers-subtitle"],[1,"topSellersItems-container"],["class","topSellers-group",4,"ngFor","ngForOf"],[1,"shopNow"],["routerLink","products",1,"shopNowButton"],[1,"product-group",3,"click"],[3,"product"],[1,"service-group"],[1,"service-img",3,"src"],[1,"service-details"],[1,"service-title"],[1,"service-description"],[1,"topSellers-group"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),ie(2,"img",2),b(3,"div",3)(4,"h1"),F(5," STYLIST PICKS BEAT THE HEAT "),C(),b(6,"button",4),F(7," Shop Now "),C()()(),b(8,"div",5)(9,"div",6)(10,"h2",7),F(11," Discover New Arrivals "),C(),b(12,"h4",8),F(13," Recently Added Shirts "),C()(),b(14,"div",9),dt(15,m7,1,0,"app-loader",10)(16,g7,2,1,"div",11),C(),b(17,"div",12),F(18," View More "),C(),b(19,"div",13),dt(20,y7,7,3,"div",14),C(),b(21,"div",15)(22,"div",16)(23,"div",17),F(24," PEACE OF MIND "),C(),b(25,"div",18),F(26," A one-stop platform for all your fashion needs, hassle-free. Buy with a peace of mind. "),C(),b(27,"div",19),F(28," Buy Now "),C()()(),b(29,"div",20)(30,"div",21),F(31," TOP SELLERS "),C(),b(32,"div",22),F(33," Best selling items of the week "),C()(),b(34,"div",23),dt(35,v7,2,1,"div",24),C(),b(36,"div",25)(37,"button",26),F(38," SHOP NOW "),C()()()()),i&2&&(se(15),Fe("ngIf",o.isLoading),se(),Fe("ngForOf",o.products),se(4),Fe("ngForOf",o.services),se(15),Fe("ngForOf",o.topSellers))},dependencies:[nr,rr,Ho,Pc,_g],styles:["*[_ngcontent-%COMP%]{font-weight:300}.home-background-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:100%}.home-img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.headline-group[_ngcontent-%COMP%]{position:absolute;width:40%;top:50%;left:70%;transform:translate(-50%,-50%);text-align:center;color:#f8f8f8;box-sizing:border-box;padding:1rem;max-width:100%;max-height:100%;overflow:hidden;font-weight:900;font-size:large}@media (max-width: 768px){.headline-group[_ngcontent-%COMP%]{top:48%;left:48%;font-size:10px;width:100%}}.shopNow-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:3px solid white;padding:2% 5%;cursor:pointer;font-weight:900;font-size:large}.body-container[_ngcontent-%COMP%]{width:90%;margin:auto}.home-heading[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:800}.home-subHeading[_ngcontent-%COMP%]{display:flex;justify-content:center}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.services[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-wrap:wrap;gap:7px;justify-content:space-between}.service-group[_ngcontent-%COMP%]{flex:1 1 calc(25% - 32px);display:flex;flex-direction:row;gap:17px;box-sizing:border-box}.service-img[_ngcontent-%COMP%]{width:30px;height:30px;display:block}.service-details[_ngcontent-%COMP%]{width:70%;flex-direction:column;gap:5px}@media (max-width: 425px){.service-group[_ngcontent-%COMP%]{flex:1 1 100%}}.service-title[_ngcontent-%COMP%]{font-size:1.2rem}.service-description[_ngcontent-%COMP%]{font-size:.2rem}.promo[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-wrap:wrap;gap:10px}.promo-group[_ngcontent-%COMP%]{background-color:#000;padding:10%;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;flex:1 1 calc(50% - 20px);box-sizing:border-box}.promo-title[_ngcontent-%COMP%]{font-size:2.5rem}.promo-description[_ngcontent-%COMP%]{font-size:1.5em}.promo-button[_ngcontent-%COMP%]{cursor:pointer;text-align:center;width:20%;background-color:#fff;color:#000;padding:3%;font-size:1.5rem}.promo-button[_ngcontent-%COMP%]:hover{background-color:#ebebeb;color:#000;scale:.9}@media (max-width: 768px){.promo-group[_ngcontent-%COMP%]{flex:1 1 100%}}.topSellers-container[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-direction:column;gap:20px;justify-content:center;align-items:center}.topSellers-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800}.topSellers-subTitle[_ngcontent-%COMP%]{font-size:.5rem}.topSellersItems-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.topSellers-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.topSellers-img[_ngcontent-%COMP%]{width:200px;display:block}.shopNow[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px;align-items:center}.shopNowButton[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:2% 5%;cursor:pointer}.shopNowButton[_ngcontent-%COMP%]:hover{background-color:#757575;color:#fff;scale:.9}.viewMore[_ngcontent-%COMP%]{margin:20px auto auto;width:20%;background-color:#000;display:flex;justify-content:center;padding:1.6%;color:#fff;cursor:pointer}.loader[_ngcontent-%COMP%]{position:relative;height:70vh}"]});let t=e;return t})();function _7(t,e){if(t&1&&(b(0,"div",15)(1,"div",16),ie(2,"img",17),C(),b(3,"div",18),F(4),C()()),t&2){let n=e.$implicit;se(2),Fe("src",n.imgPath,Ar),se(2),He(" ",n.name," ")}}function E7(t,e){if(t&1&&(b(0,"div",19)(1,"div",20),ie(2,"img",21),C(),b(3,"div",22),ie(4,"img",23),b(5,"div",24),F(6),C(),b(7,"div",25),F(8),C()()()),t&2){let n=e.$implicit;se(2),Fe("src",n.imgPath,Ar),se(4),He(" ",n.details," "),se(2),He(" ",n.name," ")}}var MP=(()=>{let e=class e{constructor(){this.founders=[{name:"John Doe",imgPath:"../../assets/images/aboutUs/founders/img1.png"},{name:"Jane Doe",imgPath:"../../assets/images/aboutUs/founders/img2.png"},{name:"John Smith",imgPath:"../../assets/images/aboutUs/founders/img3.png"},{name:"Jane Smith",imgPath:"../../assets/images/aboutUs/founders/img4.png"}],this.testimonials=[{name:"John Smith",imgPath:"../../assets/images/aboutUs/testimonials/img.png",details:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Jane Smith",imgPath:"../../assets/images/aboutUs/testimonials/img2.png",details:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"John Doe",imgPath:"../../assets/images/aboutUs/testimonials/img3.png",details:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-about"]],decls:18,vars:2,consts:[[1,"aboutUs-container"],[1,"headingImg"],["src","../../assets/images/aboutUs/img1.jpg","alt",""],[1,"aboutUs-container-1"],[1,"imgGroup-1"],[1,"img"],["src","../../assets/images/aboutUs/img2.png"],["src","../../assets/images/aboutUs/img3.png","alt",""],[1,"founders-container"],[1,"title"],[1,"founders-group"],["class","founder-group",4,"ngFor","ngForOf"],[1,"testimonials"],[1,"testimonialTitle"],["class","testimonial-group",4,"ngFor","ngForOf"],[1,"founder-group"],[1,"founderImg"],[3,"src"],[1,"founderName"],[1,"testimonial-group"],[1,"testimonial-img"],["alt","",3,"src"],[1,"testimonialDetails"],["src","../../assets/images/aboutUs/testimonials/quote.png",1,"quote"],[1,"testimonialText"],[1,"testimonialWriter"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),ie(2,"img",2),C(),b(3,"div",3)(4,"div",4)(5,"div",5),ie(6,"img",6),C(),b(7,"div",5),ie(8,"img",7),C()(),b(9,"div",8)(10,"div",9),F(11," The Founders "),C(),b(12,"div",10),dt(13,_7,5,2,"div",11),C()(),b(14,"div",12)(15,"div",13),F(16," Testimonials "),C(),dt(17,E7,9,3,"div",14),C()()()),i&2&&(se(13),Fe("ngForOf",o.founders),se(4),Fe("ngForOf",o.testimonials))},dependencies:[nr],styles:["*[_ngcontent-%COMP%]{font-family:Fjalla One,sans-serif;font-weight:400;font-style:normal}.aboutUs-container[_ngcontent-%COMP%]{width:100%;max-width:100%}.headingImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.aboutUs-container-1[_ngcontent-%COMP%]{width:90%;margin:auto}.imgGroup-1[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-wrap:wrap;justify-content:space-between;gap:20px}.img[_ngcontent-%COMP%]{flex:1}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.founders-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:20px;margin-top:30px}.founder-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.founderImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.title[_ngcontent-%COMP%]{margin-top:70px;text-align:center;font-size:2rem}.testimonials[_ngcontent-%COMP%]{width:80%;margin:70px auto auto;display:flex;flex-wrap:wrap;flex-direction:column;gap:60px}.testimonialTitle[_ngcontent-%COMP%]{text-align:center;font-size:2rem}.testimonial-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.testimonialDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:35px}.quote[_ngcontent-%COMP%]{width:20px;height:20px}"]});let t=e;return t})();var BP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Ie(Zi),Ie(xi))},e.\u0275dir=hn({type:e});let t=e;return t})(),rC=(()=>{let e=class e extends BP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ks(e)))(o||e)}})(),e.\u0275dir=hn({type:e,features:[Ci]});let t=e;return t})(),Ag=new he("");var w7={provide:Ag,useExisting:Vo(()=>Oc),multi:!0};function x7(){let t=Di()?Di().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var C7=new he(""),Oc=(()=>{let e=class e extends BP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!x7())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Ie(Zi),Ie(xi),Ie(C7,8))},e.\u0275dir=hn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&xt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Sl([w7]),Ci]});let t=e;return t})();function ms(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function jP(t){return t!=null&&typeof t.length=="number"}var UP=new he(""),$P=new he(""),b7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,oi=class{static min(e){return D7(e)}static max(e){return I7(e)}static required(e){return A7(e)}static requiredTrue(e){return S7(e)}static email(e){return T7(e)}static minLength(e){return M7(e)}static maxLength(e){return F7(e)}static pattern(e){return P7(e)}static nullValidator(e){return qP(e)}static compose(e){return QP(e)}static composeAsync(e){return JP(e)}};function D7(t){return e=>{if(ms(e.value)||ms(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function I7(t){return e=>{if(ms(e.value)||ms(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function A7(t){return ms(t.value)?{required:!0}:null}function S7(t){return t.value===!0?null:{required:!0}}function T7(t){return ms(t.value)||b7.test(t.value)?null:{email:!0}}function M7(t){return e=>ms(e.value)||!jP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function F7(t){return e=>jP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function P7(t){if(!t)return qP;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ms(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function qP(t){return null}function zP(t){return t!=null}function GP(t){return Js(t)?$e(t):t}function HP(t){let e={};return t.forEach(n=>{e=n!=null?de(de({},e),n):e}),Object.keys(e).length===0?null:e}function WP(t,e){return e.map(n=>n(t))}function R7(t){return!t.validate}function KP(t){return t.map(e=>R7(e)?e:n=>e.validate(n))}function QP(t){if(!t)return null;let e=t.filter(zP);return e.length==0?null:function(n){return HP(WP(n,e))}}function YP(t){return t!=null?QP(KP(t)):null}function JP(t){if(!t)return null;let e=t.filter(zP);return e.length==0?null:function(n){let r=WP(n,e).map(GP);return Ry(r).pipe(xe(HP))}}function ZP(t){return t!=null?JP(KP(t)):null}function FP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function XP(t){return t._rawValidators}function eR(t){return t._rawAsyncValidators}function nC(t){return t?Array.isArray(t)?t:[t]:[]}function wg(t,e){return Array.isArray(t)?t.includes(e):t===e}function PP(t,e){let n=nC(e);return nC(t).forEach(i=>{wg(n,i)||n.push(i)}),n}function RP(t,e){return nC(e).filter(n=>!wg(t,n))}var xg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Nc=class extends xg{get formDirective(){return null}get path(){return null}},Hd=class extends xg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},N7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zne=vt(de({},N7),{"[class.ng-submitted]":"isSubmitted"}),Sg=(()=>{let e=class e extends Cg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Ie(Hd,2))},e.\u0275dir=hn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Al("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ci]});let t=e;return t})(),Tg=(()=>{let e=class e extends Cg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Ie(Nc,10))},e.\u0275dir=hn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Al("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ci]});let t=e;return t})();var zd="VALID",Eg="INVALID",Rc="PENDING",Gd="DISABLED";function tR(t){return(Mg(t)?t.validators:t)||null}function O7(t){return Array.isArray(t)?YP(t):t||null}function nR(t,e){return(Mg(e)?e.asyncValidators:t)||null}function k7(t){return Array.isArray(t)?ZP(t):t||null}function Mg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function V7(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[n])throw new te(1001,"")}function L7(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new te(1002,"")})}var bg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zd}get invalid(){return this.status===Eg}get pending(){return this.status==Rc}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RP(e,this._rawAsyncValidators))}hasValidator(e){return wg(this._rawValidators,e)}hasAsyncValidator(e){return wg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(r=>{r.disable(vt(de({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(de({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zd,this._forEachChild(r=>{r.enable(vt(de({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(vt(de({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zd||this.status===Rc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rc,this._hasOwnPendingAsyncValidator=!0;let n=GP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nn,this.statusChanges=new nn}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?Eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rc)?Rc:this._anyControlsHaveStatus(Eg)?Eg:zd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=O7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=k7(this._rawAsyncValidators)}},gs=class extends bg{constructor(e,n,r){super(tR(n),nR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){L7(this,!0,e),Object.keys(e).forEach(r=>{V7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var iC=new he("CallSetDisabledState",{providedIn:"root",factory:()=>Fg}),Fg="always";function B7(t,e){return[...e.path,t]}function NP(t,e,n=Fg){oC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),U7(t,e),q7(t,e),$7(t,e),j7(t,e)}function OP(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ig(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Dg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function j7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function oC(t,e){let n=XP(t);e.validator!==null?t.setValidators(FP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=eR(t);e.asyncValidator!==null?t.setAsyncValidators(FP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Dg(e._rawValidators,i),Dg(e._rawAsyncValidators,i)}function Ig(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=XP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=eR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Dg(e._rawValidators,r),Dg(e._rawAsyncValidators,r),n}function U7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&rR(t,e)})}function $7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&rR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function rR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function q7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function z7(t,e){t==null,oC(t,e)}function G7(t,e){return Ig(t,e)}function H7(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function W7(t){return Object.getPrototypeOf(t.constructor)===rC}function K7(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Q7(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Oc?n=o:W7(o)?r=o:i=o}),i||r||n||null}function Y7(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function VP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var si=class extends bg{constructor(e=null,n,r){super(tR(n),nR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(VP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){VP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var J7=t=>t instanceof si;var Pg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=hn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var iR=new he("");var Z7={provide:Nc,useExisting:Vo(()=>Wd)},Wd=(()=>{let e=class e extends Nc{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nn,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ig(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return NP(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){OP(r.control||null,r,!1),Y7(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,K7(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(OP(i||null,r),J7(o)&&(NP(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);z7(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&G7(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oC(this.form,this),this._oldForm&&Ig(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(Ie(UP,10),Ie($P,10),Ie(iC,8))},e.\u0275dir=hn({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&xt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Tn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sl([Z7]),Ci,Lo]});let t=e;return t})();var X7={provide:Hd,useExisting:Vo(()=>Kd)},Kd=(()=>{let e=class e extends Hd{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new nn,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Q7(this,s)}ngOnChanges(r){this._added||this._setUpControl(),H7(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return B7(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(Ie(Nc,13),Ie(UP,10),Ie($P,10),Ie(Ag,10),Ie(iR,8))},e.\u0275dir=hn({type:e,selectors:[["","formControlName",""]],inputs:{name:[Tn.None,"formControlName","name"],isDisabled:[Tn.None,"disabled","isDisabled"],model:[Tn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Sl([X7]),Ci,Lo]});let t=e;return t})(),e$={provide:Ag,useExisting:Vo(()=>sR),multi:!0};function oR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function t$(t){return t.split(":")[0]}var sR=(()=>{let e=class e extends rC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=oR(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=t$(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ks(e)))(o||e)}})(),e.\u0275dir=hn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&xt("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sl([e$]),Ci]});let t=e;return t})(),aR=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(oR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Ie(xi),Ie(Zi),Ie(sR,9))},e.\u0275dir=hn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),n$={provide:Ag,useExisting:Vo(()=>lR),multi:!0};function LP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function r$(t){return t.split(":")[0]}var lR=(()=>{let e=class e extends rC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let u=a[l],d=this._getOptionValue(u.value);o.push(d)}}else{let a=i.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let d=this._getOptionValue(u.value);o.push(d)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=r$(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ks(e)))(o||e)}})(),e.\u0275dir=hn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&xt("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sl([n$]),Ci]});let t=e;return t})(),cR=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(LP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(LP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Ie(xi),Ie(Zi),Ie(lR,9))},e.\u0275dir=hn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var uR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({});let t=e;return t})();var dR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:iC,useValue:r.callSetDisabledState??Fg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({imports:[uR]});let t=e;return t})(),hR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:iR,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:iC,useValue:r.callSetDisabledState??Fg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({imports:[uR]});let t=e;return t})();function i$(t,e){if(t&1&&(b(0,"ul")(1,"li"),F(2),C()()),t&2){let n=e.$implicit;se(2),bi(n)}}function o$(t,e){if(t&1&&(b(0,"div",23),dt(1,i$,3,1,"ul",24),C()),t&2){let n=Ft();se(),Fe("ngForOf",n.errors)}}function s$(t,e){t&1&&(b(0,"div",25)(1,"div",26),F(2," Message Sent Successfully "),C(),b(3,"div",27),F(4," We have received your message. We will get back to you as soon as possible. "),C()())}var fR=(()=>{let e=class e{constructor(r){this.http=r,this.pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$",this.errors=[],this.messageSuccess=!1,this.form=new gs({"Full Name":new si("",[oi.required]),Email:new si("",[oi.required,oi.pattern(this.pattern)]),Message:new si("",[oi.required])})}getEmail(){return this.form.get("Email").value}getFullName(){return this.form.get("Full Name").value}getMessage(){return this.form.get("Message").value}onSubmit(){if(console.log(this.form),this.form.invalid){this.errors=[],Object.keys(this.form.controls).forEach(s=>{let a=this.form.get(s)?.errors;a!=null&&Object.keys(a).forEach(l=>{switch(l){case"required":this.errors.push(s+" is required");break;case"pattern":this.errors.push(s+" is not valid");break}})});return}this.messageSuccess=!0,setTimeout(()=>{this.messageSuccess=!1},2e3),this.errors=[];let r=" https://api.emailjs.com/api/v1.0/email/send",i=new to({"Content-Type":"application/json",Accept:"application/json"}),o={service_id:"service_ojjm9v9",template_id:"contact_form",user_id:"kol25vftQV_9Jc8x5",template_params:{from_email:this.getEmail(),from_name:this.getFullName(),to_name:"Moustafa Radi",message:this.getMessage()}};this.http.post(r,o,{headers:i}).subscribe(s=>{},s=>{}),this.form.reset()}};e.\u0275fac=function(i){return new(i||e)(Ie(Uv))},e.\u0275cmp=ot({type:e,selectors:[["app-contact"]],decls:30,vars:3,consts:[[1,"contact-container"],[1,"contact-background"],["src","../../assets/images/contactUs/contactus.jpg"],[1,"contact-container-1"],[1,"contactUsFormContainer"],[1,"contactUsFormTitle"],[1,"contactUsFormSubtitle"],[1,"contactUsForm"],[1,"contactUsForm",3,"submit","formGroup"],[1,"nameAndEmail"],["type","text","placeholder","Name","formControlName","Full Name",1,"name"],["type","email","placeholder","Email","formControlName","Email",1,"email"],["rows","10","cols","10","placeholder","Message","formControlName","Message"],["class","errorsGroup",4,"ngIf"],["type","submit",1,"submitButton"],[1,"contactUsDetailsGroup"],[1,"visitUsGroup"],[1,"visitUsTitle"],[1,"visitUsDetail"],[1,"getInTouchGroup"],[1,"getInTouchTitle"],[1,"getInTouchDetail"],["class","messageSuccessfully",4,"ngIf"],[1,"errorsGroup"],[4,"ngFor","ngForOf"],[1,"messageSuccessfully"],[1,"messageSuccessfullyTitle"],[1,"messageSuccessfullySubtitle"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),ie(2,"img",2),C(),b(3,"div",3)(4,"div",4)(5,"div",5),F(6," We would love to hear from you. "),C(),b(7,"div",6),F(8," If you have any query or any type of suggestion, you can contact us here. We would love to hear from you. "),C(),b(9,"div",7)(10,"form",8),xt("submit",function(){return o.onSubmit()}),b(11,"div",9),ie(12,"input",10)(13,"input",11),C(),ie(14,"textarea",12),dt(15,o$,2,1,"div",13),b(16,"button",14),F(17,"SEND MESSAGE "),C()()()(),b(18,"div",15)(19,"div",16)(20,"div",17),F(21," Visit Us "),C(),b(22,"div",18),F(23," UET Lahore, Punjab, Pakistan Phone: +923039898987 "),C()(),b(24,"div",19)(25,"div",20),F(26," Get In Touch "),C(),b(27,"div",21),F(28," You can get in touch with us on this provided email. Email: "),C()()()()(),dt(29,s$,5,0,"div",22)),i&2&&(se(10),Fe("formGroup",o.form),se(5),Fe("ngIf",o.errors.length>0),se(14),Fe("ngIf",o.messageSuccess))},dependencies:[nr,rr,Pg,Oc,Sg,Tg,Wd,Kd],styles:["*[_ngcontent-%COMP%]{font-family:Fjalla One,sans-serif;font-weight:400;font-style:normal}.contact-background[_ngcontent-%COMP%]{width:100%}.name[_ngcontent-%COMP%], .email[_ngcontent-%COMP%]{padding:2%}.contact-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.contact-container-1[_ngcontent-%COMP%]{margin:20px auto auto;width:90%;flex-wrap:wrap;display:flex;flex-direction:row;justify-content:space-between}.contactUsFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.contactUsForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.contactUsFormTitle[_ngcontent-%COMP%]{font-size:1.5rem}.nameAndEmail[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;flex-direction:row;gap:20px}.nameAndEmail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.submitButton[_ngcontent-%COMP%]{width:30%;padding:2%;color:#fff;background-color:#024e82}.contactUsDetailsGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:5% 0%}.visitUsGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.visitUsDetail[_ngcontent-%COMP%], .getInTouchDetail[_ngcontent-%COMP%]{font-family:Fjalla One,sans-serif;font-weight:100;font-size:smaller;font-style:normal}.getInTouchGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.messageSuccessfully[_ngcontent-%COMP%]{position:fixed;top:-100%;left:50%;transform:translate(-50%);background-color:#f0f0f0;padding:20px;border:1px solid #ccc;box-shadow:0 2px 10px #0000001a;text-align:center;z-index:1000;animation:_ngcontent-%COMP%_slideDown .5s forwards}@keyframes _ngcontent-%COMP%_slideDown{0%{top:-100%}to{top:10%}}.messageSuccessfullyTitle[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:10px}.messageSuccessfullySubtitle[_ngcontent-%COMP%]{font-size:1em;margin-bottom:20px}.messageSuccessfullyButton[_ngcontent-%COMP%]{margin-top:10px}.messageSuccessfullyButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;cursor:pointer;border-radius:5px}.messageSuccessfullyButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();function a$(t,e){t&1&&(b(0,"div"),ie(1,"app-loader"),C())}function l$(t,e){if(t&1&&(b(0,"option",25),F(1),C()),t&2){let n=e.$implicit;Fe("value",n),se(),bi(n)}}function c$(t,e){if(t&1){let n=Sr();b(0,"div",26),xt("click",function(){let i=Pn(n).$implicit,o=Ft(2);return Rn(o.selectColor(i))}),C()}if(t&2){let n=e.$implicit,r=Ft(2);Il("background-color",n),Al("selected",n===r.selectedColor)}}function u$(t,e){if(t&1&&(b(0,"span",27),F(1),C()),t&2){let n=Ft(2);se(),bi(n.error)}}function d$(t,e){if(t&1){let n=Sr();b(0,"div",2)(1,"div",3),ie(2,"img",4),C(),b(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),F(7),C(),b(8,"div",9),F(9),C()(),b(10,"div",10),F(11),C(),b(12,"div"),F(13),C(),b(14,"div",11),F(15),C(),b(16,"div",12)(17,"label",13),F(18,"Select Size:"),C(),b(19,"select",14),xt("change",function(i){Pn(n);let o=Ft();return Rn(o.selectSize(i))}),dt(20,l$,2,2,"option",15),C()(),b(21,"div",16)(22,"div",17),F(23,"Select Color:"),C(),dt(24,c$,1,4,"div",18),C(),b(25,"div",19)(26,"div",20)(27,"span"),F(28),C()()(),b(29,"div",21),dt(30,u$,2,1,"span",22),b(31,"div",23)(32,"div",24),xt("click",function(){Pn(n);let i=Ft();return Rn(i.buy(i.product))}),F(33," Buy Now "),C()()()()()()}if(t&2){let n=Ft();se(2),Fe("src",n.product.imageUrl,Ar),se(5),He(" ",n.product.name," "),se(2),He(" ",n.product.price," $ "),se(2),He(" Category: ",n.product.category," "),se(2),He(" ",n.product.material," "),se(2),He(" ",n.product.description," "),se(5),Fe("ngForOf",n.product.sizes),se(4),Fe("ngForOf",n.product.colors),se(4),He("Average Rating: ",n.product.rating,"/5"),se(2),Fe("ngIf",n.error)}}var pR=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.productService=i,this.router=o,this.selectedColor="#FF0000",this.selectedSize="",this.error=null}ngOnInit(){this.getProduct()}selectColor(r){this.selectedColor=r}selectSize(r){let i=r.target;this.selectedSize=i.value}getProduct(){let r=this.route.snapshot.paramMap.get("id");this.productService.getById(r).subscribe(i=>{this.product=i,this.selectedSize=this.product.sizes[0]},i=>{console.error("Error fetching product: ",i)})}buy(r){if(this.selectedColor===""||this.selectedSize===""){this.error="Please select a color and size";return}this.error=null,this.router.navigate(["checkout"],{queryParams:{product:JSON.stringify(r),color:this.selectedColor,size:this.selectedSize}})}};e.\u0275fac=function(i){return new(i||e)(Ie(Xr),Ie(ps),Ie(On))},e.\u0275cmp=ot({type:e,selectors:[["app-single-product"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","product-container",4,"ngIf"],[1,"product-container"],[1,"img-container"],["alt","",3,"src"],[1,"details-container"],[1,"product-info"],[1,"group1"],[1,"product-name"],[1,"product-price"],[1,"category"],[1,"product-description"],[1,"product-size"],["for","size"],["id","size",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"color-circles"],[1,"color-circle-label"],["class","color-circle",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"product-reviews"],[1,"rating"],[1,"additional-info"],["class","danger",4,"ngIf"],[1,"actions"],[1,"product-button",3,"click"],[3,"value"],[1,"color-circle",3,"click"],[1,"danger"]],template:function(i,o){i&1&&dt(0,a$,2,0,"div",0)(1,d$,34,10,"div",1),i&2&&(Fe("ngIf",o.product==null),se(),Fe("ngIf",o.product!==void 0))},dependencies:[nr,rr,aR,cR,Pc],styles:[".product-name[_ngcontent-%COMP%], .product-price[_ngcontent-%COMP%], .product-description[_ngcontent-%COMP%], .product-button[_ngcontent-%COMP%], .category[_ngcontent-%COMP%]{display:flex;flex:wrap}.product-price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000}.product-name[_ngcontent-%COMP%]{font-size:2rem;color:#000}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.group1[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:space-between;align-items:center}@media screen and (max-width: 768px){.group1[_ngcontent-%COMP%]{display:block}}.product-name[_ngcontent-%COMP%]{font-size:1.5rem}@media screen and (max-width: 768px){.product-name[_ngcontent-%COMP%]{font-size:2rem}}.product-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:50px;margin:auto;width:80%;justify-content:flex-start}@media screen and (max-width: 1000px){.product-container[_ngcontent-%COMP%]{flex-direction:column}}.img-container[_ngcontent-%COMP%]{flex:0 0 40%}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.product-button[_ngcontent-%COMP%]{cursor:pointer;width:20%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;text-align:center;display:inline-block}@media screen and (max-width: 768px){.product-button[_ngcontent-%COMP%]{width:100%;padding:1%}}.product-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.product-size[_ngcontent-%COMP%]{margin-top:15px}.product-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.product-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px;border:1px solid #ccc;border-radius:4px;cursor:pointer}.product-reviews[_ngcontent-%COMP%], .additional-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.color-circles[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.color-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;cursor:pointer;padding:10px;border:2px solid transparent}.color-circle.selected[_ngcontent-%COMP%]{border-color:#000}.color-circle-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px;border-radius:5px;margin-top:10px;text-align:center;font-size:14px;width:100%;box-shadow:0 0 10px #0000001a}"]});let t=e;return t})();var Rg=(()=>{let e=class e{constructor(){this.cart=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h$(t,e){if(t&1){let n=Sr();b(0,"tr")(1,"td"),F(2),C(),b(3,"td"),F(4),C(),b(5,"td"),F(6," 0 "),C(),b(7,"td"),F(8," 0 "),C(),b(9,"td",8),xt("click",function(){let i=Pn(n).index,o=Ft(2);return Rn(o.removeItem(i))}),F(10," REMOVE "),C()()}if(t&2){let n=e.$implicit;se(2),He(" ",n.name," "),se(2),He(" ",n.price," ")}}function f$(t,e){if(t&1){let n=Sr();b(0,"div",4)(1,"table",5)(2,"tr")(3,"td"),F(4," Product "),C(),b(5,"td"),F(6," Price "),C(),b(7,"td"),F(8," Quantity "),C(),b(9,"td"),F(10," Total "),C(),ie(11,"td"),C(),dt(12,h$,11,2,"tr",6),C(),b(13,"div",7),xt("click",function(){Pn(n);let i=Ft();return Rn(i.proceedToCheckout())}),F(14," Proceed To Checkout "),C()()}if(t&2){let n=Ft();se(12),Fe("ngForOf",n.cart)}}function p$(t,e){t&1&&(b(0,"div",9),F(1," No items in the cart "),C())}var gR=(()=>{let e=class e{constructor(r,i){this.data=r,this.router=i}ngOnInit(){this.cart=this.data.cart}removeItem(r){this.cart.splice(r,1)}proceedToCheckout(){this.router.navigate(["checkout"])}};e.\u0275fac=function(i){return new(i||e)(Ie(Rg),Ie(On))},e.\u0275cmp=ot({type:e,selectors:[["app-cart"]],decls:5,vars:2,consts:[[1,"cart-container"],[1,"cart-title"],["class","table-wrapper",4,"ngIf"],["class","empty-cart-message",4,"ngIf"],[1,"table-wrapper"],[1,"cart-table"],[4,"ngFor","ngForOf"],[1,"checkout",3,"click"],[3,"click"],[1,"empty-cart-message"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),F(2," Cart "),C(),dt(3,f$,15,1,"div",2)(4,p$,2,0,"div",3),C()),i&2&&(se(3),Fe("ngIf",o.cart.length>0),se(),Fe("ngIf",o.cart.length==0))},dependencies:[nr,rr],styles:[".cart-container[_ngcontent-%COMP%]{flex:1}.cart-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:50px;font-family:Arial,sans-serif;text-align:center}.cart-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:1em;font-family:Arial,sans-serif;min-width:200px;box-shadow:0 0 20px #00000026}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f8f8f8;color:#333;text-align:left;padding:8px}.cart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .cart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.cart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;text-align:left}.cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#f3f3f3}.cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.cart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:700}.empty-cart-message[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;color:red;padding:20px;margin-top:20px;border:2px dashed #ff0000;background-color:#fff3f3}.checkout[_ngcontent-%COMP%]{cursor:pointer;width:20vw;height:10vh;display:flex;justify-content:center;align-items:center;background-color:#faebd7;margin:20px auto auto}"]});let t=e;return t})();var Ck=C2(xk());function Mz(t,e){if(t&1){let n=Sr();b(0,"div",18)(1,"div",19)(2,"div",20)(3,"span"),F(4,"Buying Is Not Available Right Now"),C(),b(5,"button",21),xt("click",function(){Pn(n);let i=Ft();return Rn(i.closePopup())}),F(6,"Close"),C()(),b(7,"div",22)(8,"h4"),F(9,"Note that this message is going to be set when opening whatsapp"),C(),b(10,"p"),F(11),C()()()()}if(t&2){let n=Ft();se(11),bi(n.popupMessage)}}function Fz(t,e){t&1&&(b(0,"div",23),F(1," Please Fill The Required Inputs "),C())}var bk=(()=>{let e=class e{constructor(r){this.route=r,this.showPopup=!1,this.popupMessage="",this.error="",this.subTotal=0,this.productInfo={color:"",size:""},this.form=new gs({fullName:new si("",oi.required),address:new si("",oi.required),city:new si("",oi.required)})}ngOnInit(){this.route.queryParams.subscribe(r=>{if(r.product&&(this.product=JSON.parse(r.product),this.order=this.product,this.subTotal=this.product.price,console.log(this.product)),r.color){let i=(0,Ck.default)(r.color).basic[0].name;this.productInfo.color=i}r.size&&(this.productInfo.size=r.size)})}onSubmit(){if(this.form.valid){let r={fullName:this.form.value.fullName,address:this.form.value.address,city:this.form.value.city,order:this.order.name,subTotal:this.subTotal,color:this.productInfo.color,size:this.productInfo.size},i="--Full Name: "+r.fullName+`
--Address: `+r.address+`
--City: `+r.city+`
--Color: `+r.color+`
--Order: `+r.order+`
--Sub Total: `+r.subTotal+" $";this.popupMessage=i,this.showPopup=!0}else this.error="Please fill all the fields!"}closePopup(){this.showPopup=!1}};e.\u0275fac=function(i){return new(i||e)(Ie(Xr))},e.\u0275cmp=ot({type:e,selectors:[["app-checkout"]],decls:38,vars:8,consts:[[1,"checkoutContainer"],["class","popup-container",4,"ngIf"],[1,"checkoutTitle"],[1,"checkoutForm",3,"submit","formGroup"],[1,"formInputs"],["type","text","placeholder","Full Name","formControlName","fullName"],["type","text","placeholder","Address","formControlName","address"],["type","text","placeholder","Town /City","formControlName","city"],[1,"yourOrderContainer"],[1,"yourOrderTitle"],[1,"table-wrapper"],[1,"totalTable"],[2,"padding-left","4%"],[1,"color-circle"],["class","danger",4,"ngIf"],[1,"placeOrderContainer"],["type","submit",1,"placeOrder"],[1,"footerDetail"],[1,"popup-container"],[1,"popup"],[1,"popup-header"],[3,"click"],[1,"popup-body"],[1,"danger"]],template:function(i,o){i&1&&(b(0,"div",0),dt(1,Mz,12,1,"div",1),b(2,"div",2),F(3," Billing Details "),C(),b(4,"form",3),xt("submit",function(){return o.onSubmit()}),b(5,"div",4),ie(6,"input",5)(7,"input",6)(8,"input",7),C(),b(9,"div",8)(10,"div",9),F(11," Your Order "),C(),b(12,"div",10)(13,"table",11)(14,"tr")(15,"td"),F(16," Product "),C(),b(17,"td"),F(18," Total "),C(),b(19,"td"),F(20," Size "),C(),b(21,"td"),F(22," Color "),C()(),b(23,"tr")(24,"td",12),F(25),C(),b(26,"td"),F(27),C(),b(28,"td"),F(29),C(),b(30,"td"),ie(31,"div",13),C()()()()(),dt(32,Fz,2,0,"div",14),b(33,"div",15)(34,"button",16),F(35," PLACE AN ORDER "),C()()(),b(36,"div",17),F(37," Cash on delivery. Please contact us if you require assistance or wish to make alternate arrangements. "),C()()),i&2&&(se(),Fe("ngIf",o.showPopup),se(3),Fe("formGroup",o.form),se(21),He(" ",o.order.name," "),se(2),He(" ",o.order.price," $ "),se(2),He(" ",o.productInfo.size," "),se(2),Il("background-color",o.productInfo.color),se(),Fe("ngIf",o.error))},dependencies:[rr,Pg,Oc,Sg,Tg,Wd,Kd],styles:[".checkoutContainer[_ngcontent-%COMP%]{display:flex;width:90%;justify-content:flex;align-items:flex-start;flex-direction:column;height:100%;padding:4%;gap:60px}.checkoutTitle[_ngcontent-%COMP%]{font-size:2rem}.checkoutForm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;align-items:flex-start;flex-direction:column;gap:40px}.yourOrderContainer[_ngcontent-%COMP%]{width:100%}.yourOrderTitle[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:1.5rem;margin-bottom:20px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:100%}.totalTable[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:1em;font-family:Arial,sans-serif;min-width:200px;box-shadow:0 0 20px #00000026}.totalTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f8f8f8;color:#333;text-align:left;padding:8px}.totalTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .totalTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.totalTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;text-align:left}.totalTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#f3f3f3}.totalTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.totalTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:700}.orders[_ngcontent-%COMP%]{padding-left:4%}.checkoutForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:2%;border:1px solid black}.footerDetail[_ngcontent-%COMP%]{margin-left:2%;background-color:#ebebeb;padding:1.5%;display:flex;flex-direction:column;gap:3px;font-size:10px}.placeOrderContainer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;gap:20px}.placeOrder[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#03609e}.placeOrder[_ngcontent-%COMP%]{width:30%;display:flex;align-items:center;justify-content:center;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;padding:2%;color:#fff;background-color:#024e82;cursor:pointer}.formInputs[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;gap:10px}.color-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;cursor:pointer;padding:10px;border:2px solid transparent}.popup-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.popup[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;max-width:400px;width:100%}.popup-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px;display:flex;justify-content:space-between;align-items:center}.popup-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;cursor:pointer}.popup-body[_ngcontent-%COMP%]{padding:20px}.popup-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]});let t=e;return t})();function Pz(t,e){t&1&&ie(0,"app-loader")}function Rz(t,e){if(t&1&&(op(0),ie(1,"app-card",9),sp()),t&2){let n=e.$implicit;se(),Fe("product",n)}}function Nz(t,e){if(t&1&&(op(0),b(1,"div",8),dt(2,Rz,2,1,"ng-container",7),C(),sp()),t&2){let n=e.$implicit;se(2),Fe("ngForOf",n)}}function Oz(t,e){if(t&1&&(b(0,"div",4)(1,"div",5),F(2),C(),b(3,"div",6),dt(4,Nz,3,1,"ng-container",7),C()()),t&2){let n=e.$implicit,r=Ft();se(2),He(" ",n," "),se(2),Fe("ngForOf",r.chunkArray(r.groupedProducts[n],10))}}var Dk=(()=>{let e=class e{constructor(r,i){this.productService=r,this.route=i,this.isLoading=!1,this.products=[],this.groupedProducts={},this.categories=[]}ngOnInit(){this.isLoading=!0,this.productService.getAll().subscribe(r=>{this.products=r,console.log(this.products),this.isLoading=!1,this.getProductsByGroup()},r=>{console.error("Error fetching products: ",r)})}getProductsByGroup(){let r=this.products.map(o=>o.category),i=Array.from(new Set(r));this.categories=i,this.groupedProducts=this.products.reduce((o,s)=>{let a=s.category||"Uncategorized";return o[a]||(o[a]=[]),o[a].push(s),o},{}),console.log(this.groupedProducts)}chunkArray(r,i){return r.reduce((o,s,a)=>a%i?o:[...o,r.slice(a,a+i)],[])}navigate(r){this.route.navigate(["product",r])}};e.\u0275fac=function(i){return new(i||e)(Ie(ps),Ie(On))},e.\u0275cmp=ot({type:e,selectors:[["app-products"]],decls:5,vars:2,consts:[[1,"productsContainer"],[1,"containerTitle"],[4,"ngIf"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupTitle"],[1,"products"],[4,"ngFor","ngForOf"],[1,"productGroupWrapper"],[3,"product"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),F(2," PRODUCTS "),C(),dt(3,Pz,1,0,"app-loader",2)(4,Oz,5,2,"div",3),C()),i&2&&(se(3),Fe("ngIf",o.isLoading),se(),Fe("ngForOf",o.categories))},dependencies:[nr,rr,Pc,_g],styles:['.groupItems[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px}.productsContainer[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex;flex-direction:column;gap:20px}.groupTitle[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.groupTitle[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:2em;color:#000;text-align:center;margin-top:20px;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;position:relative}.groupTitle[_ngcontent-%COMP%]:before, .groupTitle[_ngcontent-%COMP%]:after{content:"";width:50px;height:3px;background-color:#000;display:inline-block;position:absolute;top:50%}.groupTitle[_ngcontent-%COMP%]:before{left:0;transform:translate(-120%)}.groupTitle[_ngcontent-%COMP%]:after{right:0;transform:translate(120%)}.containerTitle[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;font-weight:600}.productGroupWrapper[_ngcontent-%COMP%]{overflow-x:auto;width:100%;display:flex;gap:70px;flex-direction:row;scrollbar-width:none;-ms-overflow-style:none}.products[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:column;gap:20px;justify-content:center}.productGroup[_ngcontent-%COMP%]{padding:1%;box-shadow:0 0 20px #00000026;width:300px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:18px}.productImg[_ngcontent-%COMP%]{width:200px;display:block}.productImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}']});let t=e;return t})();var Ik=(()=>{let e=class e{constructor(){this.email="email@example.co"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-payment"]],decls:65,vars:1,consts:[[1,"payments"],["href","/cancellation-returns-lebanon"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"h1"),F(2,"Payments in Lebanon"),C(),b(3,"section")(4,"h2"),F(5,"Accepted Payment Method"),C(),b(6,"p"),F(7,"We currently accept the following payment method for orders within Lebanon:"),C(),b(8,"ul")(9,"li")(10,"strong"),F(11,"Cash on Delivery (COD)"),C(),F(12,": Pay with cash when your order is delivered to your doorstep."),C()()(),b(13,"section")(14,"h2"),F(15,"Payment Instructions"),C(),b(16,"h3"),F(17,"Cash on Delivery (COD)"),C(),b(18,"p"),F(19,"1. Select 'Cash on Delivery' during the checkout process."),C(),b(20,"p"),F(21,"2. Prepare the exact amount in cash to pay upon delivery, as our delivery personnel may not carry change."),C()(),b(22,"section")(23,"h2"),F(24,"Payment Policies"),C(),b(25,"p")(26,"strong"),F(27,"Payment Confirmation"),C(),F(28,": Our delivery personnel will provide you with a receipt upon receiving your payment."),C(),b(29,"p")(30,"strong"),F(31,"Refund Policy"),C(),F(32,": Refunds are handled in accordance with our "),b(33,"a",1),F(34,"Cancellation & Returns Policy"),C(),F(35,". Please contact our support team if you have any issues."),C(),b(36,"p")(37,"strong"),F(38,"Payment Security"),C(),F(39,": Paying with cash on delivery ensures that you only pay when you receive your order."),C()(),b(40,"section")(41,"h2"),F(42,"Frequently Asked Questions (FAQs)"),C(),b(43,"p")(44,"strong"),F(45,"Q: How do I select Cash on Delivery as my payment method?"),C(),ie(46,"br"),F(47,"A: During the checkout process, simply select 'Cash on Delivery' as your payment method."),C(),b(48,"p")(49,"strong"),F(50,"Q: Do I need to prepare the exact amount?"),C(),ie(51,"br"),F(52,"A: Yes, please prepare the exact amount as our delivery personnel may not have change."),C(),b(53,"p")(54,"strong"),F(55,"Q: What happens if I am not available to receive my order?"),C(),ie(56,"br"),F(57,"A: If you are not available, our delivery personnel will attempt to contact you to reschedule the delivery. Please ensure that you provide a valid phone number during checkout."),C()(),b(58,"section")(59,"h2"),F(60,"Contact Information"),C(),b(61,"p"),F(62,"If you have any questions or need assistance, please contact our support team:"),C(),b(63,"p"),F(64),C()()()),i&2&&(se(64),He(" Phone number : +9617677908 | Email : ",o.email,""))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}.payments[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a}.payments[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;color:#333;text-align:center;border-bottom:2px solid #eee;padding-bottom:10px}.payments[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;margin-bottom:10px;color:#555;border-bottom:1px solid #eee;padding-bottom:5px}.payments[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-top:15px;margin-bottom:5px;color:#666}.payments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#666;margin-bottom:10px}.payments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;color:#666}.payments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.payments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none}.payments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.payments[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.payments[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px;border:1px solid #eee;border-radius:4px}.payments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background:#1e90ff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;text-align:center;margin-top:20px}.payments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1c86ee}"]});let t=e;return t})();var Ak=(()=>{let e=class e{constructor(){this.email="email@example.com"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-cancellation"]],decls:39,vars:1,consts:[[1,"cancellation-returns"],[1,"contact-info"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"h1"),F(2,"Cancellation & Returns Policy"),C(),b(3,"section")(4,"h2"),F(5,"Order Cancellation"),C(),b(6,"p"),F(7,"You can cancel your order before it has been shipped. Once the order is shipped, cancellations are not allowed. To cancel your order, please contact our customer support team with your order details."),C()(),b(8,"section")(9,"h2"),F(10,"Return Policy"),C(),b(11,"p"),F(12,"If you receive a defective or incorrect product, you can return it within 7 days of delivery. The product must be in its original condition, with all tags and packaging intact."),C(),b(13,"h3"),F(14,"Steps to Initiate a Return"),C(),b(15,"p"),F(16,"1. Contact our customer support team within 7 days of delivery."),ie(17,"br"),F(18," 2. Provide your order number, details of the product, and the reason for return."),ie(19,"br"),F(20," 3. Our team will guide you through the return process."),C()(),b(21,"section")(22,"h2"),F(23,"Refund Policy"),C(),b(24,"p"),F(25,"Once we receive and inspect the returned product, we will process your refund within 7-10 business days. Refunds will be issued to the original method of payment or as store credit, as per your preference."),C()(),b(26,"section")(27,"h2"),F(28,"Exchange Policy"),C(),b(29,"p"),F(30,"If you would like to exchange a product, please contact our customer support team within 7 days of delivery. The product must be in its original condition, with all tags and packaging intact. Exchanges are subject to product availability."),C()(),b(31,"section")(32,"h2"),F(33,"Contact Information"),C(),b(34,"p"),F(35,"If you have any questions or need assistance with cancellations, returns, or exchanges, please contact our support team:"),C(),b(36,"div",1)(37,"p"),F(38),C()()()()),i&2&&(se(38),He("Phone: +961 123 456 | Email: ",o.email,""))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}.cancellation-returns[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a}.cancellation-returns[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;color:#333;text-align:center;border-bottom:2px solid #eee;padding-bottom:10px}.cancellation-returns[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;margin-bottom:10px;color:#555;border-bottom:1px solid #eee;padding-bottom:5px}.cancellation-returns[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-top:15px;margin-bottom:5px;color:#666}.cancellation-returns[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#666;margin-bottom:10px}.cancellation-returns[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;color:#666}.cancellation-returns[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.cancellation-returns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none}.cancellation-returns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.cancellation-returns[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.cancellation-returns[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px;border:1px solid #eee;border-radius:4px}"]});let t=e;return t})();var Sk=(()=>{let e=class e{constructor(){this.email="email@example.com"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-terms-and-condition"]],decls:62,vars:1,consts:[[1,"terms-conditions"],["href","/cancellation-returns-lebanon"],[1,"contact-info"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"h1"),F(2,"Terms & Conditions"),C(),b(3,"section")(4,"h2"),F(5,"Introduction"),C(),b(6,"p"),F(7,"Welcome to our website. By accessing and using this website, you agree to comply with and be bound by the following terms and conditions of use. If you disagree with any part of these terms and conditions, please do not use our website."),C()(),b(8,"section")(9,"h2"),F(10,"General Terms"),C(),b(11,"p"),F(12,"The content of the pages of this website is for your general information and use only. It is subject to change without notice."),C(),b(13,"p"),F(14,"Unauthorized use of this website may give rise to a claim for damages and/or be a criminal offense."),C(),b(15,"p"),F(16,"Your use of any information or materials on this website is entirely at your own risk, for which we shall not be liable. It shall be your own responsibility to ensure that any products, services, or information available through this website meet your specific requirements."),C()(),b(17,"section")(18,"h2"),F(19,"Product Information"),C(),b(20,"p"),F(21,"We strive to display as accurately as possible the colors and images of our products. We cannot guarantee that your computer monitor's display of any color will be accurate."),C(),b(22,"p"),F(23,"All descriptions of products or product pricing are subject to change at any time without notice, at our sole discretion. We reserve the right to discontinue any product at any time."),C()(),b(24,"section")(25,"h2"),F(26,"Pricing and Payment"),C(),b(27,"p"),F(28,"All prices are in Lebanese Pounds (LBP) and are subject to change without notice. Payment is due at the time of delivery (Cash on Delivery)."),C()(),b(29,"section")(30,"h2"),F(31,"Order Cancellation"),C(),b(32,"p"),F(33,"We reserve the right to refuse any order you place with us. We may, in our sole discretion, limit or cancel quantities purchased per person, per household, or per order. In the event that we make a change to or cancel an order, we may attempt to notify you by contacting the email and/or billing address/phone number provided at the time the order was made."),C()(),b(34,"section")(35,"h2"),F(36,"Returns and Refunds"),C(),b(37,"p"),F(38,"Please review our "),b(39,"a",1),F(40,"Cancellation & Returns Policy"),C(),F(41," for detailed information on how to return items and obtain refunds."),C()(),b(42,"section")(43,"h2"),F(44,"Intellectual Property"),C(),b(45,"p"),F(46,"All content included on this site, such as text, graphics, logos, images, and software, is the property of [Your Company Name] and protected by applicable copyright laws."),C(),b(47,"p"),F(48,"You may not reproduce, distribute, or create derivative works from any of the material on this site without the express written permission of [Your Company Name]."),C()(),b(49,"section")(50,"h2"),F(51,"Governing Law"),C(),b(52,"p"),F(53,"These terms and conditions are governed by and construed in accordance with the laws of Lebanon. You agree to submit to the exclusive jurisdiction of the courts located in Lebanon for any disputes arising out of or relating to the use of this website."),C()(),b(54,"section")(55,"h2"),F(56,"Contact Information"),C(),b(57,"p"),F(58,"If you have any questions about these Terms & Conditions, please contact us:"),C(),b(59,"div",2)(60,"p"),F(61),C()()()()),i&2&&(se(61),He(" Phone number : +9617677908 | Email : ",o.email,""))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}.terms-conditions[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a}.terms-conditions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;color:#333;text-align:center;border-bottom:2px solid #eee;padding-bottom:10px}.terms-conditions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;margin-bottom:10px;color:#555;border-bottom:1px solid #eee;padding-bottom:5px}.terms-conditions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#666;margin-bottom:10px}.terms-conditions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;color:#666}.terms-conditions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.terms-conditions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none}.terms-conditions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.terms-conditions[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.terms-conditions[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px;border:1px solid #eee;border-radius:4px}"]});let t=e;return t})();var Tk=(()=>{let e=class e{constructor(){this.email="example@example.com"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-privacy-and-policy"]],decls:62,vars:1,consts:[[1,"privacy-policy"],[1,"contact-info"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"h1"),F(2,"Privacy Policy"),C(),b(3,"section")(4,"h2"),F(5,"Introduction"),C(),b(6,"p"),F(7,"We value the privacy of our customers and are committed to protecting your personal information. This Privacy Policy outlines how we collect, use, and protect your information when you visit our website or make a purchase from our store."),C()(),b(8,"section")(9,"h2"),F(10,"Information We Collect"),C(),b(11,"p"),F(12,"We may collect the following types of information:"),C(),b(13,"ul")(14,"li")(15,"strong"),F(16,"Personal Information:"),C(),F(17," Name, email address, phone number, shipping address, and payment information."),C(),b(18,"li")(19,"strong"),F(20,"Non-Personal Information:"),C(),F(21," Browser type, IP address, and pages visited on our website."),C()()(),b(22,"section")(23,"h2"),F(24,"How We Use Your Information"),C(),b(25,"p"),F(26,"We use your information to:"),C(),b(27,"ul")(28,"li"),F(29,"Process and fulfill your orders."),C(),b(30,"li"),F(31,"Improve our website and customer service."),C(),b(32,"li"),F(33,"Send promotional emails about new products, special offers, or other information which we think you may find interesting."),C()()(),b(34,"section")(35,"h2"),F(36,"How We Protect Your Information"),C(),b(37,"p"),F(38,"We are committed to ensuring that your information is secure. To prevent unauthorized access or disclosure, we have put in place suitable physical, electronic, and managerial procedures to safeguard and secure the information we collect online."),C()(),b(39,"section")(40,"h2"),F(41,"Sharing Your Information"),C(),b(42,"p"),F(43,"We do not sell, trade, or otherwise transfer to outside parties your personal information, except when required by law or with your consent."),C()(),b(44,"section")(45,"h2"),F(46,"Cookies"),C(),b(47,"p"),F(48,"A cookie is a small file which asks permission to be placed on your computer's hard drive. Once you agree, the file is added and the cookie helps analyze web traffic or lets you know when you visit a particular site. We use traffic log cookies to identify which pages are being used. This helps us analyze data about webpage traffic and improve our website in order to tailor it to customer needs."),C()(),b(49,"section")(50,"h2"),F(51,"Links to Other Websites"),C(),b(52,"p"),F(53,"Our website may contain links to other websites of interest. However, once you have used these links to leave our site, you should note that we do not have any control over that other website. Therefore, we cannot be responsible for the protection and privacy of any information which you provide whilst visiting such sites."),C()(),b(54,"section")(55,"h2"),F(56,"Contact Information"),C(),b(57,"p"),F(58,"If you have any questions about this Privacy Policy, please contact us:"),C(),b(59,"div",1)(60,"p"),F(61),C()()()()),i&2&&(se(61),He(" Phone number : +9617677908 | Email : ",o.email,""))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}.privacy-policy[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a}.privacy-policy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;color:#333;text-align:center;border-bottom:2px solid #eee;padding-bottom:10px}.privacy-policy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;margin-bottom:10px;color:#555;border-bottom:1px solid #eee;padding-bottom:5px}.privacy-policy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#666;margin-bottom:10px}.privacy-policy[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;color:#666}.privacy-policy[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.privacy-policy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none}.privacy-policy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.privacy-policy[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.privacy-policy[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px}"]});let t=e;return t})();var Mk=(()=>{let e=class e{constructor(){this.email="example@example.com"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-faqs"]],decls:61,vars:1,consts:[[1,"faqs"],[1,"faq-item"],["href","/cancellation-returns-lebanon"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"h1"),F(2,"Frequently Asked Questions (FAQs)"),C(),b(3,"section")(4,"h2"),F(5,"Ordering"),C(),b(6,"div",1)(7,"h3"),F(8,"How do I place an order?"),C(),b(9,"p"),F(10,"You can place an order by browsing our products, adding items to your cart, and proceeding to checkout. Follow the on-screen instructions to complete your purchase."),C()(),b(11,"div",1)(12,"h3"),F(13,"Can I cancel my order?"),C(),b(14,"p"),F(15,"Yes, you can cancel your order before it has been shipped. Please contact our customer support team as soon as possible to request a cancellation."),C()()(),b(16,"section")(17,"h2"),F(18,"Payments"),C(),b(19,"div",1)(20,"h3"),F(21,"What payment methods do you accept?"),C(),b(22,"p"),F(23,"We currently accept Cash on Delivery (COD) for all orders within Lebanon."),C()()(),b(24,"section")(25,"h2"),F(26,"Shipping"),C(),b(27,"div",1)(28,"h3"),F(29,"Do you ship internationally?"),C(),b(30,"p"),F(31,"We currently only ship within Lebanon. We do not offer international shipping at this time."),C()(),b(32,"div",1)(33,"h3"),F(34,"How long will it take to receive my order?"),C(),b(35,"p"),F(36,"Orders are typically delivered within 3-5 business days. Delivery times may vary depending on your location."),C()()(),b(37,"section")(38,"h2"),F(39,"Returns & Exchanges"),C(),b(40,"div",1)(41,"h3"),F(42,"What is your return policy?"),C(),b(43,"p"),F(44,"You can return items within 7 days of delivery if they are defective or incorrect. Please review our "),b(45,"a",2),F(46,"Cancellation & Returns Policy"),C(),F(47," for more details."),C()(),b(48,"div",1)(49,"h3"),F(50,"How do I initiate a return?"),C(),b(51,"p"),F(52,"Contact our customer support team within 7 days of delivery to initiate a return. Provide your order number, details of the product, and the reason for return."),C()()(),b(53,"section")(54,"h2"),F(55,"Contact Information"),C(),b(56,"div",1)(57,"h3"),F(58,"How can I contact customer support?"),C(),b(59,"p"),F(60),C()()()()),i&2&&(se(60),He("You can reach our customer support team via phone at +961 123 456 or email at ",o.email,""))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}.faqs[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a}.faqs[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px;color:#333;text-align:center;border-bottom:2px solid #eee;padding-bottom:10px}.faqs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;margin-bottom:10px;color:#555;border-bottom:1px solid #eee;padding-bottom:5px}.faqs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-top:15px;margin-bottom:5px;color:#666}.faqs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#666;margin-bottom:10px}.faqs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;color:#666}.faqs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.faqs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none}.faqs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.faqs[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.faq-item[_ngcontent-%COMP%]{margin-bottom:20px}"]});let t=e;return t})();var kz={scrollPositionRestoration:"top",anchorScrolling:"enabled"},Vz=[{path:"",component:TP},{path:"about",component:MP},{path:"contact",component:fR},{path:"product/:id",component:pR},{path:"cart",component:gR},{path:"checkout",component:bk},{path:"products",component:Dk},{path:"payments",component:Ik},{path:"cancellation",component:Ak},{path:"terms-conditions",component:Sk},{path:"privacy-policy",component:Tk},{path:"faqs",component:Mk}],Fk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({imports:[k_.forRoot(Vz,kz),k_]});let t=e;return t})();function Lz(t,e){if(t&1){let n=Sr();b(0,"div",11)(1,"a",12),xt("click",function(){Pn(n);let i=Ft();return Rn(i.toggleMenu())}),F(2,"Home"),C(),b(3,"a",13),xt("click",function(){Pn(n);let i=Ft();return Rn(i.toggleMenu())}),F(4,"About"),C(),b(5,"a",14),xt("click",function(){Pn(n);let i=Ft();return Rn(i.toggleMenu())}),F(6,"Contact"),C(),b(7,"button",15),xt("click",function(){Pn(n);let i=Ft();return Rn(i.toggleMenu())}),F(8," Back "),C()()}}var Pk=(()=>{let e=class e{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-navbar"]],decls:16,vars:1,consts:[[1,"navbar-container"],[1,"navbar-logo"],["routerLink","/"],["src","../../assets/images/Eco Friendly Plant Illustration Word Mark Logo.webp","alt","logo",1,"nav-logo"],[1,"navbar-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/products"],[1,"navbar-icons"],["src","../../assets/images/menu.png",1,"nav-menu-icon",3,"click"],["class","navbar-menu ",4,"ngIf"],[1,"navbar-menu"],["routerLink","/",3,"click"],["routerLink","/about",3,"click"],["routerLink","/contact",3,"click"],[1,"backButton",3,"click"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"a",2),ie(3,"img",3),C()(),b(4,"div",4)(5,"a",2),F(6,"Home"),C(),b(7,"a",5),F(8,"About"),C(),b(9,"a",6),F(10,"Contact"),C(),b(11,"a",7),F(12,"Explore"),C()(),b(13,"div",8)(14,"img",9),xt("click",function(){return o.toggleMenu()}),C()(),dt(15,Lz,9,0,"div",10),C()),i&2&&(se(15),Fe("ngIf",o.isMenuOpen))},dependencies:[rr,Ho],styles:["*[_ngcontent-%COMP%]{font-weight:400;font-size:1.2rem}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:20px;position:relative}.nav-icon[_ngcontent-%COMP%]{width:31px;height:31px}.nav-menu-icon[_ngcontent-%COMP%]{display:none;width:20px;height:20px}.nav-icon[_ngcontent-%COMP%]:hover{scale:1.07}@media screen and (max-width: 425px){.nav-menu-icon[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.navbar-logo[_ngcontent-%COMP%]{width:70px;height:60px}.nav-logo[_ngcontent-%COMP%]{width:100%;height:100%}.navbar-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;align-items:center}.navbar-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:30px;align-items:center}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.07}@media (max-width: 425px){.navbar-links[_ngcontent-%COMP%]{display:none}}.navbar-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;width:100%;top:0;height:50vh;z-index:1000;background-color:#898484;color:#fff}.navbar-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:1001;color:#fff;padding:10px 20px;text-align:center;display:block}.backButton[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;padding:10px 20px;text-align:center;display:block}"]});let t=e;return t})();function jz(t,e){if(t&1&&(b(0,"div",9)(1,"div",10),F(2),C()()),t&2){let n=e.$implicit;se(),Fe("routerLink",n.route),se(),He(" ",n.name," ")}}function Uz(t,e){if(t&1&&(b(0,"div",5)(1,"div",6),F(2),C(),b(3,"div",7),dt(4,jz,3,2,"div",8),C()()),t&2){let n=e.$implicit;se(2),He(" ",n.title," "),se(2),Fe("ngForOf",n.links)}}function $z(t,e){if(t&1&&(b(0,"div",11),ie(1,"img",12),C()),t&2){let n=e.$implicit;se(),Fe("src",n,Ar)}}var Rk=(()=>{let e=class e{constructor(){this.links=[{title:"COMPANY INFO",links:[{name:"About Us",route:"/about"},{name:"Contact Us",route:"/contact"}]},{title:"HELP LINKS",links:[{name:"Payments",route:"/payments"},{name:"Cancellation & Returns",route:"/cancellation"}]},{title:"USEFUL LINKS",links:[{name:"Terms & Conditions",route:"/terms-conditions"},{name:"Privacy Policy ",route:"/privacy-policy"},{name:"FAQs ",route:"/faqs"}]}],this.payments=["../../assets/images/services2/cash-on-delivery.webp","../../assets/images/services2/dollar-symbol.webp","../../assets/images/services2/lebanese-pound.webp","../../assets/images/services2/whatsapp (1).webp"],this.form=new gs({email:new si("")})}click(){console.log("click")}onSubmit(){console.log(this.form)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["app-footer"]],decls:6,vars:2,consts:[[1,"footer-container"],[1,"footer-container-1"],["class","footerGroup",4,"ngFor","ngForOf"],[1,"footer-group-2"],["class","paymentsIcons",4,"ngFor","ngForOf"],[1,"footerGroup"],[1,"footerTitle"],[1,"footerDetails"],["class","oneLink",4,"ngFor","ngForOf"],[1,"oneLink"],[1,"",3,"routerLink"],[1,"paymentsIcons"],["alt","",3,"src"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),dt(2,Uz,5,2,"div",2),C(),b(3,"div",1)(4,"div",3),dt(5,$z,2,1,"div",4),C()()()),i&2&&(se(2),Fe("ngForOf",o.links),se(3),Fe("ngForOf",o.payments))},dependencies:[nr,Ho],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;flex-direction:column}.footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:20px;background-color:#e8e8e8;color:#000;padding:20px;gap:59px}.footer-container-1[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-top:20px;flex-wrap:wrap;gap:20px;color:#000}@media screen and (max-width: 768px){.footer-container[_ngcontent-%COMP%]{flex-direction:column}}.footerGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1.2rem;gap:10px}.oneLink[_ngcontent-%COMP%]{font-size:small;cursor:pointer}.oneLink[_ngcontent-%COMP%]:hover{color:#acacac}.footerDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:3px;font-size:2px}.horizontal-line[_ngcontent-%COMP%]{display:block;width:100%;height:1px;background-color:#000;margin:20px 0}.emailInput[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:1px solid black}.emailGroup[_ngcontent-%COMP%]{display:flex;align-items:center}.emailInput[_ngcontent-%COMP%]:focus{border-bottom:1px solid black;outline:none;border:none}.subscribeButton[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer;display:flex;align-items:center}.paymentsIcons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.subscribeButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}.footer-group-2[_ngcontent-%COMP%]{width:100%;padding-right:13vw;display:flex;flex-direction:row;justify-content:end;align-items:end;gap:10px}"]});let t=e;return t})();var Nk=(()=>{let e=class e{constructor(r,i){this.productService=r,this.dataService=i,this.title="my-first-app"}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(Ie(ps),Ie(Rg))},e.\u0275cmp=ot({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(i,o){i&1&&ie(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[T_,Pk,Rk],styles:['@font-face{font-family:Fjalla One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/fjallaone/v15/Yq6R-LCAWCX3-6Ky7FAFrOx6kigt.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Fjalla One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/fjallaone/v15/Yq6R-LCAWCX3-6Ky7FAFrO56kigt.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Fjalla One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/fjallaone/v15/Yq6R-LCAWCX3-6Ky7FAFrO96kigt.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Fjalla One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/fjallaone/v15/Yq6R-LCAWCX3-6Ky7FAFrOF6kg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{font-family:Fjalla One,sans-serif;font-weight:400;font-style:normal;font-display:swap}']});let t=e;return t})();var Ze=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ze||{}),ji="*";function Ok(t,e=null){return{type:Ze.Sequence,steps:t,options:e}}function RC(t){return{type:Ze.Style,styles:t,offset:null}}var Es=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},rh=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},zg="!";function kk(t){return new te(3e3,!1)}function zz(){return new te(3100,!1)}function Gz(){return new te(3101,!1)}function Hz(t){return new te(3001,!1)}function Wz(t){return new te(3003,!1)}function Kz(t){return new te(3004,!1)}function Qz(t,e){return new te(3005,!1)}function Yz(){return new te(3006,!1)}function Jz(){return new te(3007,!1)}function Zz(t,e){return new te(3008,!1)}function Xz(t){return new te(3002,!1)}function eG(t,e,n,r,i){return new te(3010,!1)}function tG(){return new te(3011,!1)}function nG(){return new te(3012,!1)}function rG(){return new te(3200,!1)}function iG(){return new te(3202,!1)}function oG(){return new te(3013,!1)}function sG(t){return new te(3014,!1)}function aG(t){return new te(3015,!1)}function lG(t){return new te(3016,!1)}function cG(t,e){return new te(3404,!1)}function uG(t){return new te(3502,!1)}function dG(t){return new te(3503,!1)}function hG(){return new te(3300,!1)}function fG(t){return new te(3504,!1)}function pG(t){return new te(3301,!1)}function mG(t,e){return new te(3302,!1)}function gG(t){return new te(3303,!1)}function yG(t,e){return new te(3400,!1)}function vG(t){return new te(3401,!1)}function _G(t){return new te(3402,!1)}function EG(t,e){return new te(3505,!1)}function ws(t){switch(t.length){case 0:return new Es;case 1:return t[0];default:return new rh(t)}}function Yk(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==s,f=d&&a||new Map;l.forEach((g,x)=>{let P=x,N=g;if(x!=="offset")switch(P=t.normalizePropertyName(P,i),N){case zg:N=n.get(x);break;case ji:N=r.get(x);break;default:N=t.normalizeStyleValue(x,P,N,i);break}f.set(P,N)}),d||o.push(f),a=f,s=u}),i.length)throw uG(i);return o}function nb(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&NC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&NC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&NC(n,"destroy",t)));break}}function NC(t,e,n){let r=n.totalTime,i=!!n.disabled,o=rb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function rb(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function mr(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function Vk(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var wG=typeof document>"u"?null:document.documentElement;function ib(t){let e=t.parentNode||t.host||null;return e===wG?null:e}function xG(t){return t.substring(1,6)=="ebkit"}var Ma=null,Lk=!1;function CG(t){Ma||(Ma=bG()||{},Lk=Ma.style?"WebkitAppearance"in Ma.style:!1);let e=!0;return Ma.style&&!xG(t)&&(e=t in Ma.style,!e&&Lk&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ma.style)),e}function bG(){return typeof document<"u"?document.body:null}function Jk(t,e){for(;e;){if(e===t)return!0;e=ib(e)}return!1}function Zk(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var ob=(()=>{let e=class e{validateStyleProperty(r){return CG(r)}matchesElement(r,i){return!1}containsElement(r,i){return Jk(r,i)}getParentElement(r){return ib(r)}query(r,i,o){return Zk(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,l=[],u){return new Es(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),cb=class cb{};cb.NOOP=new ob;var Ra=cb,Na=class{};var DG=1e3,Xk="{{",IG="}}",e2="ng-enter",jC="ng-leave",Gg="ng-trigger",Yg=".ng-trigger",Bk="ng-animating",UC=".ng-animating";function yo(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$C(parseFloat(e[1]),e[2])}function $C(t,e){switch(e){case"s":return t*DG;default:return t}}function Jg(t,e,n){return t.hasOwnProperty("duration")?t:AG(t,e,n)}function AG(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(kk(t)),{duration:0,delay:0,easing:""};i=$C(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=$C(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(zz()),a=!0),o<0&&(e.push(Gz()),a=!0),a&&e.splice(l,0,kk(t))}return{duration:i,delay:o,easing:s}}function SG(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ui(t,e,n){e.forEach((r,i)=>{let o=sb(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Pa(t,e){e.forEach((n,r)=>{let i=sb(r);t.style[i]=""})}function ih(t){return Array.isArray(t)?t.length==1?t[0]:Ok(t):t}function TG(t,e,n){let r=e.params||{},i=t2(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(Hz(o))})}var qC=new RegExp(`${Xk}\\s*(.+?)\\s*${IG}`,"g");function t2(t){let e=[];if(typeof t=="string"){let n;for(;n=qC.exec(t);)e.push(n[1]);qC.lastIndex=0}return e}function sh(t,e,n){let r=`${t}`,i=r.replace(qC,(o,s)=>{let a=e[s];return a==null&&(n.push(Wz(s)),a=""),a.toString()});return i==r?t:i}var MG=/-+([a-z0-9])/g;function sb(t){return t.replace(MG,(...e)=>e[1].toUpperCase())}function FG(t,e){return t===0||e===0}function PG(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,ab(t,a)))}}return e}function pr(t,e,n){switch(e.type){case Ze.Trigger:return t.visitTrigger(e,n);case Ze.State:return t.visitState(e,n);case Ze.Transition:return t.visitTransition(e,n);case Ze.Sequence:return t.visitSequence(e,n);case Ze.Group:return t.visitGroup(e,n);case Ze.Animate:return t.visitAnimate(e,n);case Ze.Keyframes:return t.visitKeyframes(e,n);case Ze.Style:return t.visitStyle(e,n);case Ze.Reference:return t.visitReference(e,n);case Ze.AnimateChild:return t.visitAnimateChild(e,n);case Ze.AnimateRef:return t.visitAnimateRef(e,n);case Ze.Query:return t.visitQuery(e,n);case Ze.Stagger:return t.visitStagger(e,n);default:throw Kz(e.type)}}function ab(t,e){return window.getComputedStyle(t)[e]}var RG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Zg=class extends Na{normalizePropertyName(e,n){return sb(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(RG.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Qz(e,r))}return s+o}};var Xg="*";function NG(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>OG(r,n,e)):n.push(t),n}function OG(t,e,n){if(t[0]==":"){let l=kG(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(aG(t)),e;let i=r[1],o=r[2],s=r[3];e.push(jk(i,s));let a=i==Xg&&s==Xg;o[0]=="<"&&!a&&e.push(jk(s,i))}function kG(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(lG(t)),"* => *"}}var Hg=new Set(["true","1"]),Wg=new Set(["false","0"]);function jk(t,e){let n=Hg.has(t)||Wg.has(t),r=Hg.has(e)||Wg.has(e);return(i,o)=>{let s=t==Xg||t==i,a=e==Xg||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?Hg.has(t):Wg.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?Hg.has(e):Wg.has(e)),s&&a}}var n2=":self",VG=new RegExp(`s*${n2}s*,?`,"g");function r2(t,e,n,r){return new zC(t).build(e,n,r)}var Uk="",zC=class{constructor(e){this._driver=e}build(e,n,r){let i=new GC(n);return this._resetContextStyleTimingState(i),pr(this,ih(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Uk,e.collectedStyles=new Map,e.collectedStyles.set(Uk,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(Yz()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Ze.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,n))}),l.name=u}else if(a.type==Ze.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(Jz())}),{type:Ze.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{t2(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(Zz(e.name,[...o.values()]))}return{type:Ze.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=pr(this,ih(e.animation),n),i=NG(e.expr,n.errors);return{type:Ze.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Fa(e.options)}}visitSequence(e,n){return{type:Ze.Sequence,steps:e.steps.map(r=>pr(this,r,n)),options:Fa(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=pr(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Ze.Group,steps:o,options:Fa(e.options)}}visitAnimate(e,n){let r=UG(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:RC({});if(o.type==Ze.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=RC(u)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Ze.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ji?r.push(a):n.errors.push(Xz(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Xk)>=0){o=!0;break}}}),{type:Ze.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(l),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(n.errors.push(eG(l,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(l,{startTime:o,endTime:i}),n.options&&TG(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:Ze.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(tG()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,d=e.steps.map(z=>{let ee=this._makeStyleAst(z,n),R=ee.offset!=null?ee.offset:jG(ee.styles),Z=0;return R!=null&&(o++,Z=ee.offset=R),l=l||Z<0||Z>1,a=a||Z<u,u=Z,s.push(Z),ee});l&&n.errors.push(nG()),a&&n.errors.push(rG());let f=e.steps.length,g=0;o>0&&o<f?n.errors.push(iG()):o==0&&(g=i/(f-1));let x=f-1,P=n.currentTime,N=n.currentAnimateTimings,V=N.duration;return d.forEach((z,ee)=>{let R=g>0?ee==x?1:g*ee:s[ee],Z=R*V;n.currentTime=P+N.delay+Z,N.duration=Z,this._validateStyleAst(z,n),z.offset=R,r.styles.push(z)}),r}visitReference(e,n){return{type:Ze.Reference,animation:pr(this,ih(e.animation),n),options:Fa(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ze.AnimateChild,options:Fa(e.options)}}visitAnimateRef(e,n){return{type:Ze.AnimateRef,animation:this.visitReference(e.animation,n),options:Fa(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=LG(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,mr(n.collectedStyles,n.currentQuerySelector,new Map);let a=pr(this,ih(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Ze.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Fa(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(oG());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Jg(e.timings,n.errors,!0);return{type:Ze.Stagger,animation:pr(this,ih(e.animation),n),timings:r,options:null}}};function LG(t){let e=!!t.split(/\s*,\s*/).find(n=>n==n2);return e&&(t=t.replace(VG,"")),t=t.replace(/@\*/g,Yg).replace(/@\w+/g,n=>Yg+"-"+n.slice(1)).replace(/:animating/g,UC),[t,e]}function BG(t){return t?de({},t):null}var GC=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function jG(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function UG(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Jg(t,e).duration;return OC(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=OC(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=Jg(n,e);return OC(i.duration,i.delay,i.easing)}function Fa(t){return t?(t=de({},t),t.params&&(t.params=BG(t.params))):t={},t}function OC(t,e,n){return{duration:t,delay:e,easing:n}}function lb(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var ah=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},$G=1,qG=":enter",zG=new RegExp(qG,"g"),GG=":leave",HG=new RegExp(GG,"g");function i2(t,e,n,r,i,o=new Map,s=new Map,a,l,u=[]){return new HC().buildKeyframes(t,e,n,r,i,o,s,a,l,u)}var HC=class{buildKeyframes(e,n,r,i,o,s,a,l,u,d=[]){u=u||new ah;let f=new WC(e,n,u,i,o,d,[]);f.options=l;let g=l.delay?yo(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,l),pr(this,r,f);let x=f.timelines.filter(P=>P.containsAnimation());if(x.length&&a.size){let P;for(let N=x.length-1;N>=0;N--){let V=x[N];if(V.element===n){P=V;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([a],null,f.errors,l)}return x.length?x.map(P=>P.buildKeyframes()):[lb(n,[],[],[],0,g,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:yo(sh(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?yo(r.duration):null,a=r.delay!=null?yo(r.delay):null;return s!==0&&e.forEach(l=>{let u=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),pr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ze.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ey);let s=yo(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pr(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?yo(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),pr(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?sh(r,n.params,n.errors):r;return Jg(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ze.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?yo(i.delay):0;o&&(n.previousNode.type===Ze.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ey);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{n.currentQueryIndex=d;let f=n.createSubContext(e.options,u);o&&f.delayNextStep(o),u===n.element&&(l=f.currentTimeline),pr(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=n.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;pr(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},ey={},WC=class t{constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ey,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ty(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=yo(r.duration)),r.delay!=null&&(i.delay=yo(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=sh(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ey,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new KC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(zG,"."+this._enterClassName),e=e.replace(HG,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(sG(n)),a}},ty=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$G,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||ji),this._currentKeyframe.set(n,ji);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=WG(e,this._globalTimelineStyles);for(let[a,l]of s){let u=sh(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ji),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===zg?e.add(f):d===ji&&n.add(f)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return lb(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},KC=class extends ty{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",$k(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),x=g.get("offset"),P=n+x*r;g.set("offset",$k(P/s)),o.push(g)}r=s,n=0,i="",e=o}return lb(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function $k(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function WG(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,ji)}else for(let[o,s]of i)n.set(o,s)}),n}function qk(t,e,n,r,i,o,s,a,l,u,d,f,g){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var kC={},ny=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return KG(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,u,d){let f=[],g=this.ast.options&&this.ast.options.params||kC,x=a&&a.params||kC,P=this.buildStyles(r,x,f),N=l&&l.params||kC,V=this.buildStyles(i,N,f),z=new Set,ee=new Map,R=new Map,Z=i==="void",Ee={params:o2(N,g),delay:this.ast.options?.delay},fe=d?[]:i2(e,n,this.ast.animation,o,s,P,V,Ee,u,f),S=0;return fe.forEach(D=>{S=Math.max(D.duration+D.delay,S)}),f.length?qk(n,this._triggerName,r,i,Z,P,V,[],[],ee,R,S,f):(fe.forEach(D=>{let T=D.element,O=mr(ee,T,new Set);D.preStyleProps.forEach(B=>O.add(B));let L=mr(R,T,new Set);D.postStyleProps.forEach(B=>L.add(B)),T!==n&&z.add(T)}),qk(n,this._triggerName,r,i,Z,P,V,fe,[...z.values()],ee,R,S))}};function KG(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function o2(t,e){let n=de({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var QC=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=o2(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=sh(s,i,n));let l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}};function QG(t,e,n){return new YC(t,e,n)}var YC=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new QC(i.style,o,r))}),zk(this.states,"true","1"),zk(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new ny(e,i,this.states))}),this.fallbackTransition=YG(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function YG(t,e,n){let r=[(s,a)=>!0],i={type:Ze.Sequence,steps:[],options:null},o={type:Ze.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ny(t,o,e)}function zk(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var JG=new ah,JC=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=r2(this._driver,n,r,i);if(r.length)throw dG(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=Yk(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=i2(this._driver,n,o,e2,jC,new Map,new Map,r,JG,i),s.forEach(d=>{let f=mr(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(hG()),s=[]),i.length)throw fG(i);a.forEach((d,f)=>{d.forEach((g,x)=>{d.set(x,this._driver.computeStyle(f,x,ji))})});let l=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=ws(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw pG(e);return n}listen(e,n,r,i){let o=rb(n,"","","");return nb(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Gk="ng-animate-queued",ZG=".ng-animate-queued",VC="ng-animate-disabled",XG=".ng-animate-disabled",eH="ng-star-inserted",tH=".ng-star-inserted",nH=[],s2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},li="__ng_removed",lh=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=oH(i),r){let o=e,{value:s}=o,a=hy(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},oh="void",LC=new lh(oh),ZC=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Nr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw mG(r,n);if(r==null||r.length==0)throw gG(n);if(!sH(r))throw yG(r,n);let o=mr(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=mr(this._engine.statesByElement,e,new Map);return a.has(n)||(Nr(e,Gg),Nr(e,Gg+"-"+n),a.set(n,LC)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw vG(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new ch(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Nr(e,Gg),Nr(e,Gg+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),u=new lh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=LC),!(u.value===oh)&&l.value===u.value){if(!cH(l.params,u.params)){let N=[],V=o.matchStyles(l.value,l.params,N),z=o.matchStyles(u.value,u.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Pa(e,V),Ui(e,z)})}return}let g=mr(this._engine.playersByElement,e,[]);g.forEach(N=>{N.namespaceId==this.id&&N.triggerName==n&&N.queued&&N.destroy()});let x=o.matchTransition(l.value,u.value,e,u.params),P=!1;if(!x){if(!i)return;x=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:x,fromState:l,toState:u,player:s,isFallbackTransition:P}),P||(Nr(e,Gk),s.onStart(()=>{Uc(e,Gk)})),s.onDone(()=>{let N=this.players.indexOf(s);N>=0&&this.players.splice(N,1);let V=this._engine.playersByElement.get(e);if(V){let z=V.indexOf(s);z>=0&&V.splice(z,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Yg,!0);r.forEach(i=>{if(i[li])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,oh,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&ws(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||LC,d=new lh(oh),f=new ch(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[li];(!o||o===s2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Nr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=rb(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,nb(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},XC=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new ZC(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(Kg(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Kg(n))return;let o=n[li];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nr(e,VC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uc(e,VC))}removeNode(e,n,r){if(Kg(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[li]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return Kg(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Yg,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,UC,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ws(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[li];if(n&&n.setForRemoval){if(e[li]=s2,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(VC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,XG,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Nr(i,eH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ws(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw _G(e)}_flushAnimations(e,n){let r=new ah,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ge=>{d.add(ge);let we=this.driver.query(ge,ZG,!0);for(let be=0;be<we.length;be++)d.add(we[be])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),x=Kk(g,this.collectedEnterElements),P=new Map,N=0;x.forEach((ge,we)=>{let be=e2+N++;P.set(we,be),ge.forEach(Le=>Nr(Le,be))});let V=[],z=new Set,ee=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){let we=this.collectedLeaveElements[ge],be=we[li];be&&be.setForRemoval&&(V.push(we),z.add(we),be.hasAnimation?this.driver.query(we,tH,!0).forEach(Le=>z.add(Le)):ee.add(we))}let R=new Map,Z=Kk(g,Array.from(z));Z.forEach((ge,we)=>{let be=jC+N++;R.set(we,be),ge.forEach(Le=>Nr(Le,be))}),e.push(()=>{x.forEach((ge,we)=>{let be=P.get(we);ge.forEach(Le=>Uc(Le,be))}),Z.forEach((ge,we)=>{let be=R.get(we);ge.forEach(Le=>Uc(Le,be))}),V.forEach(ge=>{this.processLeaveNode(ge)})});let Ee=[],fe=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(n).forEach(be=>{let Le=be.player,Rt=be.element;if(Ee.push(Le),this.collectedEnterElements.length){let Ct=Rt[li];if(Ct&&Ct.setForMove){if(Ct.previousTriggersValues&&Ct.previousTriggersValues.has(be.triggerName)){let gr=Ct.previousTriggersValues.get(be.triggerName),mn=this.statesByElement.get(be.element);if(mn&&mn.has(be.triggerName)){let yr=mn.get(be.triggerName);yr.value=gr,mn.set(be.triggerName,yr)}}Le.destroy();return}}let Bn=!f||!this.driver.containsElement(f,Rt),Tt=R.get(Rt),Et=P.get(Rt),wt=this._buildInstruction(be,r,Et,Tt,Bn);if(wt.errors&&wt.errors.length){fe.push(wt);return}if(Bn){Le.onStart(()=>Pa(Rt,wt.fromStyles)),Le.onDestroy(()=>Ui(Rt,wt.toStyles)),i.push(Le);return}if(be.isFallbackTransition){Le.onStart(()=>Pa(Rt,wt.fromStyles)),Le.onDestroy(()=>Ui(Rt,wt.toStyles)),i.push(Le);return}let kr=[];wt.timelines.forEach(Ct=>{Ct.stretchStartingKeyframe=!0,this.disabledNodes.has(Ct.element)||kr.push(Ct)}),wt.timelines=kr,r.append(Rt,wt.timelines);let xs={instruction:wt,player:Le,element:Rt};s.push(xs),wt.queriedElements.forEach(Ct=>mr(a,Ct,[]).push(Le)),wt.preStyleProps.forEach((Ct,gr)=>{if(Ct.size){let mn=l.get(gr);mn||l.set(gr,mn=new Set),Ct.forEach((yr,ar)=>mn.add(ar))}}),wt.postStyleProps.forEach((Ct,gr)=>{let mn=u.get(gr);mn||u.set(gr,mn=new Set),Ct.forEach((yr,ar)=>mn.add(ar))})});if(fe.length){let ge=[];fe.forEach(we=>{ge.push(EG(we.triggerName,we.errors))}),Ee.forEach(we=>we.destroy()),this.reportError(ge)}let S=new Map,D=new Map;s.forEach(ge=>{let we=ge.element;r.has(we)&&(D.set(we,we),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,S))}),i.forEach(ge=>{let we=ge.element;this._getPreviousPlayers(we,!1,ge.namespaceId,ge.triggerName,null).forEach(Le=>{mr(S,we,[]).push(Le),Le.destroy()})});let T=V.filter(ge=>Qk(ge,l,u)),O=new Map;Wk(O,this.driver,ee,u,ji).forEach(ge=>{Qk(ge,l,u)&&T.push(ge)});let B=new Map;x.forEach((ge,we)=>{Wk(B,this.driver,new Set(ge),l,zg)}),T.forEach(ge=>{let we=O.get(ge),be=B.get(ge);O.set(ge,new Map([...we?.entries()??[],...be?.entries()??[]]))});let M=[],pn=[],Or={};s.forEach(ge=>{let{element:we,player:be,instruction:Le}=ge;if(r.has(we)){if(d.has(we)){be.onDestroy(()=>Ui(we,Le.toStyles)),be.disabled=!0,be.overrideTotalTime(Le.totalTime),i.push(be);return}let Rt=Or;if(D.size>1){let Tt=we,Et=[];for(;Tt=Tt.parentNode;){let wt=D.get(Tt);if(wt){Rt=wt;break}Et.push(Tt)}Et.forEach(wt=>D.set(wt,Rt))}let Bn=this._buildAnimation(be.namespaceId,Le,S,o,B,O);if(be.setRealPlayer(Bn),Rt===Or)M.push(be);else{let Tt=this.playersByElement.get(Rt);Tt&&Tt.length&&(be.parentPlayer=ws(Tt)),i.push(be)}}else Pa(we,Le.fromStyles),be.onDestroy(()=>Ui(we,Le.toStyles)),pn.push(be),d.has(we)&&i.push(be)}),pn.forEach(ge=>{let we=o.get(ge.element);if(we&&we.length){let be=ws(we);ge.setRealPlayer(be)}}),i.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<V.length;ge++){let we=V[ge],be=we[li];if(Uc(we,jC),be&&be.hasAnimation)continue;let Le=[];if(a.size){let Bn=a.get(we);Bn&&Bn.length&&Le.push(...Bn);let Tt=this.driver.query(we,UC,!0);for(let Et=0;Et<Tt.length;Et++){let wt=a.get(Tt[Et]);wt&&wt.length&&Le.push(...wt)}}let Rt=Le.filter(Bn=>!Bn.destroyed);Rt.length?aH(this,we,Rt):this.processLeaveNode(we)}return V.length=0,M.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();let we=this.players.indexOf(ge);this.players.splice(we,1)}),ge.play()}),M}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==oh;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let u=l.element,d=u!==o,f=mr(r,u,[]);this._getPreviousPlayers(u,d,s,a,n.toState).forEach(x=>{let P=x.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),x.destroy(),f.push(x)})}Pa(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,l=n.element,u=[],d=new Set,f=new Set,g=n.timelines.map(P=>{let N=P.element;d.add(N);let V=N[li];if(V&&V.removedBeforeQueried)return new Es(P.duration,P.delay);let z=N!==l,ee=lH((r.get(N)||nH).map(S=>S.getRealPlayer())).filter(S=>{let D=S;return D.element?D.element===N:!1}),R=o.get(N),Z=s.get(N),Ee=Yk(this._normalizer,P.keyframes,R,Z),fe=this._buildPlayer(P,Ee,ee);if(P.subTimeline&&i&&f.add(N),z){let S=new ch(e,a,N);S.setRealPlayer(fe),u.push(S)}return fe});u.forEach(P=>{mr(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>iH(this.playersByQueriedElement,P.element,P))}),d.forEach(P=>Nr(P,Bk));let x=ws(g);return x.onDestroy(()=>{d.forEach(P=>Uc(P,Bk)),Ui(l,n.toStyles)}),f.forEach(P=>{mr(i,P,[]).push(x)}),x}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Es(e.duration,e.delay)}},ch=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Es,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>nb(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){mr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function iH(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function oH(t){return t??null}function Kg(t){return t&&t.nodeType===1}function sH(t){return t=="start"||t=="done"}function Hk(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Wk(t,e,n,r,i){let o=[];n.forEach(l=>o.push(Hk(l)));let s=[];r.forEach((l,u)=>{let d=new Map;l.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[li]=rH,s.push(u))}),t.set(u,d)});let a=0;return n.forEach(l=>Hk(l,o[a++])),s}function Kk(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return n.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&n.get(l).push(a)}),n}function Nr(t,e){t.classList?.add(e)}function Uc(t,e){t.classList?.remove(e)}function aH(t,e,n){ws(n).onDone(()=>t.processLeaveNode(e))}function lH(t){let e=[];return a2(t,e),e}function a2(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof rh?a2(r.players,e):e.push(r)}}function cH(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function Qk(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var qc=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new XC(e.body,n,r,i),this._timelineEngine=new JC(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],d=r2(this._driver,o,l,u);if(l.length)throw cG(i,l);u.length&&void 0,a=QG(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=Vk(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Vk(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function uH(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=BC(e[0]),e.length>1&&(r=BC(e[e.length-1]))):e instanceof Map&&(n=BC(e)),n||r?new eb(t,n,r):null}var $c=class $c{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=$c.initialStylesByElement.get(e);i||$c.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($c.initialStylesByElement.delete(this._element),this._startStyles&&(Pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}};$c.initialStylesByElement=new WeakMap;var eb=$c;function BC(t){let e=null;return t.forEach((n,r)=>{dH(r)&&(e=e||new Map,e.set(r,n))}),e}function dH(t){return t==="display"||t==="position"}var ry=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:ab(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},iy=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return Jk(e,n)}getParentElement(e){return ib(e)}query(e,n,r){return Zk(e,n,r)}computeStyle(e,n,r){return ab(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,d=s.filter(x=>x instanceof ry);FG(r,i)&&d.forEach(x=>{x.currentSnapshot.forEach((P,N)=>u.set(N,P))});let f=SG(n).map(x=>new Map(x));f=PG(e,f,u);let g=uH(e,f);return new ry(e,f,l,g)}};var Qg="@",l2="@.disabled",oy=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Qg&&n==l2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},tb=class extends oy{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Qg?n.charAt(1)=="."&&n==l2?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Qg){let i=hH(e),o=n.slice(1),s="";return o.charAt(0)!=Qg&&([o,s]=fH(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function hH(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function fH(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var sy=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new oy(r,i,this.engine,f),u.set(i,d)}return d}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(a),new tb(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var mH=(()=>{let e=class e extends qc{constructor(r,i,o){super(r,i,o,oe(_l,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(X(vn),X(Ra),X(Na))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function gH(){return new Zg}function yH(t,e,n){return new sy(t,e,n)}var u2=[{provide:Na,useFactory:gH},{provide:qc,useClass:mH},{provide:Gs,useFactory:yH,deps:[xp,qc,et]}],c2=[{provide:Ra,useFactory:()=>new iy},{provide:ov,useValue:"BrowserAnimations"},...u2],vH=[{provide:Ra,useClass:ob},{provide:ov,useValue:"NoopAnimations"},...u2],d2=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?vH:c2}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Lt({providers:c2,imports:[bp]});let t=e;return t})();var h2={production:!1,firebase:{apiKey:"AIzaSyCbnUw7AyhEE7MQbeQRi8qDDiRmNSv9nh4",authDomain:"angular-guide-1cad4.firebaseapp.com",databaseURL:"https://angular-guide-1cad4-default-rtdb.firebaseio.com",projectId:"angular-guide-1cad4",storageBucket:"angular-guide-1cad4.appspot.com",messagingSenderId:"169564080660",appId:"1:169564080660:web:eeb4b1768da588182ef501",measurementId:"G-2RSYW8TFZX"}};var f2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e,bootstrap:[Nk]}),e.\u0275inj=Lt({imports:[d2,dR,hR,bp,PS,Fk,GT.initializeApp(h2.firebase)]});let t=e;return t})();BS().bootstrapModule(f2).catch(t=>console.error(t));
